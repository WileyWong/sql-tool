---
change_id: RC-018
change_title: 多语言支持（国际化 / i18n）
change_status: clarified
document_type: requirements-clarification
stage: requirements
created_at: 2026-01-29T10:00:00Z
updated_at: 2026-01-29T11:00:00Z
author: AI Assistant
source_documents:
  - type: requirements_change
    path: requirements/requirements_change/requirements_change_18.md
version: 2.0
---

# RC-018 需求澄清文档

## 执行策略

**推进方式**: 一次性全部确认（适合快速闭环）

**澄清范围**: 业务逻辑和功能性需求（不涉及技术实现、接口设计、性能、安全等）

---

## [CLARIFIED] 业务规则: 语言切换生效时机

**当前描述**: 需求文档中描述"选择语言后，点击'应用'按钮才生效"

**关联功能**: 设置对话框（2.3.1）

**已确认方案**: **方案A: 即时切换，无需刷新**
- 点击"应用"后，所有界面文本立即切换为新语言
- 优点: 用户体验最佳，无感知切换
- 实现: vue-i18n 原生支持响应式切换

---

## [CLARIFIED] 业务规则: Element Plus 组件语言同步

**当前描述**: 需求文档提到 Element Plus 国际化，但未明确同步机制

**关联功能**: 所有使用 Element Plus 组件的界面

**已确认方案**: **方案A: 完全同步**
- Element Plus 组件语言与应用语言完全同步切换
- 实现: 配置 Element Plus 国际化

---

## [CLARIFIED] 数据模型: 繁体中文语言包内容来源

**当前描述**: 需求支持繁体中文（zh-TW），但未说明翻译来源

**关联功能**: 语言包（3.3）

**已确认方案**: **方案A: 使用简体转繁体工具自动转换**
- 基于简体中文语言包自动转换为繁体
- 后续可根据用户反馈优化

---

## [CLARIFIED] 异常边界: 语言包加载失败处理

**当前描述**: 需求未说明语言包加载失败时的处理方式

**关联功能**: 初始化逻辑（2.3.3）

**已确认方案**: **方案A: 回退到英文（en-US）**
- 语言包加载失败时，自动回退到英文
- 英文作为默认回退语言，在需求中已定义

---

## [CLARIFIED] 业务规则: 设置对话框扩展性设计

**当前描述**: 设置对话框左侧导航"预留扩展空间"，当前仅"语言"一项

**关联功能**: 设置对话框（2.3.1）

**已确认方案**: **方案A: 仅实现语言设置**
- 当前版本只显示"语言"一项，后续需要时再扩展
- 遵循 YAGNI 原则，避免过度设计

---

## [CLARIFIED] 业务规则: 系统语言检测逻辑

**当前描述**: "默认语言：跟随系统语言，如系统语言不在支持列表中则使用英文"

**关联功能**: 初始化逻辑（2.3.3）

**已确认方案**: **方案B: 智能匹配**
- `zh-HK` → 繁体中文 `zh-TW`
- `zh` → 简体中文 `zh-CN`
- `en-*` → 英文 `en-US`
- 其他 → 英文 `en-US`

---

## [CLARIFIED] 业务规则: 菜单国际化实现方式

**当前描述**: 菜单文本在主进程中硬编码为中文

**关联功能**: 应用菜单

**已确认方案**: **方案A: 在主进程实现菜单国际化**
- 通过 IPC 通信获取语言设置
- 统一管理语言包

---

## [CLARIFIED] 业务规则: 对话框国际化

**当前描述**: showMessageBox 等 Electron 原生对话框文本硬编码

**关联功能**: 关于对话框、确认对话框等

**已确认方案**: **方案A: 完全国际化**
- 所有对话框文本都从语言包读取

---

## 澄清摘要报告

### 统计
| 状态 | 数量 |
|------|------|
| 待澄清 (NEEDS CLARIFICATION) | 0 |
| 已澄清 (CLARIFIED) | 8 |
| 无需澄清 (NOT-NEEDED) | 0 |

### 已确认问题清单

| 编号 | 类别 | 问题 | 确认方案 |
|------|------|------|----------|
| 1 | 业务规则 | 语言切换生效时机 | 即时切换，无需刷新 |
| 2 | 业务规则 | Element Plus 组件语言同步 | 完全同步 |
| 3 | 数据模型 | 繁体中文语言包内容来源 | 自动转换 |
| 4 | 异常边界 | 语言包加载失败处理 | 回退英文 |
| 5 | 业务规则 | 设置对话框扩展性设计 | 仅实现语言设置 |
| 6 | 业务规则 | 系统语言检测逻辑 | 智能匹配 |
| 7 | 业务规则 | 菜单国际化实现方式 | 主进程统一管理 |
| 8 | 业务规则 | 对话框国际化 | 完全国际化 |

---

## 变更历史

| 日期 | 变更内容 | 作者 |
|------|----------|------|
| 2026-01-29 | 初始创建，识别 6 个待澄清问题 | AI Assistant |
| 2026-01-29 | 新增 2 个问题，全部 8 个问题已确认 | AI Assistant |
