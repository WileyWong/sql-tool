# Agents ç›®å½•

> åŸºäº Anthropic å®˜æ–¹æœ€ä½³å®è·µã€ŠBuilding Effective Agentsã€‹å’Œã€ŠEffective harnesses for long-running agentsã€‹è®¾è®¡çš„ AI Agent ä½“ç³»ã€‚

## ğŸ“Š æ¦‚è§ˆç»Ÿè®¡

| ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| **Agents** | 8 ä¸ª | 1 ä¸ªæ€»æ§ + 3 ä¸ª Worker + 4 ä¸ªä¸“ä¸š Agent |
| **Skills** | 45 ä¸ª | åŸå­æŠ€èƒ½ï¼Œè¦†ç›–éœ€æ±‚ã€è®¾è®¡ã€ç¼–ç ã€æµ‹è¯•å…¨æµç¨‹ |
| **Commands** | 12 ä¸ª | å·¥ä½œæµç¼–æ’å‘½ä»¤ï¼ˆå« run-long-taskï¼‰|

## ğŸ¯ å¿«é€Ÿå¼€å§‹

ä½¿ç”¨ `/spec-coding:run-long-task` æŒ‡ä»¤é©±åŠ¨é•¿æ—¶é—´è¿è¡Œä»»åŠ¡ï¼š

```bash
# å¼€å§‹æ–°ä»»åŠ¡
/spec-coding:run-long-task start
ç”¨æˆ·: "å®ç°ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ŒåŒ…å«æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†"

# ç»§ç»­ä¹‹å‰çš„ä»»åŠ¡
/spec-coding:run-long-task continue user-management-2025-12-05

# æŸ¥çœ‹å½“å‰ä»»åŠ¡è¿›åº¦
/spec-coding:run-long-task status

# åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡
/spec-coding:run-long-task list
```

ğŸ“š **è¯¦ç»†æŒ‡ä»¤æ–‡æ¡£**: [commands/spec-coding/run-long-task.md](../commands/spec-coding/run-long-task.md)

## ğŸ“Š Agent æ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         master-orchestrator                                  â”‚
â”‚                    (å…¨å±€ä»»åŠ¡æ€»æ§ - Orchestrator-Workers æ¨¡å¼)                  â”‚
â”‚     èŒè´£: ä»»åŠ¡æ¸…å•ç®¡ç†ã€è¿›åº¦è¿½è¸ªã€è·¨ä¼šè¯è®°å¿†ã€Agent è°ƒåº¦ã€è´¨é‡ä¿è¯              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                           â”‚                           â”‚
          â–¼                           â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    initializer      â”‚   â”‚   design-worker     â”‚   â”‚   coding-worker     â”‚
â”‚  (åˆå§‹åŒ– Worker)     â”‚   â”‚   (è®¾è®¡ Worker)      â”‚   â”‚   (ç¼–ç  Worker)      â”‚
â”‚                     â”‚   â”‚                     â”‚   â”‚                     â”‚
â”‚  - ç¯å¢ƒæ­å»º         â”‚   â”‚  - éœ€æ±‚åˆ†æ          â”‚   â”‚  - ä»£ç ç”Ÿæˆ          â”‚
â”‚  - åŠŸèƒ½åˆ—è¡¨ç”Ÿæˆ     â”‚   â”‚  - æ¶æ„è®¾è®¡          â”‚   â”‚  - ä»£ç å®¡æŸ¥          â”‚
â”‚  - é¡¹ç›®ç»“æ„åˆå§‹åŒ–   â”‚   â”‚  - æ•°æ®åº“è®¾è®¡        â”‚   â”‚  - é—®é¢˜ä¿®å¤          â”‚
â”‚                     â”‚   â”‚  - API è®¾è®¡          â”‚   â”‚  - æµ‹è¯•ç”¨ä¾‹è®¾è®¡      â”‚
â”‚  Skills:            â”‚   â”‚                     â”‚   â”‚  - å•å…ƒæµ‹è¯•ç”Ÿæˆ      â”‚
â”‚  - init-*-scaffold  â”‚   â”‚  Skills:            â”‚   â”‚                     â”‚
â”‚  - init-project-    â”‚   â”‚  - req-*            â”‚   â”‚  Agents:            â”‚
â”‚    memory           â”‚   â”‚  - design-*         â”‚   â”‚  - code-generator   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                     â”‚   â”‚  - code-reviewer-   â”‚
                          â”‚  Agents:            â”‚   â”‚    supervisor       â”‚
                          â”‚  - design-reviewer  â”‚   â”‚                     â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  Skills:            â”‚
                                                    â”‚  - code-generation  â”‚
                                                    â”‚  - cr-*-code        â”‚
                                                    â”‚  - tdd-*            â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ è®¾è®¡ç†å¿µ

### åŸºäº Anthropic æœ€ä½³å®è·µ

æœ¬ Agent ä½“ç³»å®Œå…¨åŸºäº Anthropic å®˜æ–¹æœ€ä½³å®è·µè®¾è®¡ï¼š

1. **ã€ŠBuilding Effective Agentsã€‹** - Agent æ„å»ºæŒ‡å—
   - 6 ç§ Agentic æ¨¡å¼ï¼ˆPrompt Chainingã€Routingã€Parallelizationã€Orchestrator-Workersã€Evaluator-Optimizerã€Autonomous Agentï¼‰
   - ACIï¼ˆAgent-Computer Interfaceï¼‰è®¾è®¡åŸåˆ™
   - ä¸‰å¤§æ ¸å¿ƒåŸåˆ™ï¼šç®€æ´æ€§ã€é€æ˜æ€§ã€ç²¾å¿ƒè®¾è®¡çš„ ACI

2. **ã€ŠEffective harnesses for long-running agentsã€‹** - é•¿æ—¶é—´è¿è¡Œ Agent æœ€ä½³å®è·µ
   - åŒ Agent æ¶æ„ï¼ˆInitializer + Coding Agentï¼‰
   - ç»“æ„åŒ–ä»»åŠ¡ç®¡ç†ï¼ˆFeature List JSONï¼‰
   - å¢é‡å¼è¿›åº¦ï¼ˆæ¯æ¬¡åªå¤„ç†ä¸€ä¸ªåŠŸèƒ½ï¼‰
   - çŠ¶æ€å¯è¿½æº¯ï¼ˆGit + è¿›åº¦æ–‡ä»¶ï¼‰
   - ç«¯åˆ°ç«¯éªŒè¯

### æ ¸å¿ƒè®¾è®¡åŸåˆ™

| åŸåˆ™ | è¯´æ˜ | å®ç°æ–¹å¼ |
|------|------|---------|
| **ç®€æ´æ€§** | ä»æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆå¼€å§‹ | Master åªè´Ÿè´£è°ƒåº¦ï¼ŒWorker åªè´Ÿè´£æ‰§è¡Œ |
| **é€æ˜æ€§** | æ˜ç¡®å±•ç¤ºå†³ç­–è¿‡ç¨‹ | å®æ—¶è¿›åº¦å±•ç¤ºã€å†³ç­–æ—¥å¿—ã€äººå·¥æ£€æŸ¥ç‚¹ |
| **ç²¾å¿ƒè®¾è®¡çš„ ACI** | å·¥å…·å®šä¹‰æ¸…æ™°æ˜“ç”¨ | JSON ç»“æ„åŒ–è¾“å…¥è¾“å‡ºã€è‡ªç„¶è¯­è¨€æè¿° |
| **å¢é‡å¼è¿›åº¦** | æ¯æ¬¡åªå¤„ç†ä¸€ä¸ªåŠŸèƒ½ | Feature List ç®¡ç†ã€Git commit è¿½è¸ª |
| **è·¨ä¼šè¯è®°å¿†** | æ”¯æŒå¤šä¼šè¯å®Œæˆå¤§ä»»åŠ¡ | feature-list.json + progress.md + Git æ—¥å¿— |
| **Git æœ¬åœ°æäº¤** | æ¯ä¸ªåŠŸèƒ½å®Œæˆåæäº¤ | ä»…æœ¬åœ° commitï¼Œä¸è‡ªåŠ¨ push |

## ğŸ“ Agent æ¸…å•

### æ€»æ§ Agent

| Agent | æ¨¡å¼ | èŒè´£ | è°ƒç”¨å¯¹è±¡ |
|-------|------|------|---------|
| [master-orchestrator](./master-orchestrator.md) | Orchestrator-Workers | ä»»åŠ¡æ¸…å•ç®¡ç†ã€è¿›åº¦è¿½è¸ªã€Agent è°ƒåº¦ | æ‰€æœ‰ Worker Agents |

### Worker Agents

| Agent | æ¨¡å¼ | èŒè´£ | è°ƒç”¨çš„ Skills/Agents |
|-------|------|------|---------------------|
| [initializer](./initializer.md) | Prompt Chaining | ç¯å¢ƒåˆå§‹åŒ–ã€åŠŸèƒ½åˆ—è¡¨ç”Ÿæˆ | init-*-scaffold, vibe-req-* |
| [design-worker](./design-worker.md) | Routing | éœ€æ±‚åˆ†æã€å„ç±»è®¾è®¡ | vibe-req-*, techdesign-*, design-reviewer |
| [coding-worker](./coding-worker.md) | Prompt Chaining | ä»£ç ç”Ÿæˆã€ä»£ç å®¡æŸ¥ã€æµ‹è¯• | code-generator, code-reviewer-supervisor, tdd-* |

### ä¸“ä¸š Agentsï¼ˆè¢« Worker è°ƒç”¨ï¼‰

| Agent | æ¨¡å¼ | èŒè´£ | è°ƒç”¨çš„ Skills |
|-------|------|------|--------------|
| [code-generator](./code-generator.md) | Routing | ä»£ç ç”Ÿæˆ | code-generation |
| [code-reviewer-supervisor](./code-reviewer-supervisor.md) | Evaluator-Optimizer | ä»£ç å®¡æŸ¥ | cr-java-code, cr-vue-code |
| [design-reviewer](./design-reviewer.md) | Evaluator-Optimizer | è®¾è®¡å®¡æŸ¥ | - |
| [doc-knowledge-extractor](./doc-knowledge-extractor.md) | Routing | çŸ¥è¯†æå– | doc-extract-* |

## ğŸ”„ å…¸å‹å·¥ä½œæµ

### åœºæ™¯ 1: ä»é›¶å¼€å§‹å®ç°åŠŸèƒ½æ¨¡å—

```
ç”¨æˆ·: "å®ç°ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ŒåŒ…å«æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†"

Master Orchestrator:
â”œâ”€â”€ è°ƒç”¨ initializer
â”‚   â”œâ”€â”€ åˆ†æä»»åŠ¡éœ€æ±‚
â”‚   â”œâ”€â”€ ç”ŸæˆåŠŸèƒ½æ¸…å• (8 ä¸ªåŠŸèƒ½ç‚¹)
â”‚   â””â”€â”€ åˆå§‹åŒ–é¡¹ç›®ç»“æ„
â”‚
â”œâ”€â”€ è°ƒç”¨ design-worker (F001-F004)
â”‚   â”œâ”€â”€ F001: éœ€æ±‚åˆ†æ â†’ vibe-req-clarify, vibe-req-breakdown
â”‚   â”œâ”€â”€ F002: æ•°æ®åº“è®¾è®¡ â†’ techdesign-04-entity, techdesign-05-database
â”‚   â”œâ”€â”€ F003: API è®¾è®¡ â†’ techdesign-03-feature, techdesign-06-api
â”‚   â””â”€â”€ F004: æ¶æ„è®¾è®¡ â†’ techdesign-01-architecture
â”‚
â”œâ”€â”€ è°ƒç”¨ coding-worker (F005-F008)
â”‚   â”œâ”€â”€ F005: ç”¨æˆ·æ³¨å†Œæ¥å£ â†’ code-generator, code-reviewer-supervisor
â”‚   â”œâ”€â”€ F006: ç”¨æˆ·ç™»å½•æ¥å£ â†’ code-generator, code-reviewer-supervisor
â”‚   â”œâ”€â”€ F007: æƒé™ç®¡ç† â†’ code-generator, code-reviewer-supervisor
â”‚   â””â”€â”€ F008: å•å…ƒæµ‹è¯• â†’ tdd-build-unit-test, tdd-run-test-cases
```

### åœºæ™¯ 2: è·¨ä¼šè¯ç»§ç»­ä»»åŠ¡

```
ç”¨æˆ·: "ç»§ç»­ä¹‹å‰çš„ç”¨æˆ·ç®¡ç†æ¨¡å—å¼€å‘"

Master Orchestrator:
â”œâ”€â”€ è¯»å– feature-list.json
â”œâ”€â”€ è¯»å– Git æ—¥å¿—
â”œâ”€â”€ æ¢å¤çŠ¶æ€: å·²å®Œæˆ 5/8 (62%)
â”œâ”€â”€ è¯†åˆ«ä¸‹ä¸€ä¸ªåŠŸèƒ½: F006 ç”¨æˆ·ç™»å½•æ¥å£
â””â”€â”€ è°ƒç”¨ coding-worker ç»§ç»­æ‰§è¡Œ
```

### åœºæ™¯ 3: æŸ¥çœ‹ä»»åŠ¡è¿›åº¦

```
ç”¨æˆ·: "å½“å‰ä»»åŠ¡è¿›åº¦å¦‚ä½•ï¼Ÿ"

Master Orchestrator:
â”œâ”€â”€ è¯»å– feature-list.json
â”œâ”€â”€ ç”Ÿæˆè¿›åº¦æŠ¥å‘Š
â”‚   â”œâ”€â”€ è®¾è®¡é˜¶æ®µ: 4/4 (100%)
â”‚   â”œâ”€â”€ ç¼–ç é˜¶æ®µ: 1/3 (33%)
â”‚   â””â”€â”€ æµ‹è¯•é˜¶æ®µ: 0/1 (0%)
â””â”€â”€ å±•ç¤ºè¯¦ç»†è¿›åº¦å’Œä¸‹ä¸€æ­¥å»ºè®®
```

## ğŸ“‹ æ ¸å¿ƒæ–‡ä»¶ç»“æ„

é•¿æ—¶é—´è¿è¡Œä»»åŠ¡ä½¿ç”¨ `workspace/{task-id}/` ç›®å½•ç»“æ„ï¼Œä¸ç°æœ‰ Skills ä¿æŒä¸€è‡´ï¼š

```
workspace/{task-id}/                 # ä»»åŠ¡å·¥ä½œç›®å½•ï¼ˆç»Ÿä¸€å·¥ä½œç©ºé—´ï¼‰
â”œâ”€â”€ feature-list.json                # åŠŸèƒ½æ¸…å•ï¼ˆæ ¸å¿ƒçŠ¶æ€æ–‡ä»¶ï¼Œå«ä¸Šä¸‹æ–‡æ‘˜è¦ï¼‰
â”œâ”€â”€ progress.md                      # äººç±»å¯è¯»çš„è¿›åº¦æŠ¥å‘Š
â”œâ”€â”€ requirements/                    # éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ requirements.md              # éœ€æ±‚æ–‡æ¡£
â”‚   â””â”€â”€ clarifications.md            # æ¾„æ¸…æ–‡æ¡£
â”œâ”€â”€ design/                          # è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ index.json                   # ğŸ†• è®¾è®¡ç´¢å¼•ï¼ˆä¸Šä¸‹æ–‡ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ summary.md                   # ğŸ†• è®¾è®¡æ‘˜è¦ï¼ˆè½»é‡çº§ä¸Šä¸‹æ–‡ï¼‰
â”‚   â”œâ”€â”€ architecture.md              # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ database-design.md           # æ•°æ®åº“è®¾è®¡
â”‚   â”œâ”€â”€ api-design.md                # API è®¾è®¡
â”‚   â””â”€â”€ feature-design.md            # åŠŸèƒ½è®¾è®¡
â”œâ”€â”€ cr/                              # ä»£ç å®¡æŸ¥æŠ¥å‘Š
â””â”€â”€ test/                            # æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£
    â””â”€â”€ cases/                       # æµ‹è¯•ç”¨ä¾‹

{project-root}/                      # é¡¹ç›®æ ¹ç›®å½•ï¼ˆæºä»£ç ç›´æ¥å†™å…¥ï¼‰
â”œâ”€â”€ src/                             # æºä»£ç ï¼ˆæŒ‰é¡¹ç›®ç°æœ‰ç»“æ„ï¼‰
â””â”€â”€ test/                            # æµ‹è¯•ä»£ç ï¼ˆæŒ‰é¡¹ç›®ç°æœ‰ç»“æ„ï¼‰
```

**è®¾è®¡ç†å¿µ**ï¼š
- âœ… ä»»åŠ¡å…ƒæ•°æ®å­˜æ”¾åœ¨ `workspace/{task-id}/` ä¸‹ï¼Œä¸ç°æœ‰ Skills ç»Ÿä¸€
- âœ… æºä»£ç å’Œæµ‹è¯•ä»£ç ç›´æ¥å†™å…¥é¡¹ç›®å¯¹åº”ç›®å½•
- âœ… éµå¾ªé¡¹ç›®ç°æœ‰çš„ç›®å½•ç»“æ„å’Œä»£ç è§„èŒƒ
- âœ… ä¸ `techdesign-03-feature`ã€`cr-java-code`ã€`tdd-build-test-case` ç­‰ Skills çš„è¾“å‡ºè·¯å¾„ä¸€è‡´

## ğŸ§  ä¸Šä¸‹æ–‡ç®¡ç†æœºåˆ¶

> ğŸ“š è¯¦ç»†è®¾è®¡è§ [context-management.md](mdc:spec/docs/context-management.md)

é•¿ä»»åŠ¡æ‰§è¡Œä¸­ï¼Œä¸Šä¸‹æ–‡ä¼šéšè®¾è®¡æ–‡æ¡£ç´¯ç§¯è€Œå¢é•¿ã€‚ä¸ºé¿å…ä¸Šä¸‹æ–‡çˆ†ç‚¸ï¼Œé‡‡ç”¨**ä¸‰å±‚ä¸Šä¸‹æ–‡æ¨¡å‹**ï¼š

### ä¸‰å±‚ä¸Šä¸‹æ–‡æ¨¡å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: æ‘˜è¦å±‚ (Summary) - å§‹ç»ˆåŠ è½½                            â”‚
â”‚  â”œâ”€â”€ feature-list.json ä¸­çš„ context.summary å­—æ®µ                â”‚
â”‚  â”œâ”€â”€ æ¯ä¸ªåŠŸèƒ½ 50-100 tokens                                     â”‚
â”‚  â””â”€â”€ ç”¨äºå¿«é€Ÿç†è§£å’Œè·¯ç”±å†³ç­–                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 2: ç´¢å¼•å±‚ (Index) - å§‹ç»ˆåŠ è½½                              â”‚
â”‚  â”œâ”€â”€ design/index.json - å®ä½“/API/åŠŸèƒ½ç´¢å¼•                       â”‚
â”‚  â”œâ”€â”€ çº¦ 500-1000 tokens                                         â”‚
â”‚  â””â”€â”€ ç”¨äºå®šä½è¯¦ç»†è®¾è®¡ä½ç½®                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 3: è¯¦æƒ…å±‚ (Detail) - æŒ‰éœ€åŠ è½½                             â”‚
â”‚  â”œâ”€â”€ å®Œæ•´è®¾è®¡æ–‡æ¡£ï¼ˆä»…åŠ è½½ç›¸å…³ sectionï¼‰                           â”‚
â”‚  â”œâ”€â”€ å¿…éœ€ä¸Šä¸‹æ–‡ä¼˜å…ˆï¼Œå¯é€‰ä¸Šä¸‹æ–‡å¡«å……                               â”‚
â”‚  â””â”€â”€ å— token é¢„ç®—é™åˆ¶ï¼ˆé»˜è®¤ 8000ï¼‰                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸Šä¸‹æ–‡åŠ è½½ç­–ç•¥

| åœºæ™¯ | åŠ è½½å†…å®¹ | é¢„è®¡ tokens |
|-----|---------|------------|
| ä¼šè¯æ¢å¤ | æ‘˜è¦å±‚ + ç´¢å¼•å±‚ | 600-1500 |
| è®¾è®¡ä»»åŠ¡ | æ‘˜è¦å±‚ + ç›¸å…³éœ€æ±‚ section | 1000-2500 |
| ç¼–ç ä»»åŠ¡ | æ‘˜è¦å±‚ + API spec + DB schema | 2000-4000 |
| æµ‹è¯•ä»»åŠ¡ | æ‘˜è¦å±‚ + API spec + ä»£ç æ‘˜è¦ | 1500-3000 |

### feature-list.json ä¸Šä¸‹æ–‡å­—æ®µ

```json
{
  "features": [
    {
      "id": "F005",
      "name": "ç”¨æˆ·æ³¨å†Œæ¥å£",
      "context": {
        "summary": "POST /api/user/register, å‚æ•°: username/password/email, è¿”å›: user_id+token",
        "required": [
          {"key": "api_spec", "file": "design/api-design.md", "section": "ç”¨æˆ·æ³¨å†Œæ¥å£"},
          {"key": "db_schema", "file": "design/database-design.md", "section": "userè¡¨"}
        ],
        "optional": [
          {"key": "architecture", "file": "design/architecture.md"}
        ],
        "estimated_tokens": {"summary": 80, "required": 1500, "optional": 1000}
      }
    }
  ]
}
```

## ğŸ”„ Git æœ¬åœ°æäº¤æœºåˆ¶

é•¿æ—¶é—´è¿è¡Œä»»åŠ¡é€šè¿‡ Git æœ¬åœ°æäº¤å®ç°è·¨ä¼šè¯çŠ¶æ€æ¢å¤ï¼š

### æäº¤è§„èŒƒ

```bash
# æ¯ä¸ªåŠŸèƒ½å®Œæˆåæ‰§è¡Œï¼ˆä»…æœ¬åœ°æäº¤ï¼‰
git add workspace/{task-id}/ src/ test/
git commit -m "{type}({scope}): [{feature_id}] {description}"

# ç¤ºä¾‹
git commit -m "feat(user): [F003] å®Œæˆç”¨æˆ·æ³¨å†Œæ¥å£å®ç°"
git commit -m "docs(design): [F001] å®Œæˆéœ€æ±‚åˆ†ææ–‡æ¡£"
```

**âš ï¸ é‡è¦è§„åˆ™**:
- âœ… æ¯ä¸ªåŠŸèƒ½å®Œæˆåè‡ªåŠ¨ `git add` + `git commit`
- âœ… Commit message å¿…é¡»åŒ…å«åŠŸèƒ½IDï¼ˆå¦‚ `[F003]`ï¼‰
- âŒ **ç¦æ­¢è‡ªåŠ¨ push** - ç”±ç”¨æˆ·å†³å®šä½•æ—¶æ¨é€åˆ°è¿œç¨‹

### çŠ¶æ€æ¢å¤

æ–°ä¼šè¯å¯åŠ¨æ—¶ï¼Œé€šè¿‡ Git æ—¥å¿—æ¢å¤ä»»åŠ¡çŠ¶æ€ï¼š

```bash
# æœç´¢åŒ…å«åŠŸèƒ½IDçš„æäº¤
git log --oneline -20 --grep="\[F0"

# è¾“å‡ºç¤ºä¾‹
abc1234 feat(user): [F005] å®Œæˆç”¨æˆ·æ³¨å†Œæ¥å£å®ç°
def5678 feat(user): [F004] å®Œæˆæ¶æ„è®¾è®¡
ghi9012 docs(design): [F003] å®Œæˆ API è®¾è®¡
...
```

ä» Git æ—¥å¿—ä¸­æå–å·²å®Œæˆçš„åŠŸèƒ½IDï¼Œä¸ `feature-list.json` åŒæ­¥ï¼Œç¡®ä¿çŠ¶æ€ä¸€è‡´ã€‚

### feature-list.json æ ¼å¼

```json
{
  "task_id": "user-management-2025-12-05",
  "title": "ç”¨æˆ·ç®¡ç†æ¨¡å—",
  "status": "in_progress",
  "current_phase": "coding",
  "features": [
    {
      "id": "F001",
      "category": "design",
      "name": "éœ€æ±‚åˆ†æ",
      "passes": true,
      "completed_at": "2025-12-05T10:30:00Z"
    },
    {
      "id": "F005",
      "category": "coding",
      "name": "ç”¨æˆ·æ³¨å†Œæ¥å£",
      "passes": false,
      "in_progress": true,
      "current_step": "ç”Ÿæˆ Service"
    }
  ],
  "statistics": {
    "total": 8,
    "completed": 5,
    "completion_rate": 0.62
  }
}
```

## ğŸ›¡ï¸ è´¨é‡ä¿è¯

### äººå·¥æ£€æŸ¥ç‚¹ (Human-in-the-Loop)

| æ£€æŸ¥ç‚¹ | è§¦å‘æ¡ä»¶ | æ“ä½œ |
|--------|---------|------|
| ä»»åŠ¡åˆå§‹åŒ– | æ–°ä»»åŠ¡å¼€å§‹ | ç¡®è®¤åŠŸèƒ½æ¸…å•å’ŒèŒƒå›´ |
| åŠŸèƒ½å®Œæˆ | æ¯ä¸ªåŠŸèƒ½å®Œæˆå | ç¡®è®¤æ˜¯å¦ç»§ç»­ |
| è´¨é‡é—®é¢˜ | å®¡æŸ¥ä¸é€šè¿‡ | å†³å®šé‡è¯•/è·³è¿‡/åœæ­¢ |
| ä¼šè¯ç»“æŸ | è¾¾åˆ°å•æ¬¡ä¼šè¯é™åˆ¶ | ä¿å­˜è¿›åº¦ï¼Œä¸‹æ¬¡ç»§ç»­ |

### è´¨é‡é—¨ç¦

| é˜¶æ®µ | é—¨ç¦æ¡ä»¶ |
|------|---------|
| è®¾è®¡ | è®¾è®¡å®¡æŸ¥è¯„åˆ† â‰¥ 85 |
| ç¼–ç  | ä»£ç å®¡æŸ¥è¯„åˆ† â‰¥ 85ï¼Œæ—  P0 é—®é¢˜ |
| æµ‹è¯• | æµ‹è¯•é€šè¿‡ç‡ â‰¥ 95%ï¼Œè¦†ç›–ç‡ â‰¥ 80% |

### é”™è¯¯æ¢å¤

- **Git å›æ»š**: é‡åˆ°é—®é¢˜å¯ä»¥å›æ»šåˆ°ä¸Šä¸€ä¸ªç¨³å®šçŠ¶æ€
- **ä¼˜é›…é™çº§**: éƒ¨åˆ†å¤±è´¥æ—¶ä¿å­˜å·²å®Œæˆçš„å·¥ä½œ
- **äººå·¥å¹²é¢„**: æ— æ³•è‡ªåŠ¨è§£å†³æ—¶è¯·æ±‚äººå·¥å¸®åŠ©

## ğŸ”— ç›¸å…³èµ„æº

### æœ€ä½³å®è·µæ–‡æ¡£
- [Building Effective Agents](../spec/global/knowledge/best-practices/BuildingEffectiveAgents.md) - Anthropic å®˜æ–¹ Agent æ„å»ºæŒ‡å—
- [Effective harnesses for long-running agents](https://www.anthropic.com/engineering/effective-harnesses-for-long-running-agents) - é•¿æ—¶é—´è¿è¡Œ Agent æœ€ä½³å®è·µ

### Skills ç´¢å¼•
- [Skills ç›®å½•](../skills/README.md) - 45 ä¸ªåŸå­æŠ€èƒ½
- [Skills è¯¦ç»†ç´¢å¼•](../skills/index.md) - æŠ€èƒ½åˆ†ç±»å’Œä½¿ç”¨è¯´æ˜

### é¡¹ç›®è®°å¿†
- [é¡¹ç›®å®ªç« ](mdc:.spec-code/memory/constitution.md) - æ ¸å¿ƒåŸåˆ™
- [å¼€å‘æŒ‡å—](mdc:.spec-code/memory/guidelines.md) - ç¼–å†™è§„èŒƒ
- [é¡¹ç›®ä¸Šä¸‹æ–‡](mdc:.spec-code/memory/context.md) - æŠ€æœ¯æ ˆä¿¡æ¯

---

**ç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2025-12-05  
**ç»´æŠ¤è€…**: Spec-Code Team
