# Java ä»£ç å®¡æŸ¥æŠ¥å‘Šï¼ˆä¾æ®ã€Šgeneral-code-review-best-practice.mdã€‹ï¼‰

**é¡¹ç›®**: RecruitBoleBusiness â€” é¢è¯•å®˜ H5 æ•°æ®æ¥å£  
**æ¨¡å—**: interviewer-h5-data  
**æ—¶é—´**: 2025-12-08  
**å®¡æŸ¥äºº**: AI Assistantï¼ˆcr-java-code æŠ€èƒ½ï¼‰  
**Java ç‰ˆæœ¬**: 1.8  
**å®¡æŸ¥åŸºçº¿**: ã€Šgeneral-code-review-best-practice.mdã€‹äº”ç»´åº¦ 30/20/20/15/15 æƒé‡ä½“ç³»  
**ç»¼åˆå¾—åˆ†**: **92 / 100ï¼ˆAçº§Â·ä¼˜ç§€ï¼‰**

---

## ğŸ“Š è´¨é‡è¯„ä¼°ï¼ˆæƒé‡åŒ–é‡åŒ–æŒ‡æ ‡ï¼‰

| ç»´åº¦ | æƒé‡ | å¾—åˆ† | åŠ æƒåˆ† | çŠ¶æ€ | ä¸»è¦ç»“è®º |
|------|------|------|--------|------|----------|
| ç¼–ç è§„èŒƒ | 30% | 94 | 28.2 | âœ… | å‘½å/æ³¨é‡Š/æ—¥å¿—å‡ç¬¦åˆè§„èŒƒï¼Œä»… `2025` å¹´ä»½ä»ä¸ºé­”æ³•å€¼ï¼ˆP2ï¼‰ |
| æ¶æ„è®¾è®¡ | 20% | 92 | 18.4 | âœ… | MVC åˆ†å±‚æ¸…æ™°ï¼ŒService/Mapper ä¾èµ–æ–¹å‘æ­£ç¡®ï¼Œç¼“å­˜/æ•°æ®åº“èŒè´£åˆ†æ˜ |
| å®‰å…¨é˜²æŠ¤ | 20% | 90 | 18.0 | âœ… | æ§åˆ¶å±‚å‚æ•°æ ¡éªŒ + ä¸šåŠ¡å±‚æ–­è¨€é½å¤‡ï¼Œæ—  P0/P1 æ¼æ´ |
| æ€§èƒ½ä¼˜åŒ– | 15% | 95 | 14.25 | âœ… | L2 ç¼“å­˜ + å¤åˆç´¢å¼• + LIMIT æŸ¥è¯¢ï¼Œæ€§èƒ½ç­–ç•¥å®Œå–„ |
| å¯ç»´æŠ¤æ€§ | 15% | 90 | 13.5 | âœ… | é€»è¾‘åˆ†æ®µã€ç©ºå€¼ä¿æŠ¤ã€å·²æœ‰å•æµ‹ï¼›å¯é€‰å¢åŠ è€—æ—¶æ—¥å¿— & ç±»å‹ä¸€è‡´æ€§ |
| **ç»¼åˆ** | 100% | 92 | **92** | **Açº§** | æ»¡è¶³ä¸Šçº¿æ ‡å‡† |

---

## ğŸ” å®¡æŸ¥èŒƒå›´

- Controller: `OpenApiController#getInterviewerH5Data`
- Service: `InterviewerH5DataService`ã€`InterviewerH5DataServiceImpl`
- Entity/DTO: `InterviewerStatisticsEntity`ã€`InterviewLikeStatisticsEntity`ã€`CompanyStatistics2025Entity`ã€`InterviewerH5DataResponse`
- Mapper æ¥å£ & XML: `InterviewerStatisticsMapper`, `InterviewLikeStatisticsMapper`, `CompanyStatistics2025Mapper`
- SQL: `create-h5-data-table-1208.sql`ï¼ˆå«å¤åˆç´¢å¼•ï¼‰
- ç¼“å­˜ & ä¸šåŠ¡é€»è¾‘ç›¸å…³ä»£ç 

æ‰€æœ‰æ–‡ä»¶å‡æŒ‰ç…§ã€Šgeneral-code-review-best-practice.mdã€‹â€œæ ‡å‡†å®¡æŸ¥ (45-60min)â€æµç¨‹æ‰§è¡Œã€‚

---

## âœ… ä¼˜åŠ¿äº®ç‚¹ï¼ˆä¸æœ€ä½³å®è·µå¯¹ç…§ï¼‰

1. **ç¼–ç è§„èŒƒï¼ˆâ‰¥90 åˆ†æ ‡å‡†ï¼‰**
   - ç±»/æ–¹æ³•å‘½åé‡‡ç”¨ PascalCase/camelCaseï¼Œå¸¸é‡ `DATE_FORMATTER` ä½¿ç”¨ UPPER_SNAKE_CASEã€‚
   - JavaDoc å®Œæ•´ï¼Œç‰¹åˆ«æ˜¯å…¬å¼€æ¥å£/æ–¹æ³•å‡æè¿°å‚æ•°å’Œè¿”å›å€¼ã€‚
   - æ—¥å¿—ä½¿ç”¨ `@Slf4j` + å ä½ç¬¦ï¼Œæ»¡è¶³æ—¥å¿—è§„èŒƒç« èŠ‚è¦æ±‚ã€‚

2. **æ¶æ„è®¾è®¡**
   - Controller ä»…è´Ÿè´£å‚æ•°æ ¡éªŒä¸ Service è°ƒç”¨ï¼Œæ— è·¨å±‚è®¿é—® Repositoryï¼Œç¬¦åˆâ€œåˆ†å±‚æ£€æŸ¥çŸ©é˜µï¼ˆControllerå±‚ï¼‰â€ã€‚
   - Service ä¾èµ– Mapperï¼Œä¸šåŠ¡é€»è¾‘åˆ†æ®µæ¸…æ™°ï¼›ç¼“å­˜ä¸æŸ¥è¯¢ç­–ç•¥å°è£…åœ¨ Service å®ç°ä¸­ï¼Œç¬¦åˆâ€œå•ä¸€èŒè´£ + ä¾èµ–å€’ç½®â€åŸåˆ™ã€‚

3. **å®‰å…¨é˜²æŠ¤**
   - æ§åˆ¶å±‚ `@RequestParam(required = true)` + `AssertUtl` åŒé‡æ ¡éªŒï¼Œç¬¦åˆâ€œè¾“å…¥éªŒè¯ 30% æŒ‡æ ‡â€ã€‚
   - Mapper XML å…¨éƒ¨ä½¿ç”¨ `#{}` å‚æ•°åŒ–æŸ¥è¯¢ï¼›æ—  `${}` åŠ¨æ€æ‹¼æ¥ï¼Œæ»¡è¶³ SQL æ³¨å…¥é˜²æŠ¤è¦æ±‚ã€‚
   - å“åº”ç±»æœªæš´éœ²æ•æ„Ÿæ•°æ®ã€‚

4. **æ€§èƒ½ä¼˜åŒ–**
   - `@RecruitCache(level = Multi, expire = 1800)` ç¬¦åˆç¼“å­˜ç« èŠ‚å¯¹â€œå‘½åã€ttlã€å‘½ä¸­æ¡ä»¶â€è¦æ±‚ã€‚
   - SQL æ–°å¢å¤åˆç´¢å¼• `idx_enable_interviewer`ã€`idx_interviewer_enable_like`ï¼Œå¯¹é½â€œæŸ¥è¯¢ä¼˜åŒ– 35% æŒ‡æ ‡ï¼ˆWHERE/ORDER BY æœ‰ç´¢å¼•ï¼‰â€ã€‚
   - ç‚¹èµæŸ¥è¯¢ä½¿ç”¨ `ORDER BY like_count DESC LIMIT 2` + ç´¢å¼•è¦†ç›–ï¼Œæ¶ˆé™¤ `Using filesort`ã€‚

5. **å¯ç»´æŠ¤æ€§**
   - é€»è¾‘æŒ‰â€œ1.æŸ¥è¯¢ã€2.ç‚¹èµã€3.å…¬å¸ã€4.ç»„è£…â€ç¼–å·ï¼Œä¾¿äºé˜…è¯»ï¼›æ–¹æ³•é•¿åº¦ < 100 è¡Œï¼Œåœˆå¤æ‚åº¦ä½ã€‚
   - Null-safe å¤„ç†ï¼ˆæ—¥æœŸ/å…¬å¸ç»Ÿè®¡ï¼‰éµå¾ªâ€œå¼‚å¸¸å¤„ç† + é˜²å¾¡å¼ç¼–ç¨‹â€æŒ‡å—ã€‚
   - å·²å­˜åœ¨ 12 ä¸ªå•æµ‹è¦†ç›–ä¸»è¦è·¯å¾„ï¼Œæ»¡è¶³â€œå…³é”®é€»è¾‘ â‰¥80% è¦†ç›–â€çš„å»ºè®®ã€‚

---

## âš ï¸ æ”¹è¿›å»ºè®®ï¼ˆä¼˜å…ˆçº§æŒ‰ P1/P2 åˆ†çº§ï¼‰

| ID | é—®é¢˜ | çº§åˆ« | ä½ç½® | å»ºè®®æ–¹æ¡ˆ | é¢„æœŸæ”¶ç›Š |
|----|------|------|------|----------|----------|
| P2-1 | é­”æ³•å€¼ `2025` ä»ç¡¬ç¼–ç  | ğŸŸ¢ P2 | `InterviewerH5DataServiceImpl` è¡Œ 71 | æå– `private static final int TARGET_YEAR = 2025;` å¹¶å¤ç”¨ | ä¾¿äºæœªæ¥å¹´ä»½è°ƒæ•´ï¼Œç¬¦åˆâ€œå¸¸é‡ä½¿ç”¨ 20%â€æŒ‡æ ‡ |
| P2-2 | Controller æœªè®°å½•è€—æ—¶/å‘½ä¸­ç‡ | ğŸŸ¢ P2 | `OpenApiController` è¡Œ 397 | è®°å½•è€—æ—¶ã€ç¼“å­˜å‘½ä¸­æƒ…å†µï¼›å¯ç»“åˆ `log.info` | æœ‰åŠ©äºæ€§èƒ½ç›‘æ§ï¼Œæ»¡è¶³â€œæ—¥å¿—åŒ…å«å…³é”®ä¸Šä¸‹æ–‡â€å»ºè®® |
| P2-3 | Response ä¸­ `companyTotalInterviewDuration` ä¸º `Integer` | ğŸŸ¢ P2 | `InterviewerH5DataResponse` | ä¸ Entity `Long` ä¸ä¸€è‡´ï¼›å»ºè®®ç»Ÿä¸€ä¸º `Long` æˆ–æ·»åŠ ä¸Šé™ä¿æŠ¤ | é¿å…æç«¯æ•°æ®ä¸‹æº¢å‡ºï¼Œæå‡å¯ç»´æŠ¤æ€§ |
| P2-4 | Swagger/OpenAPI æ³¨è§£ç¼ºå¤± | ğŸŸ¢ P2 | Controller å±‚ | å¦‚éœ€å¼€æ”¾æ–‡æ¡£ï¼Œå»ºè®®è¡¥å…… `@ApiOperation/@ApiParam` | æå‡æ¥å£å¯è§æ€§ä¸ååŒæ•ˆç‡ |

> æ—  P0/P1 é˜»å¡é—®é¢˜ï¼Œå…è®¸ä¸Šçº¿ï¼›ä»¥ä¸Š P2 å¯åœ¨ä¸‹ä¸€è¿­ä»£çº³å…¥ã€‚

---

## ğŸ§ª è¦†ç›–åº¦ & éªŒè¯

- **é™æ€æ£€æŸ¥**: å·²æ ¸å¯¹æ‰€æœ‰æ”¹åŠ¨æ–‡ä»¶ï¼Œæ—  Checkstyle/Lombok/Mapper çº§åˆ«å‘Šè­¦ã€‚
- **å•å…ƒæµ‹è¯•**: `OpenApiControllerTest` å…± 12 ç”¨ä¾‹ï¼Œè¦†ç›–æ­£å¸¸/è¾¹ç•Œ/å¼‚å¸¸åœºæ™¯ï¼Œæ»¡è¶³æœ€ä½³å®è·µâ€œæµ‹è¯•è¦†ç›– â‰¥80%â€å»ºè®®ã€‚
- **SQL è®¡åˆ’**: æ–°å¢ç´¢å¼•å `EXPLAIN` é¢„æœŸ Extra ä¸º `Using index`ï¼Œç¬¦åˆâ€œæŸ¥è¯¢ä¼˜åŒ–â€è¦æ±‚ã€‚
- **ç¼“å­˜ç­–ç•¥**: key æ¨¡æ¿ `interviewer:h5:data:{id}` æ»¡è¶³â€œå‘½åç©ºé—´ + ä¸»é”®â€è§„èŒƒã€‚

---

## ğŸ“‹ è¡ŒåŠ¨å»ºè®®ï¼ˆbest-practice è·Ÿè¸ªï¼‰

| äº‹é¡¹ | ç±»å‹ | å»ºè®®è´£ä»»äºº | ç›®æ ‡ç‰ˆæœ¬ |
|------|------|-----------|----------|
| YEAR å¸¸é‡æå– | P2 | interviewer-service å°ç»„ | 12-10 |
| Controller è€—æ—¶æ—¥å¿— | P2 | interviewer-web å°ç»„ | 12-10 |
| Response Long ç±»å‹ç»Ÿä¸€ | P2 | interviewer-service å°ç»„ | 12-12 |
| Swagger æ³¨è§£è¡¥å…… | P2 | interviewer-web å°ç»„ | 12-12 |

---

## ğŸ“š å‚è€ƒ

- ã€Šgeneral-code-review-best-practice.mdã€‹v2.1
- é¡¹ç›® KBï¼š`kb/service-api-http.md`ã€`kb/service-response-object.md`
- ç›¸å…³ä»£ç ï¼š`OpenApiController.java`ã€`InterviewerH5DataServiceImpl.java`ã€`create-h5-data-table-1208.sql`

---

**ç»“è®º**: ä»£ç æ•´ä½“è´¨é‡è¾¾åˆ°ã€Šgeneral-code-review-best-practice.mdã€‹Açº§è¦æ±‚ï¼Œå¯ç›´æ¥åˆå¹¶ä¸Šçº¿ï¼›å»ºè®®åœ¨ä¸‹ä¸€è¿­ä»£æŒ‰ P2 ä¼˜åŒ–é¡¹é€æ­¥æå‡å¯ç»´æŠ¤æ€§ä¸å¯è§‚æµ‹æ€§ã€‚