---
title: req-explain 示例
description: 需求解读的实际应用示例
---

# 需求解读示例

本文档提供完整的需求解读示例，展示从原始需求到结构化需求规格说明书的全过程。

---

## 示例 1: 用户注册功能（完整流程）

### 场景描述

**原始需求**（来自 PRD）:

```
需求标题: 用户注册功能

需求描述:
用户可以通过手机号注册账号。注册时需要填写手机号、密码、验证码。
密码需要符合一定的强度要求。验证码有效期 5 分钟，发送频率每分钟最多 1 次。
注册成功后，系统自动登录并跳转到首页。

业务目标:
提升用户注册转化率，减少注册流程的复杂度。
```

**变更 ID**: `2025-11-04-user-registration`

---

### 步骤 1: 收集和验证输入

**AI 的操作**:
1. 接收需求来源（PRD 文本）
2. 验证变更 ID 格式（✅ `2025-11-04-user-registration` 格式正确）
3. 检查是否存在 requirement-review.md 或 clarifications.md（无）

**验证结果**:
```
✅ 需求来源已提供（PRD 文本）
✅ 变更 ID 格式正确（2025-11-04-user-registration）
✅ 无待澄清项（首次解读）
```

---

### 步骤 2: 需求分析

#### 业务目标理解

**AI 的分析**:

```markdown
### 业务目标

**业务背景**: 用户注册是用户使用产品的第一步，注册流程的复杂度直接影响用户转化率。

**用户价值**: 
- 用户可以快速创建账号，降低注册门槛
- 通过手机号注册，便于后续找回密码和身份验证

**业务目标**:
- 提升用户注册转化率
- 减少注册流程的复杂度
- 保障账号安全

**成功指标**:
- 注册转化率 >= 60%（从开始注册到完成注册）
- 注册流程平均完成时间 <= 2 分钟
- 密码强度合格率 >= 80%
```

---

#### 功能点分解（FR）

**AI 的分解结果**:

```markdown
## 3. 功能性需求（FR）

### FR-001: 手机号注册

**功能描述**: 用户通过手机号 + 密码 + 验证码的方式完成账号注册。

**用户场景**: 
- 新用户首次访问系统，点击"注册"按钮
- 填写手机号、密码、验证码
- 提交注册表单
- 注册成功后自动登录并跳转到首页

**输入/输出**:
- **输入**: 
  - 手机号（必填，11 位数字）
  - 密码（必填，8-20 位）
  - 验证码（必填，6 位数字）
- **输出**: 
  - 注册成功: 用户信息（用户 ID、手机号、注册时间）
  - 注册失败: 错误码和错误消息

**业务规则**:
- BR-001: 手机号必须是中国大陆手机号（11 位，以 1 开头）
- BR-002: 密码强度要求（长度 8-20 位，包含字母、数字、特殊字符中的至少 2 种）
- BR-003: 验证码有效期 5 分钟
- BR-004: 验证码发送频率每分钟最多 1 次
- BR-005: 手机号唯一性（不允许重复注册）

**异常处理**:
- E-001: 手机号格式错误 → 返回 400，提示"请输入有效的手机号"
- E-002: 手机号已注册 → 返回 409，提示"该手机号已注册，请直接登录"
- E-003: 验证码错误 → 返回 400，提示"验证码错误，请重新输入"
- E-004: 验证码过期 → 返回 400，提示"验证码已过期，请重新获取"
- E-005: 密码强度不足 → 返回 400，提示"密码强度不足，请使用 8-20 位，包含字母、数字或特殊字符"

**验收标准**:
- [ ] 正常场景: 输入有效手机号、符合强度的密码、正确的验证码，系统成功创建账号并自动登录
- [ ] 边界条件: 输入 11 位手机号（边界长度）、8 位密码（最短长度）、20 位密码（最长长度），系统正常处理
- [ ] 异常情况: 输入已注册的手机号，系统返回 409 错误并提示"该手机号已注册"
- [ ] 异常情况: 输入错误的验证码，系统返回 400 错误并提示"验证码错误"
- [ ] 异常情况: 使用过期的验证码（超过 5 分钟），系统返回 400 错误并提示"验证码已过期"

**确认项**:
- [NEEDS CLARIFICATION] (P1) 密码强度要求"包含字母、数字、特殊字符中的至少 2 种"，是否包含大小写字母要求？
- [NEEDS CLARIFICATION] (P1) 验证码发送频率"每分钟最多 1 次"，是否需要提示用户剩余等待时间？
- [NEEDS CLARIFICATION] (P0) 注册成功后"自动登录并跳转到首页"，是生成 JWT Token 还是 Session？
- [NEEDS CLARIFICATION] (P2) 是否需要用户协议和隐私政策的勾选确认？


### FR-002: 验证码发送

**功能描述**: 用户请求发送短信验证码，系统发送 6 位数字验证码到指定手机号。

**用户场景**: 
- 用户在注册页面填写手机号
- 点击"获取验证码"按钮
- 系统发送验证码到手机号
- 用户在页面上输入收到的验证码

**输入/输出**:
- **输入**: 手机号（必填，11 位数字）
- **输出**: 
  - 发送成功: 返回成功消息（不返回验证码内容）
  - 发送失败: 错误码和错误消息

**业务规则**:
- BR-006: 验证码为 6 位随机数字
- BR-007: 验证码有效期 5 分钟
- BR-008: 同一手机号每分钟最多发送 1 次验证码
- BR-009: 同一手机号每天最多发送 10 次验证码（防刷）

**异常处理**:
- E-006: 手机号格式错误 → 返回 400，提示"请输入有效的手机号"
- E-007: 发送频率超限 → 返回 429，提示"操作过于频繁，请稍后再试"
- E-008: 每日发送次数超限 → 返回 429，提示"今日发送次数已达上限，请明日再试"
- E-009: 短信服务异常 → 返回 503，提示"验证码发送失败，请稍后重试"

**验收标准**:
- [ ] 正常场景: 输入有效手机号，系统成功发送验证码（实际发送到手机）
- [ ] 边界条件: 同一手机号 1 分钟内第 2 次请求，系统返回 429 错误并提示等待时间
- [ ] 边界条件: 同一手机号 1 天内第 11 次请求，系统返回 429 错误并提示"今日发送次数已达上限"
- [ ] 异常情况: 短信服务不可用，系统返回 503 错误并提示"验证码发送失败"

**确认项**:
- [NEEDS CLARIFICATION] (P1) 验证码生成算法是纯随机还是基于手机号生成（可追溯）？
- [NEEDS CLARIFICATION] (P2) 是否需要显示倒计时（如"60 秒后可重新发送"）？


### FR-003: 注册成功自动登录

**功能描述**: 用户注册成功后，系统自动登录并跳转到首页，无需用户再次输入账号密码。

**用户场景**: 
- 用户完成注册流程（手机号 + 密码 + 验证码）
- 系统创建用户账号
- 系统生成登录凭证（Token/Session）
- 系统跳转到首页

**输入/输出**:
- **输入**: 无（内部逻辑）
- **输出**: 
  - 登录凭证（JWT Token 或 Session ID）
  - 跳转目标 URL（首页）

**业务规则**:
- BR-010: 注册成功后立即生成登录凭证
- BR-011: 登录凭证有效期（JWT Token 有效期或 Session 超时时间）
- BR-012: 跳转目标为首页（/home 或 /dashboard）

**异常处理**:
- E-010: 登录凭证生成失败 → 返回 500，提示"注册成功但登录失败，请手动登录"

**验收标准**:
- [ ] 正常场景: 注册成功后，用户无需再次输入账号密码即可访问首页
- [ ] 正常场景: 注册成功后，用户刷新页面仍保持登录状态

**确认项**:
- [NEEDS CLARIFICATION] (P0) 登录凭证是 JWT Token（无状态）还是 Session（有状态）？
- [NEEDS CLARIFICATION] (P1) Token/Session 的有效期是多久？（如 7 天、30 天）
- [NEEDS CLARIFICATION] (P2) 跳转目标是首页（/home）还是个人中心（/profile）？
```

---

#### 非功能需求（NFR）

**AI 的提取结果**:

```markdown
## 4. 非功能性需求（NFR）

### NFR-001: 性能要求

- 注册接口响应时间 <= 500ms（P95）
- 验证码发送接口响应时间 <= 200ms（P95）
- 支持并发注册（>= 100 QPS）

### NFR-002: 安全要求

- 密码必须加密存储（不可逆加密，如 BCrypt）
- 验证码不可在响应中返回（只存储在服务端）
- 防止暴力破解（验证码连续输错 5 次后锁定手机号 30 分钟）
- 防止短信轰炸（同一 IP 每小时最多发送 20 次验证码）

### NFR-003: 可用性要求

- 注册服务可用性 >= 99.9%
- 短信服务异常时，系统应降级处理（提示用户稍后重试，不影响其他功能）

### NFR-004: 易用性要求

- 注册表单实时验证（手机号格式、密码强度）
- 错误提示清晰友好（避免技术术语）
- 验证码输入框自动聚焦
- 注册成功后有明确的成功提示
```

---

### 步骤 3: 澄清循环

**AI 识别到的待澄清项**（按优先级排序）:

```
📊 待澄清项统计:
- P0（阻塞性）: 2 个
- P1（重要）: 4 个
- P2（优化）: 3 个

总计: 9 个待澄清项
```

**AI 发起第 1 轮澄清**（P0 问题）:

```
📋 澄清问题 1/9: 注册成功后的登录凭证类型（P0 - 阻塞性）

**问题描述**: 注册成功后自动登录，系统生成什么类型的登录凭证？

**影响**: 这将决定后端的认证架构、前端的 Token 管理、以及是否需要 Redis 存储 Session。

选项:
a) JWT Token（无状态，前端存储在 localStorage，适合分布式系统）
   - 优点: 无状态、可扩展、跨域支持
   - 缺点: 无法主动失效（需要黑名单机制）

b) Session（有状态，后端存储在 Redis，通过 Cookie 传递 Session ID）
   - 优点: 可主动失效、安全性高
   - 缺点: 需要 Redis、跨域复杂

c) 混合方案（短期 Access Token + 长期 Refresh Token）
   - 优点: 兼顾安全性和可扩展性
   - 缺点: 实现复杂度高

请选择（a/b/c）或提供其他建议。
```

**用户回复**: `a) JWT Token`

**AI 更新 FR-003 确认项**:

```markdown
**确认项**:
- [CLARIFIED] (P0) 登录凭证是 JWT Token（无状态）还是 Session（有状态）？
  - **决议**: JWT Token（无状态）
  - **理由**: 适合分布式系统，无需 Redis 存储 Session，前端存储在 localStorage
  - **验收标准**: 
    - [ ] 注册成功后，响应返回 JWT Token（格式: `Bearer <token>`）
    - [ ] Token 包含用户 ID、手机号、签发时间、过期时间
    - [ ] 前端将 Token 存储在 localStorage，后续请求在 Authorization 头中携带
```

---

**AI 发起第 2 轮澄清**（P0 问题）:

```
📋 澄清问题 2/9: JWT Token 有效期（P0 - 阻塞性）

**问题描述**: JWT Token 的有效期是多久？

**影响**: 这将影响用户的登录体验和安全性。

选项:
a) 7 天（短期有效，适合移动端应用）
b) 30 天（长期有效，适合 PC 端应用）
c) 永久有效（不推荐，安全风险高）

请选择（a/b/c）或提供其他建议。
```

**用户回复**: `a) 7 天`

**AI 更新 FR-003 确认项**:

```markdown
- [CLARIFIED] (P1) Token/Session 的有效期是多久？（如 7 天、30 天）
  - **决议**: 7 天
  - **理由**: 适合移动端应用，兼顾安全性和用户体验
  - **验收标准**: 
    - [ ] Token 过期时间为签发时间 + 7 天
    - [ ] Token 过期后，用户需要重新登录
    - [ ] Token 包含 `exp` 字段（Unix 时间戳）
```

---

**AI 发起第 3 轮澄清**（P1 问题）:

```
📋 澄清问题 3/9: 密码强度要求是否包含大小写字母（P1 - 重要）

**问题描述**: 密码强度要求"包含字母、数字、特殊字符中的至少 2 种"，是否包含大小写字母要求？

**影响**: 这将影响密码验证的严格程度和用户体验。

选项:
a) 不区分大小写（字母统一为一类）
   - 示例: "abc123"（字母 + 数字，符合要求）

b) 区分大小写（大写字母、小写字母、数字、特殊字符中的至少 2 种）
   - 示例: "Abc123"（大写字母 + 小写字母 + 数字，符合要求）
   - 示例: "abc123"（小写字母 + 数字，符合要求）

请选择（a/b）或提供其他建议。
```

**用户回复**: `a) 不区分大小写`

**AI 更新 FR-001 确认项**:

```markdown
- [CLARIFIED] (P1) 密码强度要求"包含字母、数字、特殊字符中的至少 2 种"，是否包含大小写字母要求？
  - **决议**: 不区分大小写（字母统一为一类）
  - **理由**: 降低用户记忆成本，提升注册转化率
  - **验收标准**: 
    - [ ] 密码包含字母 + 数字，系统验证通过
    - [ ] 密码包含字母 + 特殊字符，系统验证通过
    - [ ] 密码只包含字母，系统验证失败并提示"密码强度不足"
```

---

**AI 继续澄清其他 P1/P2 问题**...（此处省略其他 6 个澄清问题）

**澄清结果**:

```
✅ 澄清循环已完成（9/9 个问题已澄清）

- P0（阻塞性）: 2/2 已澄清
- P1（重要）: 4/4 已澄清
- P2（优化）: 3/3 已澄清
```

---

### 步骤 4: 补充信息收集

**AI 主动询问**:

```
✅ 待澄清项已处理。请确认:

1. 是否还有其他功能需求？
2. 是否有其他非功能性需求？
3. 是否有其他业务规则或异常场景？

无补充请回复"无补充"。
```

**用户回复**: `无补充`

---

### 步骤 5: 生成最终文档

**AI 确认前置条件**:

```
✅ 用户确认"无待澄清项"
✅ 用户确认"无补充信息"
✅ 提供了有效变更 ID（2025-11-04-user-registration）

请确认是否生成最终文档？（回复"确认生成"）
```

**用户回复**: `确认生成`

---

**AI 生成的最终文档**（`workspace/2025-11-04-user-registration/requirements/requirements.md`）:

```markdown
---
change_id: 2025-11-04-user-registration
stage: requirements
document_type: requirements_specification
version: 1.0
created_at: 2025-11-04T10:00:00Z
updated_at: 2025-11-04T11:30:00Z
author: 张三
status: final
---

# 需求规格说明书

## 1. 概述

**需求来源**: PRD 文档 - 用户注册功能
**变更 ID**: 2025-11-04-user-registration
**变更范围**: 新增用户注册功能，包括手机号注册、验证码发送、自动登录

## 2. 业务目标

**业务背景**: 用户注册是用户使用产品的第一步，注册流程的复杂度直接影响用户转化率。

**用户价值**: 
- 用户可以快速创建账号，降低注册门槛
- 通过手机号注册，便于后续找回密码和身份验证

**业务目标**:
- 提升用户注册转化率
- 减少注册流程的复杂度
- 保障账号安全

**成功指标**:
- 注册转化率 >= 60%（从开始注册到完成注册）
- 注册流程平均完成时间 <= 2 分钟
- 密码强度合格率 >= 80%

## 3. 功能性需求（FR）

### FR-001: 手机号注册

**功能描述**: 用户通过手机号 + 密码 + 验证码的方式完成账号注册。

**用户场景**: 
- 新用户首次访问系统，点击"注册"按钮
- 填写手机号、密码、验证码
- 提交注册表单
- 注册成功后自动登录并跳转到首页

**输入/输出**:
- **输入**: 
  - 手机号（必填，11 位数字）
  - 密码（必填，8-20 位）
  - 验证码（必填，6 位数字）
- **输出**: 
  - 注册成功: 用户信息（用户 ID、手机号、注册时间）+ JWT Token
  - 注册失败: 错误码和错误消息

**业务规则**:
- BR-001: 手机号必须是中国大陆手机号（11 位，以 1 开头）
- BR-002: 密码强度要求（长度 8-20 位，包含字母、数字、特殊字符中的至少 2 种，不区分大小写）
- BR-003: 验证码有效期 5 分钟
- BR-004: 验证码发送频率每分钟最多 1 次
- BR-005: 手机号唯一性（不允许重复注册）

**异常处理**:
- E-001: 手机号格式错误 → 返回 400，提示"请输入有效的手机号"
- E-002: 手机号已注册 → 返回 409，提示"该手机号已注册，请直接登录"
- E-003: 验证码错误 → 返回 400，提示"验证码错误，请重新输入"
- E-004: 验证码过期 → 返回 400，提示"验证码已过期，请重新获取"
- E-005: 密码强度不足 → 返回 400，提示"密码强度不足，请使用 8-20 位，包含字母、数字或特殊字符"

**验收标准**:
- [x] 正常场景: 输入有效手机号、符合强度的密码、正确的验证码，系统成功创建账号并自动登录
- [x] 边界条件: 输入 11 位手机号（边界长度）、8 位密码（最短长度）、20 位密码（最长长度），系统正常处理
- [x] 异常情况: 输入已注册的手机号，系统返回 409 错误并提示"该手机号已注册"
- [x] 异常情况: 输入错误的验证码，系统返回 400 错误并提示"验证码错误"
- [x] 异常情况: 使用过期的验证码（超过 5 分钟），系统返回 400 错误并提示"验证码已过期"

**确认项**:
- [CLARIFIED] (P1) 密码强度要求"包含字母、数字、特殊字符中的至少 2 种"，是否包含大小写字母要求？
  - **决议**: 不区分大小写（字母统一为一类）
  - **理由**: 降低用户记忆成本，提升注册转化率
  - **验收标准**: 
    - [x] 密码包含字母 + 数字，系统验证通过
    - [x] 密码包含字母 + 特殊字符，系统验证通过
    - [x] 密码只包含字母，系统验证失败并提示"密码强度不足"

（省略其他 FR-002、FR-003 和确认项...）

## 4. 非功能性需求（NFR）

### NFR-001: 性能要求

- 注册接口响应时间 <= 500ms（P95）
- 验证码发送接口响应时间 <= 200ms（P95）
- 支持并发注册（>= 100 QPS）

### NFR-002: 安全要求

- 密码必须加密存储（BCrypt 算法，成本因子 10）
- 验证码不可在响应中返回（只存储在 Redis）
- 防止暴力破解（验证码连续输错 5 次后锁定手机号 30 分钟）
- 防止短信轰炸（同一 IP 每小时最多发送 20 次验证码）

### NFR-003: 可用性要求

- 注册服务可用性 >= 99.9%
- 短信服务异常时，系统应降级处理（提示用户稍后重试，不影响其他功能）

### NFR-004: 易用性要求

- 注册表单实时验证（手机号格式、密码强度）
- 错误提示清晰友好（避免技术术语）
- 验证码输入框自动聚焦
- 验证码发送按钮显示倒计时（60 秒后可重新发送）
- 注册成功后有明确的成功提示

## 5. 验收标准总览

### 功能验收清单

- [ ] FR-001: 手机号注册（5 个测试场景）
- [ ] FR-002: 验证码发送（4 个测试场景）
- [ ] FR-003: 注册成功自动登录（2 个测试场景）

### 非功能验收清单

- [ ] 性能测试: 注册接口 P95 响应时间 <= 500ms
- [ ] 性能测试: 验证码发送接口 P95 响应时间 <= 200ms
- [ ] 性能测试: 支持 100 QPS 并发注册
- [ ] 安全测试: 密码加密存储（BCrypt）
- [ ] 安全测试: 防止暴力破解（5 次错误后锁定 30 分钟）
- [ ] 安全测试: 防止短信轰炸（同一 IP 每小时最多 20 次）
- [ ] 可用性测试: 短信服务异常时系统降级处理

## 6. 附录

### 变更历史

| 版本 | 日期 | 作者 | 变更内容 |
|------|------|------|----------|
| 1.0 | 2025-11-04 | 张三 | 初始版本 |

### 参考文档

- PRD 文档: [用户注册功能需求](link-to-prd)
```

---

## 示例 2: 订单支付功能（简化版 - 多轮澄清）

### 原始需求

```
需求标题: 订单支付功能

需求描述:
用户在购物车中选择商品后，可以进行支付。支持微信支付和支付宝支付。
支付成功后，订单状态变为"已支付"，库存扣减，发送支付成功通知。
```

### 步骤 2: 需求分析（提取 FR）

```markdown
### FR-001: 创建支付订单

**功能描述**: 用户选择支付方式后，系统创建支付订单并调用第三方支付接口。

**确认项**:
- [NEEDS CLARIFICATION] (P0) 支付订单是否包含优惠券、积分抵扣？
- [NEEDS CLARIFICATION] (P0) 支付订单的超时时间是多久？
- [NEEDS CLARIFICATION] (P1) 支付订单创建失败后，是否允许重试？


### FR-002: 支付结果处理

**功能描述**: 接收第三方支付平台的回调通知，更新订单状态和库存。

**确认项**:
- [NEEDS CLARIFICATION] (P0) 支付成功后的库存扣减是实时还是异步？
- [NEEDS CLARIFICATION] (P1) 支付失败后，订单状态是"已取消"还是"待支付"？
- [NEEDS CLARIFICATION] (P1) 是否需要支持自动退款（如库存不足）？
```

### 步骤 3: 澄清循环（多轮澄清）

**AI 发起第 1 轮澄清**（P0 问题）:

```
📋 澄清问题 1/6: 支付订单是否包含优惠券、积分抵扣？（P0 - 阻塞性）

选项:
a) 仅支持原价支付（不支持优惠券、积分）
b) 支持优惠券抵扣
c) 支持积分抵扣
d) 同时支持优惠券和积分抵扣

请选择（a/b/c/d）或提供其他建议。
```

**用户回复**: `d) 同时支持优惠券和积分抵扣`

**AI 更新确认项并追加新问题**:

```markdown
- [CLARIFIED] (P0) 支付订单是否包含优惠券、积分抵扣？
  - **决议**: 同时支持优惠券和积分抵扣
  - **理由**: 提升用户购买意愿
  - **验收标准**: 
    - [ ] 用户选择优惠券，支付金额 = 商品总价 - 优惠券金额
    - [ ] 用户使用积分，支付金额 = 商品总价 - 积分抵扣金额
    - [ ] 用户同时使用优惠券和积分，支付金额 = 商品总价 - 优惠券金额 - 积分抵扣金额

**新增确认项**（由决议引发）:
- [NEEDS CLARIFICATION] (P0) 优惠券和积分的使用顺序是什么？（先扣优惠券再扣积分，还是同时计算？）
- [NEEDS CLARIFICATION] (P1) 积分抵扣的比例是多少？（如 100 积分 = 1 元）
- [NEEDS CLARIFICATION] (P1) 是否有最低支付金额限制？（如至少支付 0.01 元）
```

**AI 继续澄清新增的 P0 问题**...（迭代澄清循环）

---

## 示例 3: 无变更 ID 的场景（只分析不生成文档）

### 用户请求

```
需求解读: 帮我分析一下这个需求：用户可以收藏商品，查看收藏列表，取消收藏。
（注意：用户未提供变更 ID）
```

### AI 的响应

```
✅ 需求分析（仅分析，不生成文档）

**原因**: 未提供变更 ID，按照规范只进行分析，不输出文档。

---

### 功能点分解

#### FR-001: 收藏商品

**功能描述**: 用户可以将感兴趣的商品添加到收藏列表。

**业务规则**:
- BR-001: 同一商品只能收藏一次（幂等性）
- BR-002: 收藏列表无上限（或设置上限，如 500 个）

**验收标准**:
- [ ] 用户点击"收藏"按钮，商品添加到收藏列表
- [ ] 重复收藏同一商品，系统提示"已收藏"

**待澄清项**:
- 收藏列表是否有上限？
- 收藏列表是否支持分组（如"想买"、"已购买"）？

（省略 FR-002、FR-003...）

---

**后续操作**: 如需生成正式文档，请提供变更 ID（格式: YYYY-MM-DD-feature-name）。
```

---

## 示例 4: 需求来源为文档链接

### 用户请求

```
需求解读: https://tapd.xxx/story/detail/123456，变更ID: 2025-11-05-order-refund
```

### AI 的操作

```
✅ 正在读取需求来源...

（AI 使用 web_fetch 工具或 mcp_call_tool 读取 TAPD 需求）

✅ 需求来源已读取（TAPD 需求 #123456）

需求标题: 订单退款功能
需求描述: ...（TAPD 内容）

---

（后续流程与示例 1 相同）
```

---

## 关键要点总结

### ✅ 正确示例

1. **澄清问题时提供选项**（而非开放式问题）
   ```
   ✅ 选项: a) 方案 A  b) 方案 B  c) 方案 C
   ❌ "密码强度要求是什么？"（开放式）
   ```

2. **验收标准可测试**（具体、可验证）
   ```
   ✅ 输入有效手机号、正确验证码，系统成功创建账号
   ❌ 用户注册功能正常工作
   ```

3. **业务规则清晰准确**（模态动词、量化指标）
   ```
   ✅ 验证码有效期 5 分钟（精确时间）
   ❌ 验证码过一段时间后失效（模糊时间）
   ```

4. **确认项标记状态**（NEEDS CLARIFICATION / CLARIFIED）
   ```
   ✅ [CLARIFIED] (P0) 问题 → 决议 + 理由 + 验收标准
   ❌ 问题已解决（未记录决议）
   ```

### ❌ 常见错误

1. **未提供变更 ID 就生成文档**
   ```
   ❌ 用户: "分析这个需求"（未提供变更 ID）
   ❌ AI: 直接生成 requirements.md 文档
   ✅ AI: 只进行分析，不输出文档
   ```

2. **删除既有确认项内容**
   ```
   ❌ 删除 [NEEDS CLARIFICATION] 标记
   ✅ 保留原有内容，追加 [CLARIFIED] 标记和决议
   ```

3. **澄清问题时使用开放式问题**
   ```
   ❌ "你希望密码强度是什么？"
   ✅ 选项: a) 弱（6-8 位）  b) 中（8-12 位）  c) 强（12+ 位）
   ```

4. **使用技术术语描述需求**
   ```
   ❌ 使用 MySQL 存储用户信息（这是设计）
   ✅ 系统能够持久化存储用户信息（这是需求）
   ```
