# ç¬¬ä¸‰æ–¹ API æ–‡æ¡£ç»“æ„æ¨¡æ¿å’Œæœ€ä½³å®è·µ

æœ¬æ–‡æ¡£æä¾›ç¬¬ä¸‰æ–¹ API æ–‡æ¡£çš„å®Œæ•´ç»“æ„æ¨¡æ¿å’Œæœ€ä½³å®è·µæŒ‡å—ï¼Œä½œä¸ºç”Ÿæˆæ–‡æ¡£æ—¶çš„å‚è€ƒã€‚

---

## 1. æ–‡æ¡£ç»“æ„æ¨¡æ¿

### 1.1 ä¸»æ–‡æ¡£ç»“æ„ï¼ˆå•æ–‡æ¡£æ¨¡å¼ï¼‰

```markdown
# {æ¨¡å—åç§°} - ç¬¬ä¸‰æ–¹ API ä½¿ç”¨æ–‡æ¡£

> **æ–‡æ¡£ç‰ˆæœ¬**: v{version}  
> **æœ€åæ›´æ–°**: {date}  
> **ç›®æ ‡å—ä¼—**: ç¬¬ä¸‰æ–¹å¼€å‘è€…ã€ç³»ç»Ÿé›†æˆå·¥ç¨‹å¸ˆ

## ğŸ“– ç›®å½•

1. æ¥å…¥æ¦‚è§ˆ
2. æ¥å£è¯¦ç»†è¯´æ˜
3. ä»£ç ç¤ºä¾‹é›†åˆ
4. æ•°æ®æ¨¡å‹å®šä¹‰
5. é›†æˆæŒ‡å—
6. é”™è¯¯å¤„ç†æŒ‡å—
7. é…ç½®è¯´æ˜
8. FAQ å’Œæ•…éšœæ’æŸ¥
9. ç‰ˆæœ¬å…¼å®¹æ€§
10. é™„å½•

---

## 1. æ¥å…¥æ¦‚è§ˆï¼ˆP0 - å¿…é¡»æœ‰ï¼‰

### 1.1 åŸºç¡€ä¿¡æ¯
- æ¨¡å—åç§°
- æ¨¡å—æ ‡è¯†
- ç‰ˆæœ¬ä¿¡æ¯
- è´Ÿè´£äººä¿¡æ¯

### 1.2 åŠŸèƒ½æ¦‚è¿°
- æ ¸å¿ƒèŒè´£
- ä¸šåŠ¡åœºæ™¯
- è®¾è®¡ç›®çš„
- ä¸šåŠ¡ä»·å€¼

### 1.3 å¿«é€Ÿå¼€å§‹ï¼ˆ5 åˆ†é’Ÿå…¥é—¨ï¼‰
- ç¯å¢ƒå‡†å¤‡æ­¥éª¤
- æœ€å°åŒ–ç¤ºä¾‹
- éªŒè¯æ–¹æ³•

### 1.4 æŠ€æœ¯è¦æ±‚
- HTTP åè®®ç‰ˆæœ¬
- è®¤è¯æ–¹å¼
- æ•°æ®æ ¼å¼
- å­—ç¬¦ç¼–ç 
- ç¯å¢ƒä¾èµ–

---

## 2. æ¥å£è¯¦ç»†è¯´æ˜ï¼ˆP0 - å¿…é¡»æœ‰ï¼‰

### 2.1 æ¥å£æ¸…å•

è¡¨æ ¼æ ¼å¼ï¼ŒåŒ…å«:
- æ¥å£åç§°
- HTTP æ–¹æ³•ï¼ˆGET/POST/PUT/DELETEï¼‰
- è·¯å¾„
- åŠŸèƒ½æè¿°
- é‡è¦ç¨‹åº¦ï¼ˆP0/P1/P2ï¼‰
- æƒé™è¦æ±‚

### 2.2 æ ¸å¿ƒæ¥å£è¯¦æƒ…

å¯¹æ¯ä¸ª P0/P1 çº§åˆ«æ¥å£æä¾›:

#### åŸºç¡€ä¿¡æ¯
- æ¥å£è·¯å¾„
- åŠŸèƒ½æè¿°
- è°ƒç”¨é¢‘ç‡é™åˆ¶
- SLA ä¿éšœ

#### è¿è¡Œæ—¶ç‰¹æ€§
- å¹‚ç­‰æ€§ï¼ˆæ˜¯å¦å¹‚ç­‰ï¼‰
- äº‹åŠ¡æ”¯æŒï¼ˆæ˜¯å¦æ”¯æŒäº‹åŠ¡ï¼‰
- å¼‚æ­¥ç‰¹æ€§ï¼ˆåŒæ­¥/å¼‚æ­¥ï¼‰

#### è¯·æ±‚è§„èŒƒ
- è¯·æ±‚å¤´ï¼ˆAuthorizationã€Content-Typeï¼‰
- è®¤è¯æ–¹å¼ï¼ˆBearer Tokenã€API Keyï¼‰
- å‚æ•°å®šä¹‰ï¼ˆåç§°ã€ç±»å‹ã€å¿…éœ€æ€§ã€é»˜è®¤å€¼ã€éªŒè¯è§„åˆ™ï¼‰
- å‚æ•°ä¾èµ–å…³ç³»ï¼ˆå¦‚å‚æ•° A ä¸º true æ—¶ï¼Œå‚æ•° B å¿…å¡«ï¼‰
- å‚æ•°äº’æ–¥å…³ç³»ï¼ˆå¦‚å‚æ•° A å’Œ B ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼‰

#### å“åº”è§„èŒƒ
- å“åº”æ ¼å¼ï¼ˆJSONã€XMLï¼‰
- æˆåŠŸå“åº”ï¼ˆç¤ºä¾‹ JSONï¼‰
- é”™è¯¯å“åº”ï¼ˆç¤ºä¾‹ JSONï¼‰

#### å¼‚å¸¸è¯´æ˜
- å¼‚å¸¸ç±»å‹ï¼ˆé”™è¯¯ç ï¼‰
- è§¦å‘æ¡ä»¶
- å¤„ç†å»ºè®®

---

## 3. ä»£ç ç¤ºä¾‹é›†åˆï¼ˆP0 - å¿…é¡»æœ‰ï¼‰

### 3.1 å¤šè¯­è¨€åˆ†å±‚ç¤ºä¾‹

#### åŸºç¡€å±‚ï¼ˆcURLï¼‰
å¿«é€ŸéªŒè¯æ¥å£ï¼Œæœ€ç®€å•çš„è°ƒç”¨æ–¹å¼

```bash
curl -X POST "https://api.example.com/endpoint" \
  -H "Authorization: Bearer API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"key": "value"}'
```

#### è¿›é˜¶å±‚ï¼ˆJavaScript/Python/Javaï¼‰
å®é™…ä¸šåŠ¡ä½¿ç”¨ï¼ŒåŒ…å«åŸºæœ¬é”™è¯¯å¤„ç†

```javascript
// JavaScript ç¤ºä¾‹
const axios = require('axios');

async function callAPI() {
  try {
    const response = await axios.post(url, data, { headers });
    return response.data;
  } catch (error) {
    console.error(error);
  }
}
```

#### å®Œæ•´å±‚ï¼ˆç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µï¼‰
åŒ…å«æ‰€æœ‰å‚æ•°ã€é”™è¯¯å¤„ç†ã€é‡è¯•é€»è¾‘

```python
# Python ç¤ºä¾‹
import requests
import time

class APIClient:
    def call_api(self, max_retries=3):
        for attempt in range(max_retries):
            try:
                response = requests.post(url, json=data, headers=headers)
                if response.status_code == 200:
                    return response.json()
                # é”™è¯¯å¤„ç†...
            except requests.Timeout:
                time.sleep(2 ** attempt)  # æŒ‡æ•°é€€é¿
        raise RuntimeError('API è°ƒç”¨å¤±è´¥')
```

### 3.2 åœºæ™¯åŒ–ç¤ºä¾‹

- åŸºç¡€è°ƒç”¨ç¤ºä¾‹
- å®Œæ•´åŠŸèƒ½ç¤ºä¾‹
- æ‰¹é‡æ“ä½œç¤ºä¾‹
- å¼‚æ­¥å¤„ç†ç¤ºä¾‹
- é”™è¯¯å¤„ç†ç¤ºä¾‹
- **å®Œæ•´æµç¨‹ç¤ºä¾‹**ï¼ˆç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹ï¼Œé‡è¦ï¼‰

### 3.3 ç¤ºä¾‹è¦æ±‚

- å¯æ‰§è¡Œæ€§ï¼ˆå¯ç›´æ¥è¿è¡Œï¼‰
- è¯¦ç»†æ³¨é‡Šï¼ˆè§£é‡Šå…³é”®ä»£ç ï¼‰
- å˜é‡è¯´æ˜ï¼ˆå¦‚ API_KEYã€BASE_URLï¼‰
- ç¯å¢ƒå‡†å¤‡ï¼ˆä¾èµ–å®‰è£…ã€é…ç½®è®¾ç½®ï¼‰

---

## 4. æ•°æ®æ¨¡å‹å®šä¹‰ï¼ˆP1 - å¼ºçƒˆæ¨èï¼‰

### 4.1 æ ¸å¿ƒæšä¸¾å®šä¹‰

è¡¨æ ¼æ ¼å¼ï¼ŒåŒ…å«:
- æšä¸¾åç§°
- æšä¸¾å€¼
- å«ä¹‰è¯´æ˜
- **çŠ¶æ€æµè½¬è§„åˆ™**ï¼ˆçŠ¶æ€ç±»æšä¸¾å¿…é¡»æœ‰ï¼Œä½¿ç”¨ Mermaid æµè½¬å›¾ï¼‰
- ä½¿ç”¨åœºæ™¯è¯´æ˜

**çŠ¶æ€æµè½¬å›¾ç¤ºä¾‹**:

```mermaid
stateDiagram-v2
    [*] --> PENDING : åˆ›å»ºè®¢å•
    PENDING --> PAID : æ”¯ä»˜
    PAID --> SHIPPED : å‘è´§
    SHIPPED --> COMPLETED : ç¡®è®¤æ”¶è´§
    PENDING --> CANCELLED : å–æ¶ˆ
```

### 4.2 æ•°æ®ç»“æ„

- è¯·æ±‚å¯¹è±¡ï¼ˆå­—æ®µåˆ—è¡¨ã€ç±»å‹ã€å¿…éœ€æ€§ã€è¯´æ˜ï¼‰
- å“åº”å¯¹è±¡ï¼ˆå­—æ®µåˆ—è¡¨ã€ç±»å‹ã€ç¤ºä¾‹å€¼ï¼‰
- æšä¸¾ç±»å‹
- å¤åˆç±»å‹ï¼ˆåµŒå¥—å¯¹è±¡ã€æ•°ç»„ï¼‰

### 4.3 æ•°æ®å­—å…¸

è¡¨æ ¼æ ¼å¼ï¼ŒåŒ…å«:
- å­—æ®µå
- å­—æ®µç±»å‹
- æ•°æ®æ ¼å¼ï¼ˆå¦‚æ—¥æœŸæ ¼å¼ ISO 8601ï¼‰
- ä¸šåŠ¡è§„åˆ™ï¼ˆå¦‚ç”¨æˆ·å 3-20 ä¸ªå­—ç¬¦ï¼‰
- æ•°æ®æ ¡éªŒè§„åˆ™

---

## 5. é›†æˆæŒ‡å—ï¼ˆP1 - å¼ºçƒˆæ¨èï¼‰

### 5.1 æ¥å…¥æ­¥éª¤

- **å‡†å¤‡å·¥ä½œ**: ç¯å¢ƒé…ç½®ã€ä¾èµ–å®‰è£…
- **å¼€å‘æ­¥éª¤**: æ¥å£è°ƒç”¨ã€æ•°æ®å¤„ç†
- **æµ‹è¯•éªŒè¯**: å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•
- **ä¸Šçº¿æ£€æŸ¥**: é…ç½®æ£€æŸ¥ã€ç›‘æ§è®¾ç½®

### 5.2 ä¾èµ–å…³ç³»

- **ä¸Šæ¸¸ä¾èµ–**: Maven ä¾èµ–ã€å¤–éƒ¨æœåŠ¡ã€ç¯å¢ƒä¾èµ–ï¼ˆæ•°æ®åº“/ç¼“å­˜/MQï¼‰
- **ä¸‹æ¸¸å½±å“**: å˜æ›´å½±å“è¯„ä¼°

### 5.3 æœ€ä½³å®è·µ

- **æ€§èƒ½ä¼˜åŒ–**: QPS/TPS é™åˆ¶ã€æ‰¹é‡æ“ä½œå»ºè®®ã€ç¼“å­˜ç­–ç•¥
- **å®‰å…¨å»ºè®®**: å‡­è¯ç®¡ç†ã€æ•°æ®åŠ å¯†ã€æ•æ„Ÿä¿¡æ¯å¤„ç†
- **ç›‘æ§å»ºè®®**: å…³é”®æŒ‡æ ‡ã€æ—¥å¿—è§„èŒƒã€å‘Šè­¦è®¾ç½®

### 5.4 åæ¨¡å¼è­¦å‘Š

- ä¸æ¨èçš„ç”¨æ³•
- å¸¸è§é”™è¯¯
- æ€§èƒ½é™·é˜±

---

## 6. é”™è¯¯å¤„ç†æŒ‡å—ï¼ˆP1 - å¼ºçƒˆæ¨èï¼‰

### 6.1 å¸¸è§é”™è¯¯åœºæ™¯

è¡¨æ ¼æ ¼å¼ï¼ŒåŒ…å«:
- é”™è¯¯åœºæ™¯
- é”™è¯¯ç 
- é”™è¯¯ä¿¡æ¯
- åŸå› 
- è§£å†³æ–¹æ¡ˆ

### 6.2 é”™è¯¯ç è¡¨

è¡¨æ ¼æ ¼å¼ï¼ŒåŒ…å«:
- é”™è¯¯ç 
- HTTP çŠ¶æ€ç 
- é”™è¯¯æè¿°
- è§¦å‘æ¡ä»¶
- è§£å†³æ–¹æ¡ˆ
- æ˜¯å¦å¯é‡è¯•

### 6.3 é‡è¯•ç­–ç•¥

- é‡è¯•åœºæ™¯ï¼ˆå“ªäº›é”™è¯¯å¯é‡è¯•ï¼‰
- é‡è¯•ç®—æ³•ï¼ˆæŒ‡æ•°é€€é¿ã€å›ºå®šå»¶è¿Ÿï¼‰
- é‡è¯•é™åˆ¶ï¼ˆæœ€å¤§é‡è¯•æ¬¡æ•°ã€è¶…æ—¶æ—¶é—´ï¼‰
- ç†”æ–­æœºåˆ¶ï¼ˆç†”æ–­æ¡ä»¶ã€æ¢å¤ç­–ç•¥ï¼‰

### 6.4 é™çº§ç­–ç•¥

- æœåŠ¡é™çº§åœºæ™¯
- é™çº§å¤„ç†æ–¹æ¡ˆ
- ç†”æ–­æœºåˆ¶ç¤ºä¾‹

---

## 7. é…ç½®è¯´æ˜ï¼ˆP2 - å»ºè®®è¡¥å……ï¼‰

### 7.1 ç¯å¢ƒé…ç½®

- å¼€å‘ç¯å¢ƒé…ç½®
- ç”Ÿäº§ç¯å¢ƒé…ç½®
- è°ƒè¯•å·¥å…·

### 7.2 é…ç½®å‚æ•°

è¡¨æ ¼æ ¼å¼ï¼ŒåŒ…å«:
- é…ç½®é¡¹
- ç±»å‹
- å¿…éœ€æ€§
- é»˜è®¤å€¼
- è¯´æ˜
- ç¤ºä¾‹å€¼

---

## 8. FAQ å’Œæ•…éšœæ’æŸ¥ï¼ˆP2 - å»ºè®®è¡¥å……ï¼‰

### 8.1 å¸¸è§é—®é¢˜

- æ¥å…¥é—®é¢˜ï¼ˆå¦‚ä½•è·å– API Keyã€å¦‚ä½•é…ç½®ç¯å¢ƒï¼‰
- è°ƒç”¨é—®é¢˜ï¼ˆå‚æ•°é”™è¯¯ã€è®¤è¯å¤±è´¥ï¼‰
- æ€§èƒ½é—®é¢˜ï¼ˆå“åº”æ…¢ã€è¶…æ—¶ï¼‰

### 8.2 æ•…éšœæ’æŸ¥

- è¯Šæ–­æ­¥éª¤
- æ—¥å¿—åˆ†æ
- å¸¸è§é”™è¯¯è§£å†³æ–¹æ¡ˆ

---

## 9. ç‰ˆæœ¬å…¼å®¹æ€§ï¼ˆP2 - å»ºè®®è¡¥å……ï¼‰

### 9.1 ç‰ˆæœ¬ç­–ç•¥

- ç‰ˆæœ¬å‘½åè§„èŒƒï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰
- å…¼å®¹æ€§æ‰¿è¯ºï¼ˆå‘åå…¼å®¹ç­–ç•¥ï¼‰
- åºŸå¼ƒé€šçŸ¥æœºåˆ¶

### 9.2 è¿ç§»æŒ‡å—

- ç‰ˆæœ¬å‡çº§æ­¥éª¤
- Breaking Changes åˆ—è¡¨
- è¿ç§»å·¥å…·ï¼ˆå¦‚é€‚ç”¨ï¼‰

### 9.3 å˜æ›´å†å²

è¡¨æ ¼æ ¼å¼ï¼ŒåŒ…å«:
- ç‰ˆæœ¬å·
- å‘å¸ƒæ—¥æœŸ
- å˜æ›´ç±»å‹ï¼ˆæ–°å¢/ä¿®æ”¹/åºŸå¼ƒ/åˆ é™¤ï¼‰
- å˜æ›´å†…å®¹

---

## 10. é™„å½•ï¼ˆP3 - é”¦ä¸Šæ·»èŠ±ï¼‰

### 10.1 æœ¯è¯­è¡¨

- å…³é”®æœ¯è¯­å®šä¹‰
- æœ¯è¯­è¯´æ˜

### 10.2 å‚è€ƒèµ„æ–™

- ç›¸å…³æ–‡æ¡£é“¾æ¥
- å¤–éƒ¨èµ„æºé“¾æ¥

---

**æ–‡æ¡£ç‰ˆæœ¬**: v{version}  
**æœ€åæ›´æ–°**: {date}
```

### 1.2 åˆ†å·æ–‡æ¡£ç»“æ„ï¼ˆåˆ†å·æ¨¡å¼ï¼‰

**ä¸»æ–‡æ¡£**: `{module-name}-api-guide.md`

```markdown
# {æ¨¡å—åç§°} - ç¬¬ä¸‰æ–¹ API ä½¿ç”¨æ–‡æ¡£

> **æ–‡æ¡£ç‰ˆæœ¬**: v{version}  
> **æœ€åæ›´æ–°**: {date}  
> **ç›®æ ‡å—ä¼—**: ç¬¬ä¸‰æ–¹å¼€å‘è€…ã€ç³»ç»Ÿé›†æˆå·¥ç¨‹å¸ˆ

## ğŸ“– æ–‡æ¡£å¯¼èˆª

### å®Œæ•´æ–‡æ¡£åˆ—è¡¨
- **ä¸»æ–‡æ¡£**ï¼ˆå½“å‰ï¼‰: æ¦‚è¿° + å¿«é€Ÿå¼€å§‹
- [ç¬¬ 1 éƒ¨åˆ†: æ¥å£æ¸…å•ä¸è¯¦æƒ…](./{module-name}-api-guide-part1.md)
- [ç¬¬ 2 éƒ¨åˆ†: ä»£ç ç¤ºä¾‹é›†åˆ](./{module-name}-api-guide-part2.md)
- [ç¬¬ 3 éƒ¨åˆ†: æ•°æ®æ¨¡å‹ + é›†æˆæŒ‡å—](./{module-name}-api-guide-part3.md)
- [ç¬¬ 4 éƒ¨åˆ†: é”™è¯¯å¤„ç† + é…ç½®è¯´æ˜ + FAQ](./{module-name}-api-guide-part4.md)

### å¿«é€Ÿç´¢å¼•
- [åˆ›å»º XX ç¤ºä¾‹](#å¿«é€Ÿå¼€å§‹)
- [å®Œæ•´æ¥å£æ¸…å•](./{module-name}-api-guide-part1.md#æ¥å£æ¸…å•)
- [çŠ¶æ€æµè½¬å›¾](./{module-name}-api-guide-part3.md#çŠ¶æ€æšä¸¾)
- [é”™è¯¯ç è¡¨](./{module-name}-api-guide-part4.md#é”™è¯¯ç è¡¨)

## 1. æ¥å…¥æ¦‚è§ˆ

(å†…å®¹ä¸å•æ–‡æ¡£æ¨¡å¼ç›¸åŒ)

---

**ä¸‹ä¸€ç¯‡**: [ç¬¬ 1 éƒ¨åˆ†: æ¥å£æ¸…å•ä¸è¯¦æƒ…](./{module-name}-api-guide-part1.md)
```

**åˆ†å· 1**: `{module-name}-api-guide-part1.md`

```markdown
# {æ¨¡å—åç§°} - ç¬¬ä¸‰æ–¹ API ä½¿ç”¨æ–‡æ¡£ï¼ˆç¬¬ 1 éƒ¨åˆ†ï¼‰

> **è¿”å›**: [ä¸»æ–‡æ¡£](./{module-name}-api-guide.md) | **ä¸‹ä¸€ç¯‡**: [ç¬¬ 2 éƒ¨åˆ†](./{module-name}-api-guide-part2.md)

## 2. æ¥å£è¯¦ç»†è¯´æ˜

(åŒ…å«æ¥å£æ¸…å•å’Œæ ¸å¿ƒæ¥å£è¯¦æƒ…)

---

**å¯¼èˆª**: [ä¸»æ–‡æ¡£](./{module-name}-api-guide.md) | **ä¸‹ä¸€ç¯‡**: [ç¬¬ 2 éƒ¨åˆ†](./{module-name}-api-guide-part2.md)
```

**åˆ†å· 2-N**: ç±»ä¼¼ç»“æ„

---

## 2. ä»£ç ç¤ºä¾‹æœ€ä½³å®è·µ

### 2.1 åŸºç¡€å±‚ç¤ºä¾‹ï¼ˆcURLï¼‰

**ç‰¹ç‚¹**:
- æœ€ç®€å•çš„è°ƒç”¨æ–¹å¼
- å¿«é€ŸéªŒè¯æ¥å£
- æ— éœ€ç¼–ç¨‹ç¯å¢ƒ

**æ¨¡æ¿**:

```bash
# ç®€æ´çš„ cURL ç¤ºä¾‹
curl -X {HTTP_METHOD} "{BASE_URL}{PATH}" \
  -H "Authorization: Bearer {API_KEY}" \
  -H "Content-Type: application/json" \
  -d '{JSON_DATA}'
```

### 2.2 è¿›é˜¶å±‚ç¤ºä¾‹ï¼ˆJavaScript/Python/Javaï¼‰

**ç‰¹ç‚¹**:
- å®é™…ä¸šåŠ¡ä½¿ç”¨
- åŒ…å«åŸºæœ¬é”™è¯¯å¤„ç†
- ä¸»æµè¯­è¨€å®ç°

**JavaScript æ¨¡æ¿**:

```javascript
const axios = require('axios');

async function callAPI(data) {
  try {
    const response = await axios.post(url, data, {
      headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
      }
    });
    return response.data;
  } catch (error) {
    console.error('API è°ƒç”¨å¤±è´¥:', error.response?.data || error.message);
    throw error;
  }
}
```

**Python æ¨¡æ¿**:

```python
import requests

def call_api(data):
    """è°ƒç”¨ API"""
    try:
        response = requests.post(
            url,
            json=data,
            headers={
                'Authorization': f'Bearer {API_KEY}',
                'Content-Type': 'application/json'
            },
            timeout=10
        )
        response.raise_for_status()
        return response.json()
    except requests.RequestException as e:
        print(f'API è°ƒç”¨å¤±è´¥: {e}')
        raise
```

### 2.3 å®Œæ•´å±‚ç¤ºä¾‹ï¼ˆç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µï¼‰

**ç‰¹ç‚¹**:
- åŒ…å«æ‰€æœ‰å‚æ•°
- å®Œæ•´çš„é”™è¯¯å¤„ç†
- é‡è¯•é€»è¾‘
- è¶…æ—¶æ§åˆ¶
- æ—¥å¿—è®°å½•

**Python å®Œæ•´ç¤ºä¾‹æ¨¡æ¿**:

```python
import requests
import time
import logging

logger = logging.getLogger(__name__)

class APIClient:
    """API å®¢æˆ·ç«¯ï¼ˆç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µï¼‰"""
    
    def __init__(self, base_url, api_key):
        self.base_url = base_url
        self.api_key = api_key
        self.session = requests.Session()
        self.session.headers.update({
            'Authorization': f'Bearer {api_key}',
            'Content-Type': 'application/json'
        })
    
    def call_api(self, endpoint, data, max_retries=3):
        """
        è°ƒç”¨ APIï¼ˆåŒ…å«é‡è¯•é€»è¾‘ï¼‰
        
        Args:
            endpoint: API ç«¯ç‚¹
            data: è¯·æ±‚æ•°æ®
            max_retries: æœ€å¤§é‡è¯•æ¬¡æ•°
        
        Returns:
            API å“åº”æ•°æ®
        
        Raises:
            ValueError: å‚æ•°é”™è¯¯
            RuntimeError: API è°ƒç”¨å¤±è´¥
        """
        url = f'{self.base_url}{endpoint}'
        
        for attempt in range(max_retries):
            try:
                logger.info(f'è°ƒç”¨ API: {endpoint}ï¼ˆç¬¬ {attempt + 1} æ¬¡å°è¯•ï¼‰')
                
                response = self.session.post(
                    url,
                    json=data,
                    timeout=10
                )
                
                # æˆåŠŸå“åº”
                if response.status_code == 200:
                    logger.info(f'API è°ƒç”¨æˆåŠŸ: {endpoint}')
                    return response.json()
                
                # å®¢æˆ·ç«¯é”™è¯¯ï¼ˆä¸é‡è¯•ï¼‰
                if 400 <= response.status_code < 500:
                    error_data = response.json()
                    logger.error(f'å‚æ•°é”™è¯¯: {error_data}')
                    raise ValueError(f'å‚æ•°é”™è¯¯: {error_data.get("message")}')
                
                # æœåŠ¡å™¨é”™è¯¯ï¼ˆé‡è¯•ï¼‰
                if response.status_code >= 500:
                    if attempt < max_retries - 1:
                        wait_time = 2 ** attempt  # æŒ‡æ•°é€€é¿
                        logger.warning(f'æœåŠ¡å™¨é”™è¯¯ï¼Œ{wait_time}ç§’åé‡è¯•...')
                        time.sleep(wait_time)
                        continue
                    logger.error(f'æœåŠ¡å™¨é”™è¯¯ï¼Œé‡è¯•æ¬¡æ•°å·²ç”¨å°½')
                    raise RuntimeError('æœåŠ¡å™¨é”™è¯¯ï¼Œé‡è¯•æ¬¡æ•°å·²ç”¨å°½')
            
            except requests.Timeout:
                if attempt < max_retries - 1:
                    logger.warning('è¯·æ±‚è¶…æ—¶ï¼Œ1ç§’åé‡è¯•...')
                    time.sleep(1)
                    continue
                logger.error('è¯·æ±‚è¶…æ—¶ï¼Œé‡è¯•æ¬¡æ•°å·²ç”¨å°½')
                raise RuntimeError('è¯·æ±‚è¶…æ—¶ï¼Œé‡è¯•æ¬¡æ•°å·²ç”¨å°½')
            
            except requests.RequestException as e:
                logger.error(f'ç½‘ç»œé”™è¯¯: {e}')
                raise RuntimeError(f'ç½‘ç»œé”™è¯¯: {str(e)}')
        
        raise RuntimeError('API è°ƒç”¨å¤±è´¥')
```

---

## 3. çŠ¶æ€æµè½¬å›¾æœ€ä½³å®è·µ

### 3.1 çŠ¶æ€æµè½¬å›¾æ¨¡æ¿

ä½¿ç”¨ Mermaid è¯­æ³•ç»˜åˆ¶çŠ¶æ€æµè½¬å›¾:

```mermaid
stateDiagram-v2
    [*] --> StateA : äº‹ä»¶1
    StateA --> StateB : äº‹ä»¶2
    StateB --> StateC : äº‹ä»¶3
    StateC --> [*] : äº‹ä»¶4
    StateA --> StateD : äº‹ä»¶5
    StateD --> [*] : äº‹ä»¶6
```

### 3.2 è®¢å•çŠ¶æ€æµè½¬å›¾ç¤ºä¾‹

```mermaid
stateDiagram-v2
    [*] --> PENDING : åˆ›å»ºè®¢å•
    PENDING --> PAID : æ”¯ä»˜
    PAID --> SHIPPED : å‘è´§
    SHIPPED --> COMPLETED : ç¡®è®¤æ”¶è´§
    PENDING --> CANCELLED : å–æ¶ˆ
    PAID --> REFUNDING : ç”³è¯·é€€æ¬¾
    REFUNDING --> REFUNDED : é€€æ¬¾å®Œæˆ
```

### 3.3 ç”¨æˆ·çŠ¶æ€æµè½¬å›¾ç¤ºä¾‹

```mermaid
stateDiagram-v2
    [*] --> ACTIVE : åˆ›å»ºç”¨æˆ·
    ACTIVE --> INACTIVE : åœç”¨
    ACTIVE --> LOCKED : é”å®š
    INACTIVE --> ACTIVE : æ¿€æ´»
    LOCKED --> ACTIVE : è§£é”
    ACTIVE --> DELETED : åˆ é™¤
    INACTIVE --> DELETED : åˆ é™¤
```

---

## 4. é”™è¯¯å¤„ç†æœ€ä½³å®è·µ

### 4.1 é”™è¯¯ç è®¾è®¡è§„èŒƒ

**å‘½åè§„èŒƒ**:
- ä½¿ç”¨å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿
- ä½¿ç”¨æè¿°æ€§åç§°
- åˆ†ç±»å‰ç¼€ï¼ˆå¦‚ VALIDATION_ã€PERMISSION_ã€SYSTEM_ï¼‰

**ç¤ºä¾‹**:

```
VALIDATION_ERROR          - å‚æ•°éªŒè¯å¤±è´¥
VALIDATION_MISSING_FIELD  - ç¼ºå°‘å¿…å¡«å­—æ®µ
VALIDATION_INVALID_FORMAT - æ ¼å¼é”™è¯¯

PERMISSION_DENIED         - æƒé™ä¸è¶³
PERMISSION_INVALID_TOKEN  - æ— æ•ˆçš„ä»¤ç‰Œ

SYSTEM_INTERNAL_ERROR     - ç³»ç»Ÿå†…éƒ¨é”™è¯¯
SYSTEM_DATABASE_ERROR     - æ•°æ®åº“é”™è¯¯
SYSTEM_NETWORK_ERROR      - ç½‘ç»œé”™è¯¯
```

### 4.2 é”™è¯¯å“åº”æ ¼å¼

**æ ‡å‡†é”™è¯¯å“åº”**:

```json
{
  "code": "VALIDATION_ERROR",
  "message": "å‚æ•°éªŒè¯å¤±è´¥",
  "details": {
    "username": "ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨ 3-20 ä¸ªå­—ç¬¦ä¹‹é—´",
    "password": "å¯†ç å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—"
  },
  "timestamp": "2025-11-10T10:00:00Z",
  "requestId": "req-123456"
}
```

### 4.3 é‡è¯•ç­–ç•¥æ¨¡æ¿

**æŒ‡æ•°é€€é¿ç®—æ³•**:

```python
import time

def call_api_with_retry(api_func, max_retries=3):
    """ä½¿ç”¨æŒ‡æ•°é€€é¿é‡è¯• API è°ƒç”¨"""
    for attempt in range(max_retries):
        try:
            return api_func()
        except RetryableError as e:
            if attempt < max_retries - 1:
                wait_time = 2 ** attempt  # 1s, 2s, 4s
                print(f'é‡è¯•ä¸­... {wait_time}ç§’åé‡è¯•')
                time.sleep(wait_time)
            else:
                raise RuntimeError('é‡è¯•æ¬¡æ•°å·²ç”¨å°½')
```

---

## 5. ç¬¬ä¸‰æ–¹å‹å¥½æ€§æœ€ä½³å®è·µ

### 5.1 é¿å…å†…éƒ¨æœ¯è¯­

**âŒ ä¸å¥½çš„ç¤ºä¾‹**:

```
è¯¥æ¥å£è°ƒç”¨ XXService çš„ doSomething æ–¹æ³•ï¼Œ
é€šè¿‡ XXMapper ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®...
```

**âœ… å¥½çš„ç¤ºä¾‹**:

```
è¯¥æ¥å£ä»æ•°æ®åº“æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯å¹¶è¿”å›...
```

### 5.2 æä¾›å……åˆ†æ³¨é‡Š

**âŒ ä¸å¥½çš„ç¤ºä¾‹**:

```python
def create_user(data):
    return api.post('/users', data)
```

**âœ… å¥½çš„ç¤ºä¾‹**:

```python
def create_user(username, email, password):
    """
    åˆ›å»ºç”¨æˆ·
    
    Args:
        username (str): ç”¨æˆ·åï¼Œ3-20 ä¸ªå­—ç¬¦
        email (str): é‚®ç®±åœ°å€ï¼Œå¿…é¡»æ˜¯æœ‰æ•ˆçš„é‚®ç®±æ ¼å¼
        password (str): å¯†ç ï¼Œè‡³å°‘ 8 ä¸ªå­—ç¬¦ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—
    
    Returns:
        dict: åˆ›å»ºçš„ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒ…å« idã€usernameã€emailã€status ç­‰å­—æ®µ
    
    Raises:
        ValueError: å‚æ•°éªŒè¯å¤±è´¥
        RuntimeError: ç”¨æˆ·åˆ›å»ºå¤±è´¥
    
    Example:
        >>> user = create_user('john_doe', 'john@example.com', 'SecurePass123!')
        >>> print(user['id'])
        1001
    """
    data = {
        'username': username,
        'email': email,
        'password': password
    }
    return api.post('/users', data)
```

### 5.3 æä¾›å®Œæ•´çš„ç¯å¢ƒå‡†å¤‡è¯´æ˜

**ç¤ºä¾‹**:

```markdown
## ç¯å¢ƒå‡†å¤‡

### 1. è·å– API Key

è”ç³»ç³»ç»Ÿç®¡ç†å‘˜è·å– API Keyï¼Œæˆ–åœ¨å¼€å‘è€…å¹³å°è‡ªåŠ©ç”³è¯·ã€‚

### 2. å®‰è£…ä¾èµ–

**Python**:
\`\`\`bash
pip install requests
\`\`\`

**JavaScript**:
\`\`\`bash
npm install axios
\`\`\`

### 3. é…ç½®ç¯å¢ƒå˜é‡

\`\`\`bash
export API_KEY="your_api_key_here"
export BASE_URL="https://api.example.com"
\`\`\`

### 4. éªŒè¯é…ç½®

\`\`\`bash
curl -X GET "$BASE_URL/health" -H "Authorization: Bearer $API_KEY"
\`\`\`

é¢„æœŸå“åº”:
\`\`\`json
{"status": "ok"}
\`\`\`
```

---

## 6. æ–‡æ¡£åˆ†å·ç­–ç•¥

### 6.1 åˆ†å·åˆ¤æ–­è§„åˆ™

- **æ¥å£ â‰¤ 5 ä¸ª**: å•æ–‡æ¡£æ¨¡å¼ï¼ˆ1500-2000 è¡Œï¼‰
- **æ¥å£ 6-15 ä¸ª**: ä¸»æ–‡æ¡£ + 2-3 ä¸ªåˆ†å·
- **æ¥å£ > 15 ä¸ª**: ä¸»æ–‡æ¡£ + 4-5 ä¸ªåˆ†å·

### 6.2 åˆ†å·ç»“æ„å»ºè®®

**åˆ†å· 1**: æ¥å£æ¸…å• + æ ¸å¿ƒæ¥å£è¯¦æƒ…ï¼ˆP0 æ¥å£ï¼‰
**åˆ†å· 2**: æ¬¡è¦æ¥å£è¯¦æƒ…ï¼ˆP1 æ¥å£ï¼‰+ ä»£ç ç¤ºä¾‹é›†åˆ
**åˆ†å· 3**: æ•°æ®æ¨¡å‹å®šä¹‰ + é›†æˆæŒ‡å—
**åˆ†å· 4**: é”™è¯¯å¤„ç†æŒ‡å— + é…ç½®è¯´æ˜ + FAQ
**åˆ†å· 5**: ç‰ˆæœ¬å…¼å®¹æ€§ + é™„å½•ï¼ˆå¯é€‰ï¼‰

### 6.3 æ¯ä¸ªåˆ†å·æ§åˆ¶è¡Œæ•°

- **ç†æƒ³è¡Œæ•°**: 800-1200 è¡Œ
- **æœ€å¤§è¡Œæ•°**: ä¸è¶…è¿‡ 1500 è¡Œ
- **æœ€å°è¡Œæ•°**: ä¸å°‘äº 500 è¡Œï¼ˆé¿å…åˆ†å·è¿‡ç»†ï¼‰

---

## 7. å†…å®¹ä¼˜å…ˆçº§è¯´æ˜

### 7.1 P0 - å¿…é¡»æœ‰ï¼ˆæ ¸å¿ƒå†…å®¹ï¼‰

- æ¥å…¥æ¦‚è§ˆï¼ˆåŸºç¡€ä¿¡æ¯ã€åŠŸèƒ½æ¦‚è¿°ã€å¿«é€Ÿå¼€å§‹ï¼‰
- æ¥å£è¯¦ç»†è¯´æ˜ï¼ˆæ¥å£æ¸…å•ã€æ ¸å¿ƒæ¥å£è¯¦æƒ…ï¼‰
- ä»£ç ç¤ºä¾‹é›†åˆï¼ˆå¤šè¯­è¨€åˆ†å±‚ç¤ºä¾‹ã€åœºæ™¯åŒ–ç¤ºä¾‹ï¼‰

### 7.2 P1 - å¼ºçƒˆæ¨èï¼ˆé‡è¦å†…å®¹ï¼‰

- æ•°æ®æ¨¡å‹å®šä¹‰ï¼ˆæšä¸¾å®šä¹‰ + çŠ¶æ€æµè½¬å›¾ã€æ•°æ®ç»“æ„ï¼‰
- é›†æˆæŒ‡å—ï¼ˆæ¥å…¥æ­¥éª¤ã€ä¾èµ–å…³ç³»ã€æœ€ä½³å®è·µï¼‰
- é”™è¯¯å¤„ç†æŒ‡å—ï¼ˆé”™è¯¯ç è¡¨ã€é‡è¯•ç­–ç•¥ï¼‰

### 7.3 P2 - å»ºè®®è¡¥å……ï¼ˆè¡¥å……å†…å®¹ï¼‰

- é…ç½®è¯´æ˜
- FAQ å’Œæ•…éšœæ’æŸ¥

### 7.4 P3 - é”¦ä¸Šæ·»èŠ±ï¼ˆå¯é€‰å†…å®¹ï¼‰

- ç‰ˆæœ¬å…¼å®¹æ€§
- é™„å½•ï¼ˆæœ¯è¯­è¡¨ã€å‚è€ƒèµ„æ–™ï¼‰

---

## 8. è´¨é‡æ ‡å‡†

### 8.1 å®Œæ•´æ€§æ ‡å‡†

- [ ] æ‰€æœ‰å¯¹å¤–æ¥å£å·²å®Œæ•´è®°å½•
- [ ] æ ¸å¿ƒæ¥å£æä¾› 3 å±‚ä»£ç ç¤ºä¾‹ï¼ˆåŸºç¡€/è¿›é˜¶/å®Œæ•´ï¼‰
- [ ] çŠ¶æ€æšä¸¾åŒ…å«æµè½¬å›¾
- [ ] è‡³å°‘ä¸€ä¸ªç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹ç¤ºä¾‹
- [ ] æ‰€æœ‰ä»£ç ç¤ºä¾‹å¯ç›´æ¥è¿è¡Œ

### 8.2 ç¬¬ä¸‰æ–¹å‹å¥½æ€§æ ‡å‡†

- [ ] æ— å†…éƒ¨æœ¯è¯­æˆ–å·²å……åˆ†è§£é‡Š
- [ ] ä»£ç ç¤ºä¾‹åŒ…å«è¯¦ç»†æ³¨é‡Š
- [ ] æä¾›å®Œæ•´çš„ç¯å¢ƒå‡†å¤‡è¯´æ˜
- [ ] é”™è¯¯å¤„ç†æŒ‡å—æ¸…æ™°

### 8.3 æ ¼å¼è§„èŒƒæ ‡å‡†

- [ ] Markdown æ ¼å¼æ­£ç¡®
- [ ] ä»£ç å—åŒ…å«è¯­è¨€æ ‡è¯†
- [ ] è¡¨æ ¼æ ¼å¼è§„èŒƒ
- [ ] é“¾æ¥æœ‰æ•ˆï¼ˆå†…éƒ¨é“¾æ¥ã€å¤–éƒ¨é“¾æ¥ï¼‰
- [ ] åˆ†å·æ–‡æ¡£åŒ…å«å¯¼èˆªé“¾æ¥

---

**ä½¿ç”¨å»ºè®®**: æœ¬æ–‡æ¡£ä½œä¸ºç”Ÿæˆç¬¬ä¸‰æ–¹ API æ–‡æ¡£æ—¶çš„å‚è€ƒï¼Œç¡®ä¿æ–‡æ¡£ç»“æ„å®Œæ•´ã€å†…å®¹å……å®ã€æ ¼å¼è§„èŒƒã€ç¬¬ä¸‰æ–¹å‹å¥½ã€‚
