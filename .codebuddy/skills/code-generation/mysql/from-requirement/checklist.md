# MySQL 从需求生成 DDL - 检查清单

## 需求分析检查

- [ ] 识别业务实体
- [ ] 识别实体属性
- [ ] 识别实体关系（一对一/一对多/多对多）
- [ ] 识别业务约束
- [ ] 识别查询场景

## 表设计检查

### 表名
- [ ] 使用小写字母
- [ ] 使用下划线分隔
- [ ] 使用 `t_` 前缀（可选）
- [ ] 名称有意义且简洁

### 字段设计
- [ ] 字段名使用小写下划线
- [ ] 字段类型选择合适
- [ ] 字段长度合理
- [ ] NOT NULL 约束正确
- [ ] DEFAULT 值合理
- [ ] COMMENT 注释完整

### 主键设计
- [ ] 使用 BIGINT 类型
- [ ] 使用 `id` 作为主键名
- [ ] 主键策略明确（自增/雪花ID）

### 通用字段
- [ ] 包含 `create_time`
- [ ] 包含 `update_time`
- [ ] 包含 `deleted`（逻辑删除）
- [ ] 包含 `version`（乐观锁，可选）

## 索引设计检查

### 主键索引
- [ ] PRIMARY KEY 定义正确

### 唯一索引
- [ ] 业务唯一字段有唯一索引
- [ ] 索引名使用 `uk_` 前缀

### 普通索引
- [ ] 高频查询字段有索引
- [ ] 索引名使用 `idx_` 前缀
- [ ] 组合索引字段顺序合理

### 外键
- [ ] 外键字段有索引
- [ ] 外键命名规范（`fk_` 前缀）
- [ ] 外键约束策略正确（可选）

## DDL 语法检查

- [ ] 使用 InnoDB 引擎
- [ ] 使用 utf8mb4 字符集
- [ ] 表注释完整
- [ ] 字段注释完整
- [ ] 语法正确可执行

## 字段类型选择

| 场景 | 推荐类型 |
|------|---------|
| 主键 | `BIGINT` |
| 状态 | `TINYINT` |
| 数量 | `INT` |
| 金额 | `DECIMAL(10,2)` |
| 短文本 | `VARCHAR(n)` |
| 长文本 | `TEXT` |
| 日期时间 | `DATETIME` |
| 布尔 | `TINYINT(1)` |
| JSON | `JSON` |

## 验证

```sql
-- 在数据库客户端执行 DDL
-- 检查是否成功创建
SHOW CREATE TABLE table_name;
```

- [ ] DDL 执行成功
- [ ] 表结构正确
- [ ] 索引创建成功
