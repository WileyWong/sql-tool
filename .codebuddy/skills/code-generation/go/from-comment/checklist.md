# Go 从注释生成代码 - 检查清单

## 注释解析检查

- [ ] 解析接口文档注释
- [ ] 解析每个方法的功能描述
- [ ] 提取业务规则列表
- [ ] 提取参数说明
- [ ] 提取返回值说明
- [ ] 提取错误处理要求

## 依赖分析检查

- [ ] 识别 Repository 依赖
- [ ] 识别其他 Service 依赖
- [ ] 识别外部服务依赖
- [ ] 识别工具类依赖

## 结构体生成检查

### Service 结构体
- [ ] 使用小写开头（私有）
- [ ] 包含所有依赖字段
- [ ] 包含 logger 字段

### 构造函数
- [ ] 函数名使用 `NewXxxService`
- [ ] 参数包含所有依赖
- [ ] 返回接口类型

## 方法实现检查

### 基础规范
- [ ] 接收器使用指针类型
- [ ] 第一个参数是 `context.Context`
- [ ] 错误作为最后一个返回值

### 错误处理
- [ ] 使用 `fmt.Errorf("xxx: %w", err)` 包装错误
- [ ] 业务错误使用自定义错误类型
- [ ] 检查 `errors.Is()` 判断特定错误

### 日志记录
- [ ] 使用结构化日志（zap）
- [ ] 关键操作有日志
- [ ] 错误有日志记录
- [ ] 日志包含关键参数

## 代码风格检查

- [ ] 包名使用小写
- [ ] 导出函数/类型使用 PascalCase
- [ ] 私有函数/类型使用 camelCase
- [ ] 注释使用完整句子

## 编译验证

```bash
go build ./...
```

- [ ] 编译成功
- [ ] 无编译错误
- [ ] `go vet` 无警告
