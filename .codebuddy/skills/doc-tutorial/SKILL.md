---
name: doc-tutorial
description: 作为专业文档工程师，使用四步连续流程（项目分析 → 大纲设计 → 内容编写 → 校验优化）为接口、方法及工具生成高质量应用文档。每步自动继续，确保文档结构清晰、内容准确、示例可复现、表述无歧义。触发词：生成技术文档、编写项目文档、创建使用指南、生成教程文档、技术文档编写。
category: documentation
keywords: [教程文档, 入门指南, 使用手册, 快速开始, 示例文档]
---

# Skill: doc-tutorial

作为专业文档工程师，通过**四步连续流程**为技术项目生成清晰、准确、可操作的应用文档。

## 🎯 目标

为技术项目生成高质量的应用文档，确保：
- **结构层次清晰**：遵循"概述→快速开始→核心应用→配置→异常处理"逻辑
- **内容客观准确**：基于项目实际文件，不编造功能
- **示例可复现**：提供可运行的代码示例和完整步骤
- **表述无歧义**：使用精准的祈使句，明确文件路径和版本号

**适用场景**:
- Web 应用（Spring Boot、Vue 等）
- CLI 工具（Python、Node.js、Bash 等）
- 库/框架（npm 包、Maven 库等）
- 微服务系统（Docker、Kubernetes 等）

**核心理念**:
- **客观真实**：所有内容基于项目实际，不添加不存在的功能
- **任务导向**：以用户实际操作为主线，避免冗长描述
- **依赖明确**：清晰说明技能/工具/命令的依赖关系
- **时间评估**：为关键步骤提供预计时间，便于规划

## 📋 前置条件

- [ ] 已有待编写文档的项目（源代码或可访问的项目目录）
- [ ] 了解项目的基本用途（最好已阅读现有 README 或需求文档）
- [ ] 有权限读取项目文件（package.json、pom.xml、源代码等）
- [ ] 明确文档输出位置（如 `docs/`、`tutorial/` 等）
- [ ] **已安装 Spec-Code 环境**（可选，用于技能库项目）

**推荐前置知识**（简要了解即可）:
- 项目所用编程语言（Java/JavaScript/Python 等）
- 基本的命令行操作
- Markdown 语法基础
- Spec-Code 使用基础（如项目为技能库）

## 🔄 执行步骤

本技能采用**四步连续流程**，每步完成后自动进入下一步，无需用户确认。

### 步骤 0: Spec-Code 环境准备（可选）

**目标**: 对于技能库项目，安装和配置 Spec-Code 环境。

**适用项目**: 包含 Skills、Commands 的技能库项目

**预计时间**: 5-10分钟（首次安装）

**执行**:

1. **安装 Spec-Code**
   
   根据操作系统选择对应脚本：
   
   **Windows (PowerShell)**:
   ```powershell
   # 下载并执行安装脚本
   .\spec-codebuddy.ps1 register
   ```
   
   **Linux/macOS (Bash)**:
   ```bash
   # 下载并执行安装脚本
   ./spec-codebuddy.sh register
   ```

2. **同步资源**
   
   在项目根目录执行：
   ```bash
   # 使用默认分支（master）
   spec-codebuddy
   
   # 或指定分支/版本
   spec-codebuddy main
   spec-codebuddy v1.0.0
   ```
   
   执行结果：
   - 克隆/更新项目到 `~/.spec-code`
   - 拷贝 `commands/`、`skills/`、`spec/` 到 `.codebuddy/` 目录

3. **验证安装**
   
   ```bash
   # 检查目录结构
   ls .codebuddy/
   # 应显示: commands/ skills/ spec/
   ```

**输出**: Spec-Code 环境就绪，可使用技能和命令。

**跳过条件**: 如果项目不是技能库，直接进入步骤 1。

---

### 步骤 1: 项目分析

**目标**: 扫描项目文件，解析技术栈、核心功能与架构。

**预计时间**: 2-5分钟

**执行**:

1. **扫描项目结构**
   ```bash
   # 列出项目目录
   list_files(target_directory=project_root, depth=2, limit=200)
   ```
   - 识别关键配置文件
   - 识别源代码目录
   - 识别文档和脚本目录

2. **解析技术栈**
   ```bash
   # 根据项目类型读取配置文件
   read_file(package.json)          # Node.js/前端项目
   read_file(pom.xml)               # Java Maven 项目
   read_file(requirements.txt)      # Python 项目
   read_file(docker-compose.yml)    # 容器化项目
   ```
   
   提取信息：
   - 项目名称、版本、描述
   - 核心依赖和版本号（仅列出关键依赖，不超过10个）
   - 构建/启动脚本
   - 运行环境要求

3. **分析核心功能**
   ```bash
   # 读取入口文件和核心模块
   read_file(src/main/java/Application.java)  # Java 应用
   read_file(src/App.vue)                      # Vue 应用
   read_file(main.py)                          # Python 应用
   
   # 如果项目有 Skills 或 Commands，识别依赖关系
   list_files(skills/, depth=2, limit=100)
   list_files(commands/, depth=2, limit=100)
   ```
   
   分析内容：
   - 入口点和启动流程
   - 核心模块划分（简要说明，不超过5个模块）
   - 主要功能列表
   - **技能/命令依赖关系**（如果是技能库项目）

4. **提取配置和运行方式**
   - 配置文件位置（`application.yml`、`config.json`）
   - 关键配置项（仅列出必需项，不超过5个）
   - 启动命令
   - 构建命令（如适用）

**输出**: 生成《项目分析报告》，包含：

```markdown
# 项目分析报告

## 技术架构
- 项目类型: {Web应用/CLI工具/库/框架}
- 编程语言: {Java/JavaScript/Python等}
- 核心框架: {Spring Boot/Vue/Django等} {版本号}

## 核心模块
- 模块1: {功能说明}
- 模块2: {功能说明}
- 入口点: {文件路径}

## 依赖关系（如适用）
- 技能A 依赖 技能B、技能C
- 命令X 依赖 技能A、技能D

## 配置和启动
- 配置文件: {路径}
- 启动命令: {命令}
- 构建命令: {命令}（如适用）
```

**自动继续**: 完成后直接进入步骤 2。

---

### 步骤 2: 大纲设计

**目标**: 创建任务导向型大纲，遵循"概述→快速开始→核心应用→配置→异常处理"逻辑。

**预计时间**: 3-5分钟

**执行**:

1. **确定文档类型和结构**
   
   根据项目类型选择标准大纲：
   
   - **Web 应用**: 概述 → 快速开始 → 核心功能 → 配置说明 → 异常处理
   - **CLI 工具**: 概述 → 安装 → 基础用法 → 高级功能 → 故障排除
   - **库/框架**: 概述 → 快速开始 → 核心概念 → API 参考 → 最佳实践
   - **技能库项目**: 概述 → 技能介绍 → 快速开始 → 核心应用（含依赖关系）→ 配置与运维

2. **应用大纲撰写原则**
   
   - **任务导向**: 每个章节以"如何..."为主题，避免冗长的功能描述
   - **循序渐进**: "入门→基础→进阶"的学习路径
   - **预见异常**: 关键步骤后标注可能的错误（每步不超过2个异常）
   - **依赖明确**: 说明技能/工具/命令之间的依赖关系（如适用）
   - **技能描述极简**: 技能表格只保留2列（名称|说明），每个说明不超过10字
   - **使用技能实际名称**: 从 `skills/*/SKILL.md` 的 frontmatter 中获取技能名称（name字段）
   - **使用技能实际功能说明**: 从 `skills/*/SKILL.md` 的 frontmatter 中获取简短描述（description字段）
   - **时间评估层级化**: 快速开始章节标注总时间，关键步骤标注具体时间

3. **生成结构化大纲**
   
   使用参考模板（`templates/doc-outline-template.md`），标准结构：
   
   ```markdown
   ## 1. 概述
   - 项目简介（1-2句话）
   - 核心特性（不超过5个）
   - 应用场景（2-3个典型场景）
   
   ## 2. Spec-Code 环境准备（技能库项目适用）
   - 安装说明
   - 同步资源
   
   ## 3. 技能/工具介绍（如适用）
   - 技能列表（表格2列：名称|说明，每个不超过10字）
     * 使用技能的实际 name 字段（从 SKILL.md frontmatter 获取）
     * 使用技能的实际 description 字段（从 SKILL.md frontmatter 获取，精简至10字）
   - 依赖关系（流程图或表格，标注依赖项列）
   
   ## 4. 快速开始（⏱️ 预计15-20分钟）
   - 前置知识（简要列举）
   - 环境要求（版本号）
   - 安装步骤（编号清晰，每步1-3行）
   - 首个示例
     异常：依赖安装失败 → 检查网络或配置腾讯 Maven 仓库源
   
   ## 5. 核心应用
   - 功能A的使用流程
     - 依赖项（如适用）
     - 操作步骤
     - 参数说明（表格化）
     异常：配置错误 → 检查配置文件格式
   
   ## 6. 配置说明（可选）
   - 配置项列表（表格，仅必需项）
   
   ## 7. 异常处理
   - 常见错误（不超过5个）
   - 原因和解决方案
   ```

**输出**: 生成《文档大纲》

**自动继续**: 完成后直接进入步骤 3。

---

### 步骤 3: 内容编写

**目标**: 依据大纲展开完整内容，确保客观、简洁、可操作。

**预计时间**: 10-20分钟

**执行**:

1. **概述章节编写**
   
   - 项目简介（1-2句话，基于 package.json/pom.xml 的 description）
   - 核心特性（不超过5个，基于实际功能）
   - 应用场景（2-3个实际场景）
   - **避免过度描述**：不编写冗长的技术介绍

2. **Spec-Code 环境准备章节（技能库项目）**
   
   如果是技能库项目，编写环境安装说明：
   ```markdown
   ## 2. Spec-Code 环境准备
   
   ### 2.1 安装 Spec-Code
   
   **Windows (PowerShell)**:
   ```powershell
   .\spec-codebuddy.ps1 register
   ```
   
   **Linux/macOS (Bash)**:
   ```bash
   ./spec-codebuddy.sh register
   ```
   
   ### 2.2 同步资源
   
   在项目根目录执行：
   ```bash
   spec-codebuddy
   ```
   
   **验证**: 检查 `.codebuddy/` 目录是否包含 `commands/`、`skills/`、`spec/`
   ```

3. **技能/工具介绍（如适用）**
   
   对于技能库项目：
   - **读取技能元数据**（关键步骤）：
     ```bash
     # 批量读取技能的 SKILL.md frontmatter
     read_file(skills/req-clarify/SKILL.md, limit=15)
     read_file(skills/design-feature/SKILL.md, limit=15)
     read_file(skills/design-architect/SKILL.md, limit=15)
     # ... 根据项目实际技能数量
     ```
   
   - **提取技能信息**：
     ```yaml
     # 从 frontmatter 中提取
     name: req-clarify  # 使用此作为技能名称
     description: 在设计前进行结构化澄清...  # 精简至10字以内
     ```
   
   - 列出技能清单（表格2列：名称|说明，每个不超过10字）
   - **明确依赖关系**（使用流程图 + 表格依赖列，双重可视化）
   
   **示例**（优化格式）:
   ```markdown
   ## 3.1 技能库列表
   
   | 技能名称 | 说明 |
   |---------|------|
   | req-clarify | 需求澄清 |
   | req-explain | 需求解析 |
   | design-feature | 功能详细设计 |
   | design-architect | 系统架构设计 |
   | tdd-api-test-case | 设计API测试用例 |
   
   ## 3.2 技能协作流程
   
   ```mermaid
   graph TD
       A[需求文档] --> B[req-clarify]
       B --> C[澄清后需求]
       C --> D[design-feature]
       D --> E[功能设计文档]
   ```
   
   **依赖说明**:
   - design-feature 依赖 req-clarify 的输出
   - 所有设计技能需要先完成需求澄清
   ```

3. **快速开始章节编写**
   
   **预计时间标注**（层级化）:
   ```markdown
   ## 4. 快速开始（⏱️ 预计30-40分钟）
   
   ### 4.1 环境准备（⏱️ 15-20分钟）
   
   ### 4.2 第一个示例（⏱️ 15-20分钟）
     步骤1（⏱️ 3分钟）
     步骤2（⏱️ 5分钟）
     步骤3（⏱️ 3-5分钟）
     步骤4（⏱️ 1分钟）
   ```
   
   **前置知识极简化**（不超过5项，每项不超过10字）:
   ```markdown
   ### 4.1 前置知识
   
   **必需知识**:
   - HTTP协议（GET/POST）
   - JSON数据格式
   - 测试用例概念
   
   **推荐知识**:
   - Java编程基础
   - JUnit测试框架
   
   **技能库项目额外要求**:
   - Spec-Code 基础使用
   - 技能调用方式
   ```
   
   **环境准备压缩化**（47行→20行）:
   - 仅列出必需环境和版本号（3-5项）
   - 1个快速验证命令
   - 不逐个检查每个工具
   - **技能库项目**: 包含 Spec-Code 安装验证
   
   ```markdown
   ### 4.2 环境准备
   
   **系统要求**:
   ```bash
   # 一键验证（需要JDK 8+, Maven 3.6+）
   java -version && mvn -version
   
   # 技能库项目额外验证
   ls .codebuddy/  # 应显示: commands/ skills/ spec/
   ```
   
   **快速初始化**:
   [优先推荐使用 init-backend-scaffold 技能]
   
   **⚠️ Maven 仓库配置（Java 项目必需）**:
   - **强制要求**: Maven 项目必须配置腾讯 Maven 仓库源
   - **配置位置**: `~/.m2/settings.xml` 或项目 `pom.xml`
   - **重要性**: 确保依赖正常下载，避免网络问题
   ```
   
   **初始化项目（优先推荐技能）**:
   ```markdown
   ### 4.3 初始化项目
   
   **✅ 使用 init-backend-scaffold 技能**（推荐）:
   
   **在 CodeBuddy 中执行**：
   ```
   使用 init-backend-scaffold 技能初始化 Java 测试项目
   ```
   
   **优势**:
   - 快速创建标准结构
   - 自动配置测试依赖
   - 包含常用工具类
   
   **⚠️ 或手动初始化**（备选）:
   ```bash
   mvn archetype:generate -DgroupId=com.example -DartifactId=api-test
   cd api-test
   ```
   （需手动配置依赖，详见4.4节）
   ```
   
   **安装步骤**（编号清晰，预计时间）:
   ```markdown
   **步骤1**: 配置依赖（⏱️ 2分钟）
   编辑 `pom.xml`，添加测试依赖：
   ```xml
   <dependencies>
       <dependency>
           <groupId>com.squareup.okhttp3</groupId>
           <artifactId>okhttp</artifactId>
           <version>4.9.0</version>
       </dependency>
   </dependencies>
   ```
   
   **步骤2**: 安装依赖（⏱️ 3-5分钟）
   ```bash
   mvn clean install
   ```
   
   > ⚠️ **异常**: 依赖下载失败
   > - **原因**: 网络问题或未配置腾讯 Maven 仓库源
   > - **解决**: 必须配置腾讯 Maven 仓库源（参考 `settings.xml`）
   > - **重要**: Maven 仓库配置必须使用腾讯仓库源
   ```

4. **核心应用章节编写**
   
   **强调通过技能/命令生成**（标准格式：依赖项+输出位置+下一步）:
   ```markdown
   ### 5.1 生成测试用例
   
   **✅ 使用 tdd-api-test-case 技能**:
   
   **在 CodeBuddy 中执行**：
   ```
   使用 tdd-api-test-case 技能，根据 workspace/test/guide/user-api.md 接口文档，
   编写测试用例，输出到 workspace/test/cases/user-api-test-cases.md
   ```
   
   **依赖项**: 需要先准备API接口文档（workspace/test/guide/user-api.md）
   **输出文件**: workspace/test/cases/user-api-test-cases.md
   **下一步**: 使用 tdd-gen-api-test-code 技能生成测试代码
   **技能名称**: tdd-api-test-case（从 skills/tdd-api-test-case/SKILL.md 的 name 字段获取）
   **技能说明**: 设计API测试用例（从 description 字段精简）
   
   **生成内容**:
   - 正常场景测试用例（Happy Path）
   - 异常场景测试用例（参数验证、权限）
   - 边界场景测试用例（边界值、特殊字符）
   ```
   
   **参数表格化**（如适用）:
   ```markdown
   | 参数名 | 类型 | 必填 | 说明 | 示例 |
   |--------|------|------|------|------|
   | username | String | 是 | 用户名 | "admin" |
   | email | String | 是 | 邮箱 | "admin@example.com" |
   ```

5. **代码示例编写**（完整可运行）
   
   ```java
   // ✅ 完整示例（包含导入）
   import com.example.test.ApiTestUtil;
   import okhttp3.Request;
   import okhttp3.Response;
   
   // 构建请求
   Request request = ApiTestUtil.buildGetRequest(
       "http://localhost:8080",
       "/api/users/1",
       "12345",
       "admin"
   );
   
   // 执行请求
   Response response = ApiTestUtil.executeRequest(request);
   
   // 验证结果
   ApiTestUtil.assertResponse(response, 200, "\"id\":1");
   ```

6. **去除无关内容**（零容忍原则）
   
   **必须删除的内容**:
   - ❌ 架构设计理念（如"分层架构"、"SOLID原则"）
   - ❌ 性能优化建议（如"调优参数"、"并发优化"）
   - ❌ 冗长的理论讲解（如"测试金字塔"、"TDD理论"）
   - ❌ 过度详细的环境检查（逐个工具验证）
   - ❌ 完整的依赖清单（26行POM配置 → 5行总结）
   - ❌ 逐个目录创建命令（技能自动生成）
   
   **保留的内容**:
   - ✅ 直接的操作步骤
   - ✅ 必需的配置说明
   - ✅ 关键的参数表格
   - ✅ 可运行的代码示例

**输出**: 生成《技术文档初稿》

**自动继续**: 完成后直接进入步骤 4。

---

### 步骤 4: 校验优化

**目标**: 交叉核对代码与文档，确保客观准确、无夸大、无遗漏。

**预计时间**: 5-10分钟

**执行**:

1. **核对准确性**
   
   使用工具验证：
   ```bash
   # 验证文件路径
   read_file(src/main/resources/application.yml)
   
   # 验证配置项
   search_content(directory=project_root, pattern="server.port")
   
   # 验证技能是否存在
   read_file(skills/tdd-api-test-case/SKILL.md)
   ```
   
   检查清单：
   - [ ] 所有文件路径存在于项目中
   - [ ] 所有命令可在项目中执行
   - [ ] 所有配置项与实际配置文件一致
   - [ ] 所有版本号与 package.json/pom.xml 一致
   - [ ] 代码示例可编译/运行
   - [ ] **技能/命令依赖关系正确**
   - [ ] **未添加不存在的功能或特性**

2. **检查完整性**
   
   - [ ] 所有主要功能都有说明（不添加额外功能）
   - [ ] 核心技能/API 都有示例和参数表格
   - [ ] 关键配置项都有说明（不超过10个）
   - [ ] 常见错误都有解决方案（不超过5个）
   - [ ] 安装步骤完整（依赖安装、配置、启动）

3. **验证示例可复现**
   
   - 代码示例包含完整的导入语句
   - 命令可以直接复制执行
   - 配置文件格式正确（JSON/YAML/Properties）
   - 技能调用示例准确（包含正确的技能名称）

4. **确保表述客观无夸大**
   
   优化表达：
   
   ❌ **夸大**: "这是最强大的测试框架"
   ✅ **客观**: "支持 JUnit 5 测试框架"
   
   ❌ **不精准**: "配置数据库"
   ✅ **精准**: "在 `src/main/resources/application.yml` 中配置 MySQL 数据库连接"
   
   ❌ **不精准**: "使用最新版本"
   ✅ **精准**: "使用 Node.js 18.16.0 或更高版本"
   
   ❌ **添加不存在的功能**: "支持自动部署到云端"（实际不支持）
   ✅ **客观描述**: "支持本地启动和测试"

5. **去除无关内容**
   
   删除以下内容：
   - ❌ 与应用文档无关的性能调优建议
   - ❌ 与应用文档无关的架构设计讨论
   - ❌ 过度的理论讲解（保持简洁）
   - ❌ 冗长的技能功能描述（每个技能不超过1-2行）

**输出**: 

1. **技术文档终稿**（包含所有修正）
2. **修改说明**（简要列出修正的关键点）

**完成标志**: 
> "【全部步骤完成】技术文档终稿已生成。文档基于项目实际，确保了客观准确、简洁易读、示例可复现。"

---

## 💡 最佳实践

### 1. 客观真实原则

✅ **推荐**:
```markdown
## 核心特性
- 支持 JUnit 5 测试框架
- 使用 OkHttp3 HTTP 客户端
- 提供测试用例生成技能
```

❌ **不推荐**:
```markdown
## 核心特性
- 业界最先进的测试框架
- 强大的HTTP客户端
- 智能的测试用例自动生成系统
（夸大、主观）
```

### 2. 技能名称和说明获取原则

✅ **从 SKILL.md frontmatter 获取**:
```markdown
## 技能库介绍

**获取步骤**:
1. 读取技能的 SKILL.md 文件（前15行）
2. 提取 frontmatter 中的 name 和 description 字段
3. 精简 description 至 10 字以内

**示例**:
```bash
# 读取技能元数据
read_file(skills/tdd-api-test-case/SKILL.md, limit=15)
```

```yaml
# frontmatter 示例
---
name: api-test-case
description: 根据接口设计文档为API接口编写功能层面的测试用例
---
```

**技能表格**:
| 技能名称 | 说明 |
|---------|------|
| api-test-case | 设计API测试用例 |
| api-test-case-with-code | 增强已有测试用例 |
| gen-api-test-code | 生成测试代码 |
```

❌ **手动编写或猜测**:
```markdown
## 技能库介绍

| 技能名称 | 说明 |
|---------|------|
| test-case | 测试用例 |  <!-- 错误：未使用实际 name -->
| code-gen | 代码生成 |  <!-- 错误：未使用实际 name -->
```

### 3. 简洁描述原则

✅ **技能/工具简洁介绍**:
```markdown
## 技能库介绍

| 技能名称 | 说明 |
|---------|------|
| tdd-api-test-case | 设计API测试用例 |
| tdd-gen-api-test-code | 生成测试代码 |
| tdd-api-test-report | 生成测试报告 |
```

❌ **冗长描述**:
```markdown
## 技能库介绍

### tdd-api-test-case
这是一个非常强大的测试用例设计技能，它可以帮助你快速高效地设计出高质量的API测试用例，支持多种场景，包括正常场景、异常场景、边界场景等，是测试工程师的得力助手...（冗长）
```

### 3. 依赖关系明确原则

✅ **清晰的依赖说明**:
```markdown
## 技能工作流程

```
需求分析
    ↓
tdd-api-test-case（设计测试用例）
    ↓
tdd-gen-api-test-code（生成测试代码，依赖上一步的用例文档）
    ↓
执行测试
    ↓
tdd-api-test-report（生成报告，依赖测试执行结果）
```

**依赖说明**:
- `tdd-gen-api-test-code` 需要先执行 `tdd-api-test-case`
- `tdd-api-test-report` 需要先执行测试代码
```

❌ **不清晰的依赖**:
```markdown
使用这些技能可以完成测试工作。
（未说明依赖关系和执行顺序）
```

### 4. 时间评估原则

✅ **提供预计时间**:
```markdown
## 2. 快速开始（⏱️ 预计15-20分钟）

### 2.1 环境准备（⏱️ 5分钟）
...

### 2.2 安装依赖（⏱️ 3-5分钟）
...

### 2.3 运行示例（⏱️ 2分钟）
...
```

❌ **缺少时间评估**:
```markdown
## 2. 快速开始
（用户无法评估所需时间）
```

### 5. 环境准备精简原则

✅ **精简的环境说明**:
```markdown
### 环境要求

- Java: JDK 8+
- Maven: 3.6+
- IDE: IntelliJ IDEA / VS Code

**快速验证**: `java -version && mvn -version`

**⚠️ Maven 仓库配置（必需）**:
- **强制要求**: Maven 项目必须配置腾讯 Maven 仓库源
- **配置位置**: `~/.m2/settings.xml`
- **说明**: 确保依赖正常下载
```

❌ **过度强调环境**:
```markdown
### 环境准备

**系统要求**:
- 操作系统: Windows/Linux/macOS
- ...（过多说明）

**检查环境**:
# 检查Java版本
java -version
# 期望输出: java version "1.8.0_xxx"

# 检查Maven版本
mvn -version
# 期望输出: Apache Maven 3.6.x

...（过多检查步骤）
```

### 6. Maven 仓库配置原则（Java 项目）

✅ **强制配置腾讯 Maven 仓库源**:
```markdown
### 环境准备

**Maven 仓库配置（必需）**:

配置腾讯 Maven 仓库源（编辑 `~/.m2/settings.xml`）:
```xml
<settings>
  <mirrors>
    <mirror>
      <id>tencent-maven</id>
      <mirrorOf>*</mirrorOf>
      <name>Tencent Maven Repository</name>
      <url>https://mirrors.tencent.com/maven/</url>
    </mirror>
  </mirrors>
</settings>
```

**重要性**:
- Maven 项目必须配置腾讯仓库源
- 确保依赖正常下载
- 避免网络问题导致构建失败
```

❌ **使用其他镜像源或不配置**:
```markdown
使用阿里云或其他镜像源 ❌
未配置 Maven 镜像源 ❌
```

### 7. 技能调用示例原则

✅ **明确的技能调用示例**:
```markdown
### 3.1 生成测试用例

**使用 tdd-api-test-case 技能**:

**在 CodeBuddy 中执行**：
```
使用 tdd-api-test-case 技能为用户管理API生成测试用例
```

**输出位置**: `workspace/test/cases/user-api-test-cases.md`
```

❌ **模糊的说明**:
```markdown
### 3.1 生成测试用例

使用相关技能生成测试用例。
（未说明具体技能名称和调用方式）
```

### 8. 去除无关内容原则

✅ **聚焦应用文档**:
```markdown
## 核心功能
- 生成测试用例
- 生成测试代码
- 生成测试报告

## 快速开始
...（直接进入操作步骤）
```

❌ **包含无关内容**:
```markdown
## 核心功能
- 生成测试用例
- 生成测试代码
- 生成测试报告

## 架构设计理念
本系统采用分层架构设计，遵循SOLID原则...（与应用文档无关）

## 性能优化建议
为了获得更好的性能，建议...（与应用文档无关）
```

## ⚠️ 常见错误

### 错误 0: 未使用技能实际名称和说明

- **症状**: 技能表格中使用手动编写或猜测的名称和说明，与实际不符
- **原因**: 未读取 SKILL.md frontmatter 中的 name 和 description 字段
- **解决**: 
  - ✅ 使用 `read_file(skills/*/SKILL.md, limit=15)` 批量读取技能元数据
  - ✅ 从 frontmatter 提取 `name` 字段作为技能名称
  - ✅ 从 frontmatter 提取 `description` 字段并精简至 10 字
  - ❌ 不要手动编写或猜测技能名称
  
  **示例**:
  ```markdown
  ❌ 错误（手动编写）:
  | 技能名称 | 说明 |
  | test-case | 测试用例 |
  | code-gen | 代码生成 |
  
  ✅ 正确（从 frontmatter 获取）:
  # 先读取技能元数据
  read_file(skills/tdd-api-test-case/SKILL.md, limit=15)
  # frontmatter: name: api-test-case, description: 根据接口设计文档...
  
  | 技能名称 | 说明 |
  | api-test-case | 设计API测试用例 |
  | api-test-case-with-code | 增强已有测试用例 |
  ```

### 错误 1: 技能描述过于详细

- **症状**: 技能表格包含4列（名称|用途|输入|输出），每个技能说明超过1行
- **原因**: 未遵循"超简化"原则
- **解决**: 
  - ✅ 使用2列表格（名称|说明）
  - ✅ 每个说明不超过10字
  - ❌ 删除"输入"和"输出"列（详细信息放在技能的SKILL.md中）
  
  **示例**:
  ```markdown
  ❌ 旧格式（4列，详细）:
  | 技能名称 | 用途 | 输入 | 输出 |
  | tdd-api-test-case | 编写API测试用例 | 接口设计文档 | 测试用例文档 |
  
  ✅ 新格式（2列，简洁）:
  | 技能名称 | 说明 |
  | tdd-api-test-case | 设计API测试用例 |
  ```

### 错误 2: 依赖关系表述不清

- **症状**: 用户不知道技能执行顺序，或只有流程图没有文字说明
- **原因**: 依赖关系未可视化（流程图 + 依赖列 + 文字说明）
- **解决**: 
  - ✅ 同时提供流程图和依赖说明
  - ✅ 在技能表格中增加"依赖项"列（如适用）
  - ✅ 在步骤说明中标注"依赖项"和"下一步"
  
  **示例**:
  ```markdown
  ✅ 完整的依赖说明:
  
  ## 1.2 技能协作流程
  
  ```mermaid
  graph TD
      A[需求文档] --> B[tdd-api-test-case]
      B --> C[测试用例]
      C --> D[tdd-gen-api-test-code]
  ```
  
  **依赖说明**:
  - tdd-gen-api-test-code 依赖 tdd-api-test-case 的输出
  - 输出文件: workspace/test/cases/xxx.md
  ```

### 错误 3: 前置知识描述冗长

- **症状**: 前置知识列表超过5项，每项说明超过1行，占用大量篇幅
- **原因**: 过度强调理论知识
- **解决**: 
  - ✅ 精简为3-5项（必需知识 + 推荐知识）
  - ✅ 每项不超过10字
  - ✅ 标注"简要了解即可"
  
  **示例**:
  ```markdown
  ❌ 旧格式（冗长）:
  **必需知识**:
  - HTTP协议基础（GET/POST/PUT/DELETE请求方法，状态码含义）
  - RESTful API设计原则（资源命名、URL设计、响应格式）
  ...
  
  ✅ 新格式（简洁）:
  **必需知识**（简要了解即可）:
  - HTTP协议（GET/POST）
  - JSON数据格式
  - 测试用例概念
  ```

### 错误 4: 缺少时间评估

- **症状**: "快速开始"章节未标注总时间，关键步骤缺少时间标注
- **原因**: 未遵循"时间评估层级化"原则
- **解决**: 
  - ✅ 快速开始标注总时间（如"⏱️ 预计30-40分钟"）
  - ✅ 子章节标注时间（如"环境准备（⏱️ 15-20分钟）"）
  - ✅ 关键步骤标注时间（如"步骤1（⏱️ 3分钟）"）
  
  **示例**:
  ```markdown
  ✅ 层级化时间评估:
  
  ## 2. 快速开始（⏱️ 预计30-40分钟）
  
  ### 2.1 环境准备（⏱️ 15-20分钟）
  
  ### 2.2 第一个示例（⏱️ 15-20分钟）
    步骤1: 准备接口文档（⏱️ 3分钟）
    步骤2: 生成测试用例（⏱️ 5分钟）
    步骤3: 生成测试代码（⏱️ 3-5分钟）
    步骤4: 运行测试（⏱️ 1分钟）
  ```

### 错误 5: 环境准备过分详细

- **症状**: 环境准备章节超过20行，包含逐个工具验证、完整依赖清单
- **原因**: 过度强调环境检查
- **解决**: 
  - ✅ 压缩至20行以内
  - ✅ 仅列出必需环境和版本号（3-5项）
  - ✅ 提供1个快速验证命令
  - ❌ 删除逐个工具验证步骤
  - ❌ 删除完整的依赖清单（26行POM配置 → 5行总结）
  
  **示例**:
  ```markdown
  ❌ 旧方式（47行）:
  **系统要求**:
  ```bash
  # 检查Java版本
  java -version
  # 期望输出: java version "1.8.0_xxx"
  
  # 检查Maven版本
  mvn -version
  # 期望输出: Apache Maven 3.6.x
  ```
  
  **配置Maven依赖**:
  ```xml
  <dependencies>
      <dependency>...</dependency>  (26行完整清单)
  </dependencies>
  ```
  
  ✅ 新方式（20行）:
  **系统要求**:
  ```bash
  # 一键验证（需要JDK 8+, Maven 3.6+）
  java -version && mvn -version
  ```
  
  **⚠️ Maven 仓库配置**: 必须配置腾讯 Maven 仓库源（详见 settings.xml）
  
  **依赖配置**: 项目需要 OkHttp3、Jackson、JUnit 5（详见pom.xml）
  ```

### 错误 6: 未优先推荐初始化技能

- **症状**: 直接手动编写 Maven 命令，未引导用户使用 init-backend-scaffold 技能
- **原因**: 未遵循"初始化技能优先级"原则
- **解决**: 
  - ✅ 优先推荐使用项目初始化技能（如 init-backend-scaffold）
  - ✅ 说明技能优势（快速、标准、自动配置）
  - ✅ 手动方式作为备选
  
  **示例**:
  ```markdown
  ✅ 初始化技能优先:
  
  ### 2.3 初始化项目
  
  **✅ 使用 init-backend-scaffold 技能**（推荐）:
  
  **在 CodeBuddy 中执行**：
  ```
  使用 init-backend-scaffold 技能初始化 Java 测试项目
  ```
  
  **优势**:
  - 快速创建标准结构
  - 自动配置测试依赖
  - 包含常用工具类
  
  **⚠️ 或手动初始化**（备选）:
  ```bash
  mvn archetype:generate -DgroupId=com.example -DartifactId=api-test
  cd api-test
  ```
  ```

### 错误 7: 技能调用格式不标准

- **症状**: 技能使用说明缺少"依赖项"、"输出位置"、"下一步"标注
- **原因**: 未遵循"技能调用标准格式"
- **解决**: 
  - ✅ 明确说明"依赖项"（前置步骤或文件）
  - ✅ 明确说明"输出位置"（文件路径）
  - ✅ 明确说明"下一步"（后续步骤）
  
  **示例**:
  ```markdown
  ❌ 旧格式（不标准）:
  使用 tdd-api-test-case 技能生成测试用例。
  
  ✅ 新格式（标准）:
  **✅ 使用 tdd-api-test-case 技能**:
  
  **在 CodeBuddy 中执行**：
  ```
  使用 tdd-api-test-case 技能，根据 workspace/test/guide/user-api.md，
  编写测试用例，输出到 workspace/test/cases/user-api-test-cases.md
  ```
  
  **依赖项**: 需要先准备API接口文档（workspace/test/guide/user-api.md）
  **输出文件**: workspace/test/cases/user-api-test-cases.md
  **下一步**: 使用 tdd-gen-api-test-code 技能生成测试代码
  ```

### 错误 8: 包含与应用文档无关的内容

- **症状**: 文档包含架构设计、性能优化、理论讲解等内容
- **原因**: 未遵循"无关内容零容忍"原则
- **解决**: 
  - ❌ 删除架构设计讨论（如"分层架构"、"SOLID原则"）
  - ❌ 删除性能优化建议（如"调优参数"、"并发优化"）
  - ❌ 删除冗长的理论讲解（如"测试金字塔"、"TDD理论"）
  - ✅ 只保留与实际操作相关的内容
  
  **示例**:
  ```markdown
  ❌ 包含无关内容:
  
  ## 核心功能
  - 生成测试用例
  
  ## 架构设计理念
  本系统采用分层架构设计，遵循SOLID原则...（删除）
  
  ## 性能优化建议
  为了获得更好的性能，建议...（删除）
  
  ✅ 聚焦应用文档:
  
  ## 核心功能
  - 生成测试用例
  - 生成测试代码
  
  ## 快速开始
  [直接进入操作步骤]
  ```

### 错误 9: 添加不存在的功能

- **症状**: 文档描述的功能在项目中不存在
- **原因**: 未严格基于项目分析报告编写
- **解决**: 
  - ✅ 所有功能描述必须在项目分析报告中有依据
  - ✅ 使用 read_file 和 search_content 验证
  - ❌ 不编造或假设功能
  
  **示例**:
  ```markdown
  ❌ 添加不存在的功能:
  支持自动部署到云端（实际项目不支持）
  
  ✅ 客观描述实际功能:
  支持本地启动和测试（基于项目分析报告）
  ```

## ✅ 验证清单

完成文档编写后，验证以下项目：

### 步骤1验证（项目分析）
- [ ] 已扫描项目目录结构
- [ ] 已识别项目类型和技术栈
- [ ] 已提取版本号和核心依赖（不超过10个）
- [ ] 已分析核心模块和入口点（不超过5个）
- [ ] 已确定启动命令和配置方式
- [ ] **已识别技能/命令依赖关系**（如适用）
- [ ] **已读取技能元数据**（如技能库项目，从 SKILL.md frontmatter 获取 name 和 description）

### 步骤2验证（文档大纲）
- [ ] 大纲结构符合项目类型
- [ ] 包含必要章节（概述、快速开始、核心应用、配置、异常处理）
- [ ] **技能库项目包含 Spec-Code 环境准备章节**
- [ ] 章节顺序合理（从入门到精通）
- [ ] 已标注可能的异常（每步不超过2个）
- [ ] **技能表格2列**（名称|说明，每个不超过10字）
- [ ] **技能名称使用 frontmatter name 字段**（不手动编写）
- [ ] **技能说明从 frontmatter description 精简**（不超过10字）
- [ ] **依赖关系可视化**（流程图 + 依赖列标注）
- [ ] **快速开始章节已标注总时间**（如"⏱️ 预计30-40分钟"）

### 步骤3验证（文档内容）
- [ ] 概述简洁（项目简介不超过2句话）
- [ ] 核心特性不超过5个
- [ ] **Spec-Code 环境准备说明完整**（技能库项目）
- [ ] **技能描述超简化**（表格2列，每个不超过10字）
- [ ] **技能名称准确**（使用 frontmatter name 字段）
- [ ] **技能说明精简**（从 frontmatter description 精简）
- [ ] **依赖关系可视化**（流程图 + 表格依赖列）
- [ ] **前置知识极简化**（3-5项，每项不超过10字）
- [ ] **时间评估层级化**（快速开始总时间 + 关键步骤时间）
- [ ] **环境准备压缩化**（不超过20行，1个验证命令）
- [ ] **初始化技能优先**（推荐技能 > 手动步骤，标注优势）
- [ ] **技能调用标准格式**（依赖项+输出位置+下一步+技能名称+技能说明）
- [ ] 所有步骤编号清晰
- [ ] 代码示例完整可运行
- [ ] 参数和返回值使用表格展示（如适用）
- [ ] 常见错误有解决方案（不超过5个）
- [ ] **无关内容零容忍**（已删除架构/性能/理论/过度检查/完整依赖清单）

### 步骤4验证（校验优化）
- [ ] 已验证所有文件路径存在
- [ ] 已验证所有命令可执行
- [ ] 已验证所有配置项正确
- [ ] 已验证所有版本号一致
- [ ] **技能名称与 frontmatter 一致**（未手动编写）
- [ ] **技能说明准确精简**（基于 frontmatter description）
- [ ] **技能依赖关系正确**（流程图与实际依赖一致）
- [ ] **未添加不存在的功能**（所有功能基于项目分析报告）
- [ ] 已确保表述客观无夸大
- [ ] 示例可复现
- [ ] **无关内容已全部删除**（零容忍检查）
- [ ] **技能描述不超过10字**
- [ ] **环境准备不超过20行**
- [ ] **前置知识不超过5项**

### 文档质量验证（8大核心原则）
- [ ] 0️⃣ 技能名称准确性（使用 frontmatter name 字段，不手动编写）
- [ ] 1️⃣ 技能描述超简化（表格2列，每个不超过10字，基于 frontmatter description）
- [ ] 2️⃣ 依赖关系可视化（流程图 + 依赖列标注）
- [ ] 3️⃣ 前置知识极简化（3-5项，每项不超过10字）
- [ ] 4️⃣ 时间评估层级化（总时间 + 步骤时间）
- [ ] 5️⃣ 环境准备压缩化（不超过20行，1个验证命令）
- [ ] 6️⃣ 初始化技能优先级（推荐技能 > 手动步骤）
- [ ] 7️⃣ 技能调用标准格式（依赖项+输出位置+下一步+技能名称+技能说明）
- [ ] 8️⃣ 无关内容零容忍（已删除架构/性能/理论）
- [ ] 9️⃣ Spec-Code 环境说明（技能库项目必需）
- [ ] 结构层次清晰
- [ ] 内容客观准确（无夸大、无编造）
- [ ] 示例可复现
- [ ] 表述无歧义
- [ ] Markdown 格式正确
- [ ] 无拼写和语法错误

## 📚 可重用资源

### 参考文档
- `reference.md` - 文档编写方法论和项目类型分析模板

### 模板
- `templates/project-analysis-template.md` - 项目分析报告模板
- `templates/doc-outline-template.md` - 文档大纲模板
- `templates/tech-doc-template.md` - 完整技术文档模板
- `templates/review-report-template.md` - 校对报告模板

### 示例
- `examples.md` - 实际项目文档生成示例（Spring Boot、Python CLI）

## 🔗 相关技能

- `api-documentation` - 编写 API 文档
- `init-project-memory` - 初始化项目记忆系统
- `code-to-comment` - 为代码生成注释

## ❓ 常见问题

### Q: 四步流程必须严格执行吗？

**A**: 是的，四步流程确保文档质量：
- **步骤1**: 确保基于事实（避免编造）
- **步骤2**: 确保结构合理（便于学习）
- **步骤3**: 确保内容完整（可操作）
- **步骤4**: 确保准确性（可信赖）

### Q: 如何处理多语言混合项目？

**A**: 在大纲中分别说明前端和后端：
```markdown
## 2. 快速开始

### 2.1 后端启动（Java + Spring Boot）
[后端步骤]

### 2.2 前端启动（Vue）
[前端步骤]
```

### Q: 文档应该放在哪里？

**A**: 根据项目规范和用户需求：
- `README.md` - 简短的快速开始指南
- `docs/` - 详细的技术文档（推荐）
- 用户指定位置

### Q: 如何验证文档准确性？

**A**: 
1. 使用 `read_file` 验证文件路径和内容
2. 使用 `search_content` 查找配置项
3. 与项目分析报告交叉验证
4. 确保所有示例基于实际代码

## 🔄 版本历史

- **v5.0** (2025-11-09): Spec-Code 集成版
  - **新增 Spec-Code 使用说明**: 
    - 步骤 0: Spec-Code 环境准备（可选）
    - 安装和同步资源流程
    - 环境验证方法
  - **强化技能名称和说明获取**:
    - 从 SKILL.md frontmatter 读取 name 字段作为技能名称
    - 从 SKILL.md frontmatter 读取 description 字段并精简
    - 新增"技能名称和说明获取原则"最佳实践
    - 新增"错误 0: 未使用技能实际名称和说明"
  - **优化验证清单**:
    - 增加技能元数据读取验证
    - 增加 Spec-Code 环境准备验证
    - 增加技能名称和说明准确性验证
  - **更新文档大纲结构**: 包含 Spec-Code 环境准备章节

- **v4.0** (2025-11-07): 深度优化版（基于 gen-unitest.md 文档质量分析）
  - **新增8大核心原则**: 基于实际文档生成问题总结
    1. 技能描述超简化（表格2列，每行不超过10字）
    2. 依赖关系可视化（流程图 + 依赖列标注）
    3. 前置知识极简化（3-5项，每项不超过10字）
    4. 时间评估层级化（章节+步骤双重标注）
    5. 环境准备压缩化（47行→20行，1个验证命令）
    6. 初始化技能优先级（推荐技能 > 手动步骤）
    7. 技能调用标准格式（依赖项+输出位置+下一步）
    8. 无关内容零容忍（删除架构/性能/理论）
  - **扩充常见错误**: 从5个增至9个，精准对应实际问题
  - **强化验证清单**: 新增技能描述/依赖关系/时间评估/无关内容检查
  - **优化步骤2大纲设计**: 明确技能库项目的依赖关系展示方式
  - **优化步骤3内容编写**: 增加"结合项目技能"和"技能调用示例"规范
  - **优化步骤4校验优化**: 增加"技能依赖关系正确性"和"未添加不存在功能"验证

- **v3.0** (2025-11-07): 优化版本（基于实际文档生成反馈）
  - **强化客观真实**: 禁止夸大和编造功能
  - **优化技能描述**: 技能列表简洁（每个不超过1行）
  - **明确依赖关系**: 强调技能/命令依赖关系说明
  - **简化前置知识**: 简要列举（3-5项，每项不超过1行）
  - **增加时间评估**: 快速开始和关键步骤标注预计时间
  - **精简环境准备**: 不过分强调前置环境检查
  - **结合初始化技能**: 优先推荐使用项目初始化技能
  - **强调技能生成**: 引导用户通过技能生成而非手写
  - **去除无关内容**: 删除架构设计、性能优化等无关内容

- **v2.0** (2025-11-07): 优化版本
  - 改为四步连续流程（无需用户每步确认）
  - 强化"结构清晰、内容准确、示例可复现、表述无歧义"四大质量标准
  - 优化步骤描述，更加简洁和操作导向
  - 增强参数表格化和代码示例完整性要求
  - 符合 Claude Code Skills 最佳实践和渐进式披露设计

- **v1.0** (2025-11-07): 初始版本
  - 实现四步流程（需要用户每步确认）
  - 支持多种项目类型
  - 提供标准化模板
