# 代码分析检查清单

## 分析准备
- [ ] 已明确分析模式（文件/架构/质量/性能/安全）
- [ ] 已识别技术栈并查阅相关文档
- [ ] 已确定分析深度（快速/标准/深度）
- [ ] 已准备待分析的代码文件或项目目录

## 单文件深度分析
- [ ] 核心功能已识别
- [ ] 处理流程已分析
- [ ] 输入输出机制已理解
- [ ] 代码质量已评估（命名/复杂度/注释）
- [ ] 潜在问题已识别（逻辑/性能/安全）

## 项目架构分析
- [ ] 项目概述已完成（结构/技术栈/功能）
- [ ] 架构模式已识别（MVC/分层/微服务/DDD）
- [ ] 模块划分已分析（职责/边界/耦合）
- [ ] 依赖关系已梳理（模块依赖/循环依赖）
- [ ] 技术债务已评估（代码/架构/性能/安全）

## 代码质量审查
- [ ] 命名规范检查（符合规范 > 95%）
- [ ] 复杂度分析（圈复杂度 < 10 的比例 > 90%）
- [ ] 重复代码检测（重复率 < 5%）
- [ ] 测试覆盖率（> 80%）
- [ ] 安全性检查（无已知安全漏洞）

## 性能瓶颈识别
- [ ] 数据库性能（N+1查询/缺少索引/慢查询）
- [ ] 循环处理（嵌套循环/循环中的DB查询）
- [ ] 内存使用（大对象/内存泄漏/缓存策略）
- [ ] 并发处理（线程安全/死锁/竞态条件）

## 安全漏洞检测
- [ ] 输入验证（SQL注入/XSS/命令注入）
- [ ] 权限控制（认证/授权/越权）
- [ ] 数据安全（加密/传输安全/数据泄漏）
- [ ] 依赖安全（已知漏洞/过时依赖）

## 报告生成（仅当用户明确要求）
- [ ] 报告结构清晰（基本信息/分析结果/问题/建议）
- [ ] 问题分级合理（严重/重要/一般）
- [ ] 提供代码示例（问题代码/修复代码）
- [ ] 引用技术栈文档
- [ ] 改进建议可执行

## 技术栈符合性
- [ ] 遵循技术栈文档的最佳实践
- [ ] 引用了相关技术栈文档
- [ ] 使用推荐的 API 和模式
- [ ] 符合项目编码规范

## 🚨 红灯信号
以下任一出现,立即停止:
- [ ] 分析模式不明确,不知道要分析什么
- [ ] 技术栈不支持或不熟悉
- [ ] 问题识别没有具体位置和代码示例
- [ ] 改进建议没有引用技术栈文档
- [ ] 所有问题都标记为【严重】或【一般】
- [ ] 提供的建议无法执行（缺少代码示例）

## 关键数据验证
- [ ] 质量评分在 1-5 之间
- [ ] 问题数量 ≥ 3（快速扫描）/ ≥ 10（标准分析）/ ≥ 20（深度审查）
- [ ] 每个【严重】问题都有修复建议和代码示例
- [ ] 每个问题都引用了技术栈文档或最佳实践
