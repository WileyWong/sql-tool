# 代码注释质量检查清单

完整的代码注释质量检查清单，确保注释规范、准确、有价值。

## 1. 约束验证

### 1.1 代码修改检查
- [ ] 代码功能完全保持原样（未修改任何业务逻辑）
- [ ] 变量名完全保持原样（未重命名变量）
- [ ] 方法名完全保持原样（未重命名方法）
- [ ] 方法签名完全保持原样（未修改参数列表、返回值类型）
- [ ] 代码结构完全保持原样（未调整代码块顺序）

### 1.2 注释修改检查
- [ ] 仅添加了新注释或优化了现有注释
- [ ] 没有删除有价值的注释内容
- [ ] 优化后的注释更清晰、更规范
- [ ] 删除的注释确实是无价值的（如重复代码的注释）

---

## 2. 格式验证

### 2.1 注释格式规范
- [ ] Java: 符合 JavaDoc 格式（`/** ... */`）
- [ ] Python: 符合 Docstring 格式（`""" ... """`）
- [ ] JavaScript/TypeScript: 符合 JSDoc 格式（`/** ... */`）
- [ ] Vue: 符合 Vue 注释规范（`<!-- ... -->` 或 `/** ... */`）

### 2.2 标签完整性
- [ ] 包含所有必要的 `@param` 标签（每个参数一个）
- [ ] 包含 `@return` 标签（如果有返回值）
- [ ] 包含 `@throws` 标签（如果抛出异常）
- [ ] 包含 `@author` 标签（类/模块级注释，如果需要）
- [ ] 包含 `@since` 标签（类/模块级注释，如果需要）

### 2.3 参数名称一致性
- [ ] 所有 `@param` 标签的参数名与实际代码一致
- [ ] 所有 `@throws` 标签的异常类型与实际代码一致
- [ ] 泛型参数名与实际代码一致（如 `<T>`、`<E>`）

### 2.4 格式整洁性
- [ ] 避免使用 HTML 标签（如 `<p>`、`<b>`、`<ul>`、`<li>`）
- [ ] 使用简洁的文本段落和 `-` 列表
- [ ] 注释缩进与代码缩进一致
- [ ] 注释与代码之间的空行合理（通常一行）

---

## 3. 内容验证

### 3.1 类/模块级注释
- [ ] 说明了类/模块的职责和核心功能
- [ ] 说明了主要使用场景（如果必要）
- [ ] 说明了关键技术栈（如使用的框架、库）
- [ ] 内容清晰、简洁、准确

### 3.2 方法/函数级注释
- [ ] 说明了方法的功能和业务目的
- [ ] 说明了所有参数的含义和要求
- [ ] 说明了返回值的含义和类型
- [ ] 说明了可能抛出的异常及原因
- [ ] 说明了关键业务规则（如必要）
- [ ] 避免功能描述与业务规则重复

### 3.3 行内注释
- [ ] 仅在复杂逻辑处添加注释
- [ ] 注释说明了"为什么"而不是"做什么"
- [ ] 注释说明了业务规则、边界条件、性能考虑
- [ ] 注释说明了技术选型原因（如为什么用 BCrypt）
- [ ] 删除了重复代码的无价值注释

---

## 4. 质量验证

### 4.1 注释准确性
- [ ] 注释与代码逻辑一致，无过时或错误的注释
- [ ] 参数说明与实际参数用途一致
- [ ] 返回值说明与实际返回值一致
- [ ] 异常说明与实际抛出的异常一致
- [ ] 业务规则说明与实际业务逻辑一致

### 4.2 注释清晰性
- [ ] 注释语言简洁、清晰、易懂
- [ ] 避免使用模糊词汇（如"处理"、"操作"）
- [ ] 使用具体的术语和描述
- [ ] 避免使用过于技术化的行话（除非必要）

### 4.3 注释价值性
- [ ] 注释提供了代码本身无法表达的信息
- [ ] 注释帮助理解复杂逻辑和业务规则
- [ ] 注释没有重复代码已表达的内容
- [ ] 注释对代码维护有实际帮助

### 4.4 注释简洁性
- [ ] 避免过度注释（简单代码不加注释）
- [ ] 避免冗长的描述（能用一句话说清楚就不用两句）
- [ ] 避免 HTML 标签（使用简洁文本格式）
- [ ] 避免重复说明（功能描述已包含的规则不再单独列出）

---

## 5. 工具验证

### 5.1 Linter 验证
- [ ] Java: Checkstyle 验证通过
- [ ] Python: Pylint 验证通过
- [ ] JavaScript/TypeScript: ESLint 验证通过
- [ ] Vue: Vue ESLint 验证通过

### 5.2 IDE 验证
- [ ] IDE 没有注释相关的警告或错误
- [ ] IDE 可以正确识别和解析注释标签
- [ ] IDE 可以自动生成文档（如 JavaDoc）

---

## 6. 特定场景验证

### 6.1 公共 API 注释
- [ ] 所有公共类都有类级注释
- [ ] 所有公共方法都有方法级注释
- [ ] 所有公共方法的参数、返回值、异常都有说明
- [ ] 注释包含使用示例（如果是复杂 API）

### 6.2 复杂业务逻辑注释
- [ ] 复杂的业务规则有详细说明
- [ ] 算法的时间和空间复杂度有说明
- [ ] 边界条件和特殊情况有说明
- [ ] 性能考虑有说明（如为什么用缓存）

### 6.3 配置和常量注释
- [ ] 配置项有清晰的说明（功能、取值范围、默认值）
- [ ] 常量有说明（含义、用途、来源）
- [ ] 枚举值有说明（每个枚举值的含义）

---

## 7. 常见错误检查

### 7.1 重复性错误
- [ ] 没有注释重复代码（如 `// 设置用户名`）
- [ ] 没有在功能描述和业务规则中重复说明
- [ ] 没有在注释和变量名/方法名中重复信息

### 7.2 过时性错误
- [ ] 没有过时的注释（如参数名已改但注释未改）
- [ ] 没有与代码逻辑不一致的注释
- [ ] 没有指向已删除代码的注释

### 7.3 完整性错误
- [ ] 没有缺少 `@param` 标签的参数
- [ ] 没有缺少 `@throws` 标签的异常
- [ ] 没有缺少 `@return` 标签的返回值
- [ ] 没有缺少功能说明的公共方法

### 7.4 格式错误
- [ ] 没有使用 HTML 标签（如 `<p>`、`<ul>`）
- [ ] 没有参数名称与代码不一致的情况
- [ ] 没有标签格式错误（如 `@parm` 而非 `@param`）
- [ ] 没有缩进不一致的情况

---

## 8. 最终验证

### 8.1 代码可读性
- [ ] 代码加注释后可读性明显提高
- [ ] 新人可以通过注释快速理解代码
- [ ] 注释帮助定位和修复问题

### 8.2 代码可维护性
- [ ] 注释帮助理解代码的设计意图
- [ ] 注释帮助理解复杂的业务规则
- [ ] 注释帮助避免误修改代码

### 8.3 文档生成
- [ ] 可以通过注释生成完整的 API 文档（JavaDoc、Sphinx）
- [ ] 生成的文档清晰、准确、完整
- [ ] 生成的文档可以作为官方文档使用

---

## 使用建议

### 自检流程
1. 完成注释添加/优化后，先自检约束验证（确保未修改代码）
2. 然后检查格式验证（确保符合规范）
3. 再检查内容验证（确保注释准确、清晰、有价值）
4. 最后运行 Linter 工具验证（确保无格式错误）

### 团队评审
1. 代码审查时重点检查注释质量
2. 确保注释符合团队规范
3. 确保注释对代码理解有实际帮助
4. 确保注释没有修改代码逻辑

### 持续改进
1. 根据团队反馈优化注释风格
2. 定期审查和更新注释规范
3. 使用工具自动检查注释质量
4. 培养团队注释意识和习惯
