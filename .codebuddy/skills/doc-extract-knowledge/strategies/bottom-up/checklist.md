# 进度清单

## 项目规模精确统计

```
规模精确统计:
- [ ] ⚠️ 强制要求：必须使用 list_files 或 search_file 工具（🚫绝不使用预估或估算）
- [ ] 记录使用的工具名称和扫描参数
- [ ] 获取精确的 Java 文件数量（工具返回的精确结果）
- [ ] 执行策略：所有项目统一使用分批模式（按文件序号分批处理 + 汇总）
```

---

## 任务管理文件检查

### 核心文档任务管理

```
核心文档任务管理文件:
- [ ] kb/.task-plan.md 已生成（开始前）
  - [ ] 完整文件清单已列出（每个文件一行）
  - [ ] 批次规划已完成（每批 10 个文件）
  - [ ] 初步识别类型已标注（最终类型在生成文档时确定）
  - [ ] 输出结构已确认
- [ ] kb/.task-progress.md 实时更新（执行中）
  - [ ] 文件清单与计划一一对应
  - [ ] 每个文件状态实时更新
  - [ ] 批次进度准确
  - [ ] 方法数量已记录
  - [ ] 断点续传信息可用
- [ ] kb/.task-report.md 已生成（完成后）
  - [ ] 执行摘要完整
  - [ ] 类型统计准确
  - [ ] 方法统计准确
  - [ ] 依赖分析结果
  - [ ] 质量检查结果
```

### 扩展文档任务管理

```
扩展文档任务管理文件:
- [ ] kb/extra/.ext-task-plan.md 已生成（用户选择后）
  - [ ] 用户选择的文档清单
  - [ ] 数据准备计划
  - [ ] 生成顺序确定
- [ ] kb/extra/.ext-task-progress.md 实时更新（执行中）
  - [ ] 总体进度准确
  - [ ] 各文档生成状态
  - [ ] 问题记录完整
  - [ ] 断点续传信息可用
- [ ] kb/extra/.ext-task-report.md 已生成（完成后）
  - [ ] 执行摘要完整
  - [ ] 各文档内容统计
  - [ ] 质量检查结果
  - [ ] 后续建议
```

---

## 分批执行检查清单 ⭐

### ⛔ 强制执行规则（必须遵守）

```
⛔ 强制规则:
- [ ] 🔴 规则1：必须基于任务进度文件执行
  - [ ] 每次执行前，必须先读取 kb/.task-progress.md
  - [ ] 找到第一个状态为 ⏳ 的文件
  - [ ] 从该文件所在批次开始执行，不得跳过

- [ ] 🔴 规则2：必须按批次执行（每批 10 个文件）
  - [ ] 严格按照 .task-plan.md 中的批次规划
  - [ ] 每批处理 10 个文件，不得多处理或少处理
  - [ ] 批次内的文件顺序必须与计划一致

- [ ] 🔴 规则3：每个文件处理完成后必须立即更新进度文件 ⭐⭐⭐
  - [ ] 生成文档后【立即】更新 kb/.task-progress.md
  - [ ] 必须在处理下一个文件【之前】完成更新
  - [ ] 将该文件状态从 ⏳ 更新为 ✅ 或 ❌
  - [ ] ❌ 禁止等到批次完成后才更新（防止会话中断导致不一致）
  - [ ] ❌ 禁止批量更新多个文件的状态
  - [ ] 更新顺序：生成文档 → 立即更新进度 → 处理下一个文件

- [ ] 🔴 规则4：不得自行决定处理顺序或数量
  - [ ] ❌ 禁止按"类型"分批（如先处理所有 Controller）
  - [ ] ❌ 禁止按"目录"分批（如先处理 controller 目录）
  - [ ] ✅ 必须按照 .task-plan.md 中的文件序号顺序处理

- [ ] 🔴 规则5：必须按模板生成文档（核心规则）
  - [ ] 生成前必须读取对应类型的模板文件
  - [ ] 模板路径: templates/core/{type}.md
  - [ ] 生成的文档必须包含模板中的所有章节
  - [ ] ❌ 禁止省略、简化或合并模板中的任何章节
  - [ ] ❌ 禁止凭记忆生成，必须实际读取模板
  - [ ] 章节顺序必须与模板一致

- [ ] 🔴 规则6：恢复执行时必须同步进度（防止会话中断导致不一致）
  - [ ] 读取进度文件后，检查状态为 ⏳ 或 🔄 的文件
  - [ ] 检测对应文档是否已存在（kb/{type}/{className}.md）
  - [ ] 若文档已存在 → 将进度状态更新为 ✅
  - [ ] 若文档不存在 → 保持原状态，从此文件继续
  - [ ] 同步完成后再开始处理

- [ ] 🔴 规则7：进度文件条目绝对不可变 ⭐⭐⭐
  - [ ] ❌ 禁止新增任何文件条目
  - [ ] ❌ 禁止删除任何文件条目
  - [ ] ❌ 禁止修改文件路径
  - [ ] ❌ 禁止修改文件序号
  - [ ] ❌ 禁止修改批次分配
  - [ ] ✅ 仅允许更新：状态、生成文档路径、方法数
  - [ ] 违反此规则将导致断点续传失败

- [ ] 🔴 规则8：必须基于实际生成结果更新进度 ⭐⭐⭐
  - [ ] ✅ 文档实际生成成功 → 状态更新为 ✅
  - [ ] ❌ 文档生成失败 → 状态更新为 ❌
  - [ ] ❌ 禁止在文档未生成时将状态标记为 ✅
  - [ ] ❌ 禁止预先批量更新状态
  - [ ] 生成文档路径必须填写实际生成的路径
  - [ ] 方法数必须填写实际提取的方法数量
```

### 执行前检查（必须）- 对应步骤2

```
执行前检查:
- [ ] 检查 kb/.task-plan.md 和 kb/.task-progress.md 是否存在
  - [ ] 情况A：都不存在 → 创建新文件
  - [ ] 情况B：存在但不完整 → 更新文件（追加缺失条目）
  - [ ] 情况C：存在且完整 → 检测断点
- [ ] ⚠️ 进度同步检查（防止会话中断导致不一致）
  - [ ] 对于状态为 ⏳ 或 🔄 的文件
  - [ ] 检查对应文档是否已存在
  - [ ] 若已存在 → 更新状态为 ✅
- [ ] 若存在断点（有未完成任务）
  - [ ] 提示用户选择：从断点继续 / 重新执行
  - [ ] 用户选择继续 → 从第一个 ⏳ 状态的文件开始
  - [ ] 用户选择重新 → 重置所有状态为 ⏳
```

### 单批次执行检查

```
单批次执行检查（每批 10 个文件）:
- [ ] 读取阶段
  - [ ] 完整读取 10 个代码文件
  - [ ] 不使用 offset/limit 截断
  - [ ] 确认每个文件读取完整
- [ ] 逐文件处理（⚠️ 每个文件处理完立即更新进度）⭐⭐⭐
  - [ ] 对于批次中的每个文件：
    - [ ] 分析阶段
      - [ ] 识别类的类型（基于注解）
      - [ ] 提取所有方法（不遗漏）
      - [ ] 提取完整方法签名
      - [ ] 提取依赖关系
    - [ ] 读取模板阶段（⚠️ 必须执行）
      - [ ] 根据识别的类型，读取对应模板文件
      - [ ] 模板路径: templates/core/{type}.md
      - [ ] 确认模板包含的所有章节
      - [ ] ❌ 禁止跳过此步骤
      - [ ] ❌ 禁止凭记忆生成
    - [ ] 生成阶段
      - [ ] 严格按照模板结构生成文档
      - [ ] 必须包含模板中的所有章节
      - [ ] 为每个方法生成完整记录
      - [ ] 将文档写入文件系统
      - [ ] 记录依赖索引
    - [ ] 立即更新进度（⚠️ 必须在处理下一个文件之前完成）⭐⭐⭐
      - [ ] 确认文档已成功写入文件系统
      - [ ] 立即更新该文件在进度文件中的状态
      - [ ] 状态: ⏳ → ✅（成功）或 ❌（失败）
      - [ ] 填写实际生成的文档路径
      - [ ] 填写实际提取的方法数量
      - [ ] ❌ 禁止增减任何条目
      - [ ] ❌ 禁止修改文件路径、序号、批次
      - [ ] ❌ 禁止在文档未生成时标记为 ✅
      - [ ] ⚠️ 完成更新后才能处理下一个文件
```

### 进度更新约束检查 ⭐⭐⭐

```
进度更新约束检查:

📌 更新时机检查:
- [ ] 每生成一个文档后是否【立即】更新了对应条目
- [ ] 是否在处理下一个文件【之前】完成了更新
- [ ] ❌ 是否存在等批次完成后批量更新的情况
- [ ] ❌ 是否存在跳过更新直接处理下一个文件的情况

📌 更新内容检查:
- [ ] 状态是否基于实际生成结果更新
- [ ] 生成文档路径是否为实际生成的路径
- [ ] 方法数是否为实际提取的数量
- [ ] ❌ 是否存在填写预估值或虚假值的情况

✅ 允许的操作:
- [ ] 更新文件状态: ⏳ → 🔄 → ✅ 或 ❌
- [ ] 填写生成文档路径（实际路径）
- [ ] 填写方法数量（实际数量）
- [ ] 更新批次状态
- [ ] 更新总体进度百分比

❌ 禁止的操作（条目不可变）:
- [ ] 不得新增文件条目
- [ ] 不得删除文件条目
- [ ] 不得修改文件路径
- [ ] 不得修改文件序号
- [ ] 不得修改批次分配
- [ ] 不得重新排序条目
- [ ] 不得合并或拆分条目
- [ ] 不得在文档未生成时标记为 ✅

📌 正确的更新流程:
1. [ ] 读取源码文件
2. [ ] 生成文档并写入文件系统
3. [ ] 确认文档已成功写入
4. [ ] 立即更新进度文件中该条目的状态
5. [ ] 继续处理下一个文件

❌ 错误的更新流程（禁止）:
- [ ] 先批量更新状态，再生成文档
- [ ] 生成多个文档后，批量更新状态
- [ ] 文档未生成就更新状态为 ✅
- [ ] 修改条目内容而非仅更新状态
```

### 完整文件清单准确性验证 ⚠️

```
.complete-file-list.md 准确性验证清单:
- [ ] 扫描方式验证（最重要）
  - [ ] ✅ 已使用 list_files 或 search_file 工具
  - [ ] ✅ 已记录使用的工具名称
  - [ ] 🚫 绝不使用预估或估算
  - [ ] 🚫 绝不凭经验或感觉猜测数量
- [ ] 无遗漏检查
  - [ ] 已使用工具递归扫描所有目录和子目录
  - [ ] 对比工具扫描结果，确认文件数量一致
  - [ ] 手动抽查：随机选取 5-10 个文件，确认已包含
- [ ] 无重复检查
  - [ ] 检查是否有相同路径的文件被多次记录
  - [ ] 验证每个文件序号唯一
- [ ] 无虚假检查
  - [ ] 逐一验证每个文件路径是否实际存在
  - [ ] 使用 read_file 工具验证文件可访问性
- [ ] 路径准确性检查
  - [ ] 验证路径格式统一（使用 / 作为分隔符）
  - [ ] 验证路径相对于项目根目录
  - [ ] 确认没有绝对路径

验证通过标准:
✅ 已使用 list_files 或 search_file 工具扫描（非预估）
✅ 所有文件路径均存在且可访问
✅ 无重复记录（每个文件只出现一次）
✅ 路径格式统一
✅ 文件数量与工具扫描结果精确一致
```

### 完整文件清单检查

```
完整文件清单检查:
- [ ] 计划文件包含完整文件清单
  - [ ] 每个 Java 文件都有对应条目
  - [ ] 每个条目包含: 序号、文件路径、初步识别类型、批次、状态
- [ ] 进度文件与计划文件一一对应
  - [ ] 文件数量相同
  - [ ] 文件路径相同
  - [ ] 序号相同
  - [ ] 批次分配相同
```

---

## 统一分批模式清单（所有项目）⭐

> ⚠️ **注意**：所有项目统一使用分批模式。此模式按文件序号处理，不是按目录。

```
统一分批模式进度（适用于所有项目）:
- [ ] 步骤1: 完整扫描 → 验证准确性 → 生成清单
  - [ ] 使用工具递归扫描所有子目录（精准扫描，不遗漏任何文件）
  - [ ] 验证清单准确性（无遗漏、无重复、无虚假）
  - [ ] 生成 kb/.complete-file-list.md
  - [ ] 统计文件总数（精准数量）
  - [ ] 计算批次数量（每批 10 个文件）

- [ ] 步骤2: 检查/生成计划文件和进度文件
  - [ ] 检查 kb/.task-plan.md 是否存在
  - [ ] 检查 kb/.task-progress.md 是否存在
  - [ ] 不存在 → 创建新文件
  - [ ] 存在但不完整 → 更新文件（追加缺失条目）
  - [ ] 存在且完整 → 检测断点，提示用户选择

- [ ] 步骤3: 按批次执行（每个文件完成后立即更新进度）⭐⭐⭐
  - [ ] 每次执行一个批次（10 个文件）
  - [ ] 对于批次中的每个文件：
    - [ ] 读取源码文件
    - [ ] 识别类型并读取对应模板
    - [ ] 生成文档并写入文件系统
    - [ ] ⚠️ 立即更新进度文件（该文件的状态）
    - [ ] 继续处理下一个文件
  
  批次进度:
  - [ ] 批次 1: 文件 1-10    ⏳/✅/❌
  - [ ] 批次 2: 文件 11-20   ⏳/✅/❌
  - [ ] 批次 3: 文件 41-60   ⏳/✅/❌
  - [ ] 批次 4: 文件 61-80   ⏳/✅/❌
  - [ ] 批次 5: 文件 81-100  ⏳/✅/❌
  - [ ] ...（根据实际批次数量扩展）

- [ ] 步骤4: 检查是否所有批次完成
  - [ ] 未完成 → 继续下一批次（返回步骤3）
  - [ ] 已完成 → 进入汇总阶段

- [ ] 步骤5: 汇总阶段（所有文件完成后）
  - [ ] 合并所有依赖索引
  - [ ] 生成反向依赖（被依赖方）
  - [ ] 更新所有文档的被依赖方章节
  - [ ] 循环依赖检测
  - [ ] 生成 architecture.md
  - [ ] 生成 README.md 总索引

- [ ] 步骤6: 质量检查
  - [ ] 验证所有文档格式
  - [ ] 检查被依赖方是否完整
  - [ ] 检查索引是否完整

- [ ] 步骤7: 询问是否生成扩展文档
```

### 进度跟踪表（所有项目）

| 序号 | 批次 | 文件范围 | 状态 | 生成文档数 | 备注 |
|------|------|----------|------|------------|------|
| 1 | 批次1 | 1-10 | ⏳/✅/❌ | | |
| 2 | 批次2 | 11-20 | ⏳/✅/❌ | | |
| 3 | 批次3 | 41-60 | ⏳/✅/❌ | | |
| ... | | | | | |

**状态说明**: ⏳ 待处理 | ✅ 已完成 | ❌ 失败/跳过

### 断点续传检查

```
断点续传（已整合到步骤2）:
- [ ] 检查 kb/.task-plan.md 是否存在
- [ ] 检查 kb/.task-progress.md 是否存在
- [ ] 验证文件完整性（与扫描结果对比）
- [ ] 检测是否有未完成的任务（⏳ 或 🔄 状态）
- [ ] 提示用户选择：从断点继续 / 重新执行
```

---

## 扩展文档生成清单 ⭐

```
扩展文档生成进度:
- [ ] 步骤1: 用户选择扩展文档
  - [ ] 展示 11 个可选扩展文档
  - [ ] 记录用户选择
  - [ ] 生成 .ext-task-plan.md

- [ ] 步骤2: 数据准备
  - [ ] 收集目录结构信息
  - [ ] 收集 API 信息（从 Controller 文档）
  - [ ] 收集业务流程（从 Service 文档）
  - [ ] 收集数据库结构（从 Entity/Mapper 文档）
  - [ ] 收集配置信息（从 Config 文档 + 配置文件）

- [ ] 步骤3: 逐文档生成
  - [ ] directory-structure.md    ✅/⏭️/❌
  - [ ] spring-configuration.md   ✅/⏭️/❌
  - [ ] business-flows.md         ✅/⏭️/❌
  - [ ] api-contracts.md          ✅/⏭️/❌
  - [ ] interceptors-aspects.md   ✅/⏭️/❌
  - [ ] security-auth.md          ✅/⏭️/❌
  - [ ] database-structure.md     ✅/⏭️/❌
  - [ ] environment-config.md     ✅/⏭️/❌
  - [ ] third-party-interfaces.md ✅/⏭️/❌
  - [ ] third-party-components.md ✅/⏭️/❌
  - [ ] custom-annotations.md     ✅/⏭️/❌

- [ ] 步骤4: 索引更新
  - [ ] 生成 kb/extra/README.md
  - [ ] 更新 kb/README.md（添加扩展文档链接）

- [ ] 步骤5: 质量检查
  - [ ] 文档完整性
  - [ ] 内容准确性
  - [ ] 链接有效性
  - [ ] 格式规范

- [ ] 步骤6: 生成报告
  - [ ] 生成 .ext-task-report.md
```

**状态说明**: ✅ 已生成 | ⏭️ 用户跳过 | ❌ 生成失败

### 扩展文档进度跟踪表

| 序号 | 文档 | 选择 | 状态 | 内容量 | 备注 |
|------|------|------|------|--------|------|
| 1 | directory-structure.md | ✅/❌ | ⏳/✅/❌ | | |
| 2 | spring-configuration.md | ✅/❌ | ⏳/✅/❌ | | |
| 3 | business-flows.md | ✅/❌ | ⏳/✅/❌ | | |
| 4 | api-contracts.md | ✅/❌ | ⏳/✅/❌ | | |
| 5 | interceptors-aspects.md | ✅/❌ | ⏳/✅/❌ | | |
| 6 | security-auth.md | ✅/❌ | ⏳/✅/❌ | | |
| 7 | database-structure.md | ✅/❌ | ⏳/✅/❌ | | |
| 8 | environment-config.md | ✅/❌ | ⏳/✅/❌ | | |
| 9 | third-party-interfaces.md | ✅/❌ | ⏳/✅/❌ | | |
| 10 | third-party-components.md | ✅/❌ | ⏳/✅/❌ | | |
| 11 | custom-annotations.md | ✅/❌ | ⏳/✅/❌ | | |

### 扩展文档断点续传检查

```
扩展文档断点续传:
- [ ] 检查是否存在 kb/extra/.ext-task-progress.md
- [ ] 读取已完成的文档列表
- [ ] 确定续传起点
- [ ] 用户确认续传方式
```

---

## 质量检查

```
质量检查:
- [ ] 分批模式流程正确执行
- [ ] 每个类生成独立文件
- [ ] 文件路径正确（按类型组织: spec-docs/{类型}/{className}.md）
- [ ] 类型识别正确（基于注解/继承/作用，完全忽略包名）
- [ ] 使用正确模板（必须实际读取模板文件）
- [ ] 生成的文档包含模板中的所有章节
- [ ] 章节顺序与模板一致
- [ ] 统计表格完整
- [ ] 方法无遗漏（必须列出全部方法）
- [ ] 方法签名完整（见下方"方法签名完整性检查"）
- [ ] 无归档/省略
- [ ] README.md 索引完整
- [ ] 代码行数已记录（SLOC）
- [ ] 依赖组件已记录
- [ ] 被依赖方已记录（通过反向索引）
- [ ] architecture.md 已生成
- [ ] 循环依赖已检测
- [ ] 变量格式统一（{{VARIABLE}}）
```

### 模板使用检查（⚠️ 关键）

```
模板使用检查:
- [ ] 生成前是否实际读取了模板文件
  - [ ] ❌ 禁止凭记忆生成
  - [ ] ✅ 必须读取 templates/core/{type}.md
- [ ] 生成的文档是否包含模板中的所有章节
  - [ ] 头部信息（路径、类型、职责、代码行数）
  - [ ] 📊 统计信息
  - [ ] 📋 方法/接口列表（含完整签名）
  - [ ] 🔗 依赖组件（我依赖谁）
  - [ ] 🔙 被依赖方（谁依赖我）
  - [ ] 🏷️ 关键注解
- [ ] 章节顺序是否与模板一致
- [ ] 章节格式是否与模板一致
- [ ] 是否有省略或简化模板内容
```

---

## 方法签名完整性检查（⚠️ 关键）

每个方法必须包含完整签名信息：

```
方法签名检查:
- [ ] 方法注解已记录（@GetMapping, @Transactional, @Async 等）
- [ ] 访问修饰符已记录（public/protected/private）
- [ ] 返回类型完整（含泛型，如 List<UserVO>）
- [ ] 方法名正确
- [ ] 参数列表完整
- [ ] 异常声明已记录（throws 子句）

参数信息检查:
- [ ] 参数注解已记录（@PathVariable, @RequestParam, @RequestBody 等）
- [ ] 注解属性已记录（value, required, defaultValue）
- [ ] 参数类型完整（含泛型）
- [ ] 参数名称正确
- [ ] 参数说明表格完整

Controller 方法特殊检查:
- [ ] HTTP 方法已记录（GET/POST/PUT/DELETE）
- [ ] 请求路径已记录
- [ ] 权限注解已记录（@PreAuthorize 等）
- [ ] 验证注解已记录（@Valid 等）

Service 方法特殊检查:
- [ ] 事务注解已记录（@Transactional）
- [ ] 缓存注解已记录（@Cacheable, @CacheEvict 等）
- [ ] 业务异常已列出

Mapper 方法特殊检查:
- [ ] SQL 注解已记录（@Select, @Insert 等）
- [ ] @Param 注解已记录
- [ ] SQL 语句已记录（如适用）
```

---

## 必含章节检查

每个类文档必须包含以下章节：

```
章节检查:
- [ ] 头部信息（路径、类型、职责、代码行数 SLOC）
- [ ] 📊 统计信息
- [ ] 📋 方法/接口列表
- [ ] 🔗 依赖组件（我依赖谁）
- [ ] 🔙 被依赖方（谁依赖我）
- [ ] 🏷️ 关键注解
```

---

## 依赖关系检查

```
依赖关系检查:
- [ ] 依赖索引在处理过程中逐步建立
- [ ] 汇总阶段正确生成反向索引
- [ ] 每个类都记录了依赖组件
- [ ] 每个类都记录了被依赖方
- [ ] 被依赖方包含调用的具体方法
- [ ] 影响分析数量正确
- [ ] architecture.md 包含分层架构图
- [ ] architecture.md 包含模块依赖矩阵
- [ ] architecture.md 包含循环依赖检测结果
- [ ] architecture.md 包含核心调用链
```

---

## 常见错误自查

- **综合归档**: 搜索"其他"关键词，应无匹配
- **文件读取不完整**: 确保完整读取源码
- **类型识别错误**: 检查是否按包名而非注解识别
- **遗漏文件**: 对比源码文件数和文档数
- **空目录**: 无内容的类型不应创建目录
- **缺少被依赖方**: 每个类都应有被依赖方章节
- **缺少代码行数**: 每个类都应记录代码行数（SLOC）
- **遗漏 Interface**: 检查是否处理了接口定义
- **遗漏 Abstract**: 检查是否处理了抽象类
- **遗漏 Exception**: 检查是否处理了自定义异常类
- **遗漏 Enum**: 检查是否处理了枚举类
- **遗漏 Constants**: 检查是否处理了常量类
- **依赖关系不完整**: 对比注入字段和依赖组件列表
- **变量格式不一致**: 检查是否使用 `{{VARIABLE}}` 格式
- **README.md 缺少 Interface/Abstract/Constants 统计**: 检查索引是否完整
- **方法签名不完整**: 检查是否缺少参数注解、异常声明
- **缺少参数注解**: 检查 @PathVariable, @RequestParam 等是否记录
- **缺少方法注解**: 检查 @GetMapping, @Transactional 等是否记录
- **缺少异常声明**: 检查 throws 子句是否记录
- **参数说明表格不完整**: 检查参数类型、注解、说明是否齐全

---

## 新增类型检查

```
新增类型检查:
- [ ] Interface 类已识别（interface 关键字，非 @interface）
- [ ] Interface 类记录了方法签名和实现类
- [ ] Interface 类统计已包含在 README.md 索引中
- [ ] Abstract 类已识别（abstract class 关键字）
- [ ] Abstract 类记录了抽象方法、模板方法和子类
- [ ] Abstract 类统计已包含在 README.md 索引中
- [ ] Constants 类已识别（*Constants.java 或全静态final字段）
- [ ] Constants 类记录了常量分组和被依赖方
- [ ] Constants 类统计已包含在 README.md 索引中
- [ ] Exception 类已识别（extends Exception/RuntimeException）
- [ ] Exception 类记录了错误码和构造方法
- [ ] Enum 类已识别（enum 关键字）
- [ ] Enum 类记录了所有枚举值和字段
- [ ] Enum 类记录了自定义方法
- [ ] Other 类（兜底）已正确处理（无法匹配其他类型时使用 default.md 模板）
- [ ] Other 类输出到 kb/other/ 目录
```

---

## 架构文档检查

```
architecture.md 检查:
- [ ] 分层架构图完整（包含 Interface 层）
- [ ] Interface 层类数量标注
- [ ] Abstract 层类数量标注（如有）
- [ ] 各层类数量标注
- [ ] 模块依赖矩阵完整
- [ ] 耦合度评估正确
- [ ] 循环依赖检测结果（使用 DFS 染色法）
- [ ] 分层违规检测结果
- [ ] 至少3个核心调用链
- [ ] 调用链包含完整方法路径
```

---

## 分批模式执行检查

```
分批模式执行检查:
- [ ] 完整扫描完成，统计了所有类
- [ ] 依赖索引在处理过程中逐步建立
- [ ] 汇总阶段反向索引已生成（类 → 被依赖列表）
- [ ] 按文件序号分批处理（每批 10 个）
- [ ] 每批处理后报告进度
- [ ] 所有类都有被依赖方信息
```
