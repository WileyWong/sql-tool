# ä½¿ç”¨ç¤ºä¾‹

## å®Œæ•´æµç¨‹ç¤ºä¾‹

**è¾“å…¥**: ä¸ºè¿™ä¸ª Spring Boot é¡¹ç›®ç”ŸæˆçŸ¥è¯†åº“

**è¾“å‡ºæµç¨‹**ï¼ˆç»Ÿä¸€åˆ†æ‰¹æ¨¡å¼ï¼‰:
```
1. [ç²¾å‡†æ‰«æ] ä½¿ç”¨ list_files å·¥å…·æ‰«æï¼šå‘ç° 8 ä¸ªç›®å½•ï¼Œ52 ä¸ª Java æ–‡ä»¶
2. [ç”Ÿæˆæ¸…å•] åˆ›å»º .complete-file-list.mdï¼ˆå®Œæ•´æ–‡ä»¶æ¸…å•ï¼‰
3. [éªŒè¯å‡†ç¡®æ€§] æ£€æŸ¥æ–‡ä»¶å­˜åœ¨æ€§ã€é‡å¤æ€§ã€è·¯å¾„æœ‰æ•ˆæ€§
4. [ç”Ÿæˆè®¡åˆ’] åˆ›å»º .task-plan.md å’Œ .task-progress.md
5. [æ‰¹æ¬¡å¤„ç†] å¼€å§‹æŒ‰æ‰¹æ¬¡ç”Ÿæˆæ–‡æ¡£ï¼ˆæ¯æ‰¹ 10 ä¸ªï¼‰
6. [æ‰¹æ¬¡ 1] å¤„ç†æ–‡ä»¶ 1-10ï¼Œæ¯ä¸ªæ–‡ä»¶å®Œæˆåç«‹å³æ›´æ–°è¿›åº¦ï¼Œè¿›åº¦ 10/52 (19.2%)
7. [æ‰¹æ¬¡ 2] å¤„ç†æ–‡ä»¶ 11-20ï¼Œæ¯ä¸ªæ–‡ä»¶å®Œæˆåç«‹å³æ›´æ–°è¿›åº¦ï¼Œè¿›åº¦ 20/52 (38.5%)
8. [æ‰¹æ¬¡ 3] å¤„ç†æ–‡ä»¶ 21-30ï¼Œæ¯ä¸ªæ–‡ä»¶å®Œæˆåç«‹å³æ›´æ–°è¿›åº¦ï¼Œè¿›åº¦ 30/52 (57.7%)
9. [æ‰¹æ¬¡ 4] å¤„ç†æ–‡ä»¶ 31-40ï¼Œæ¯ä¸ªæ–‡ä»¶å®Œæˆåç«‹å³æ›´æ–°è¿›åº¦ï¼Œè¿›åº¦ 40/52 (76.9%)
10. [æ‰¹æ¬¡ 5] å¤„ç†æ–‡ä»¶ 41-50ï¼Œæ¯ä¸ªæ–‡ä»¶å®Œæˆåç«‹å³æ›´æ–°è¿›åº¦ï¼Œè¿›åº¦ 50/52 (96.2%)
11. [æ‰¹æ¬¡ 6] å¤„ç†æ–‡ä»¶ 51-52ï¼Œæ¯ä¸ªæ–‡ä»¶å®Œæˆåç«‹å³æ›´æ–°è¿›åº¦ï¼Œè¿›åº¦ 52/52 (100%)
12. [æ±‡æ€»é˜¶æ®µ] åˆå¹¶ä¾èµ–ç´¢å¼• â†’ ç”Ÿæˆåå‘ä¾èµ– â†’ æ›´æ–°è¢«ä¾èµ–æ–¹
13. [å¾ªç¯ä¾èµ–æ£€æµ‹] æœªå‘ç°å¾ªç¯ä¾èµ–
14. [ç”Ÿæˆæ¶æ„å›¾] architecture.md
15. [ç”Ÿæˆæ€»ç´¢å¼•] README.md
16. [è´¨é‡æ£€æŸ¥] å…¨éƒ¨é€šè¿‡
17. [è¯¢é—®] æ˜¯å¦ç”Ÿæˆæ‰©å±•æ–‡æ¡£ï¼Ÿ
```

> âš ï¸ **æ³¨æ„**ï¼šæ¯ä¸ªæ‰¹æ¬¡å¤„ç†æ—¶ï¼Œå¿…é¡»å…ˆè¯»å–å¯¹åº”ç±»å‹çš„æ¨¡æ¿æ–‡ä»¶ï¼ˆtemplates/core/{type}.mdï¼‰ï¼Œç„¶åä¸¥æ ¼æŒ‰ç…§æ¨¡æ¿ç»“æ„ç”Ÿæˆæ–‡æ¡£ã€‚

---

## Interface æ–‡æ¡£ç¤ºä¾‹

**è¾“å…¥**: IUserService.java æ–‡ä»¶

**æ¨¡æ¿**: å¿…é¡»å…ˆè¯»å– `templates/core/interface.md`

**è¾“å‡º**: `kb/interface/IUserService.md`
```markdown
# IUserService

> **è·¯å¾„**: `com.example.service.IUserService`  
> **ç±»å‹**: Interface  
> **èŒè´£**: ç”¨æˆ·æœåŠ¡æ¥å£ï¼Œå®šä¹‰ç”¨æˆ·ä¸šåŠ¡æ“ä½œå¥‘çº¦  
> **ä»£ç è¡Œæ•°**: 28 è¡Œï¼ˆSLOCï¼‰

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

| æ–¹æ³•æ€»æ•° | é»˜è®¤æ–¹æ³•æ•° | é™æ€æ–¹æ³•æ•° | å¸¸é‡æ•° | æ³›å‹å‚æ•° |
|:--------:|:----------:|:----------:|:------:|:--------:|
| 4 | 0 | 0 | 0 | æ—  |

---

## ğŸ“‹ æ–¹æ³•åˆ—è¡¨

### getUserById
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
   * @param id ç”¨æˆ·ID
   * @return ç”¨æˆ·è¯¦æƒ…
   * @throws UserNotFoundException ç”¨æˆ·ä¸å­˜åœ¨æ—¶æŠ›å‡º
   */
  UserVO getUserById(@NotNull Long id) throws UserNotFoundException
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | id | Long | @NotNull | ç”¨æˆ·ID |
- **è¿”å›**: `UserVO` - ç”¨æˆ·è¯¦æƒ…
- **å¼‚å¸¸**: `UserNotFoundException` - ç”¨æˆ·ä¸å­˜åœ¨
- **é»˜è®¤å®ç°**: âŒ

### createUser
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * åˆ›å»ºæ–°ç”¨æˆ·
   * @param dto ç”¨æˆ·åˆ›å»ºè¯·æ±‚
   * @throws DuplicateUserException ç”¨æˆ·åå·²å­˜åœ¨æ—¶æŠ›å‡º
   */
  void createUser(@Valid @NotNull UserDTO dto) throws DuplicateUserException
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | dto | UserDTO | @Valid @NotNull | ç”¨æˆ·åˆ›å»ºè¯·æ±‚ |
- **è¿”å›**: `void`
- **å¼‚å¸¸**: `DuplicateUserException` - ç”¨æˆ·åå·²å­˜åœ¨
- **é»˜è®¤å®ç°**: âŒ

### listUsers
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
   * @param query æŸ¥è¯¢æ¡ä»¶
   * @param pageable åˆ†é¡µå‚æ•°
   * @return åˆ†é¡µç”¨æˆ·åˆ—è¡¨
   */
  Page<UserVO> listUsers(
      @Nullable UserQueryDTO query,
      @NotNull Pageable pageable
  )
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | query | UserQueryDTO | @Nullable | æŸ¥è¯¢æ¡ä»¶ï¼Œå¯ä¸ºç©º |
  | pageable | Pageable | @NotNull | åˆ†é¡µå‚æ•° |
- **è¿”å›**: `Page<UserVO>` - åˆ†é¡µç”¨æˆ·åˆ—è¡¨
- **å¼‚å¸¸**: æ— 
- **é»˜è®¤å®ç°**: âŒ

### deleteUser
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * åˆ é™¤ç”¨æˆ·
   * @param id ç”¨æˆ·ID
   * @return æ˜¯å¦åˆ é™¤æˆåŠŸ
   */
  boolean deleteUser(@NotNull Long id)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | id | Long | @NotNull | ç”¨æˆ·ID |
- **è¿”å›**: `boolean` - æ˜¯å¦åˆ é™¤æˆåŠŸ
- **å¼‚å¸¸**: æ— 
- **é»˜è®¤å®ç°**: âŒ

---

## ğŸ”— å®ç°ç±»

| å®ç°ç±» | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| UserServiceImpl | Service | ç”¨æˆ·æœåŠ¡å®ç° |

---

## ğŸ”— ä¾èµ–ç»„ä»¶ï¼ˆæˆ‘ä¾èµ–è°ï¼‰

| ç»„ä»¶ | ç±»å‹ | ç”¨é€” |
|------|------|------|
| - | - | æ¥å£é€šå¸¸æ— ä¾èµ– |

---

## ğŸ”™ è¢«ä¾èµ–æ–¹ï¼ˆè°ä¾èµ–æˆ‘ï¼‰

| ç»„ä»¶ | ç±»å‹ | ä½¿ç”¨æ–¹å¼ |
|------|------|----------|
| UserController | Controller | ä¾èµ–æ³¨å…¥ |
| OrderService | Service | ä¾èµ–æ³¨å…¥ |

**å½±å“åˆ†æ**: ä¿®æ”¹æœ¬æ¥å£å¯èƒ½å½±å“ 2 ä¸ªç»„ä»¶
```

---

## Abstract æ–‡æ¡£ç¤ºä¾‹

**è¾“å…¥**: AbstractBaseService.java æ–‡ä»¶

**è¾“å‡º**: `kb/abstract/AbstractBaseService.md`
```markdown
# AbstractBaseService

> **è·¯å¾„**: `com.example.service.AbstractBaseService`  
> **ç±»å‹**: Abstract Class  
> **èŒè´£**: æœåŠ¡å±‚åŸºç±»ï¼Œæä¾›é€šç”¨ CRUD æ“ä½œæ¨¡æ¿  
> **ä»£ç è¡Œæ•°**: 85 è¡Œï¼ˆSLOCï¼‰

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

| æŠ½è±¡æ–¹æ³•æ•° | å…·ä½“æ–¹æ³•æ•° | å—ä¿æŠ¤æ–¹æ³•æ•° | å­—æ®µæ•° | æ³›å‹å‚æ•° |
|:----------:|:----------:|:------------:|:------:|:--------:|
| 2 | 4 | 2 | 1 | `<T, ID>` |

---

## ğŸ“‹ æ³›å‹å‚æ•°

| å‚æ•° | çº¦æŸ | è¯´æ˜ |
|------|------|------|
| `T` | `extends BaseEntity` | å®ä½“ç±»å‹ |
| `ID` | `extends Serializable` | ä¸»é”®ç±»å‹ |

---

## ğŸ“‹ ç»§æ‰¿å…³ç³»

```
Object
  â””â”€â”€ AbstractBaseService<T, ID> (abstract)
        â”œâ”€â”€ UserServiceImpl
        â”œâ”€â”€ OrderServiceImpl
        â””â”€â”€ ProductServiceImpl
```

---

## ğŸ“‹ æŠ½è±¡æ–¹æ³•ï¼ˆå­ç±»å¿…é¡»å®ç°ï¼‰

### getMapper
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * è·å–å¯¹åº”çš„ Mapper å®ä¾‹
   * @return Mapper å®ä¾‹
   */
  protected abstract BaseMapper<T> getMapper()
  ```
- **å‚æ•°è¯´æ˜**: æ— å‚æ•°
- **è¿”å›**: `BaseMapper<T>` - å¯¹åº”çš„ Mapper å®ä¾‹
- **å®ç°è¦æ±‚**: å­ç±»å¿…é¡»è¿”å›å…·ä½“çš„ Mapper

### getEntityClass
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * è·å–å®ä½“ç±»ç±»å‹
   * @return å®ä½“ç±» Class å¯¹è±¡
   */
  protected abstract Class<T> getEntityClass()
  ```
- **å‚æ•°è¯´æ˜**: æ— å‚æ•°
- **è¿”å›**: `Class<T>` - å®ä½“ç±» Class å¯¹è±¡
- **å®ç°è¦æ±‚**: å­ç±»å¿…é¡»è¿”å›å®ä½“ç±»çš„ Class

---

## ğŸ“‹ æ¨¡æ¿æ–¹æ³•ï¼ˆå¯è¢«å­ç±»è¦†ç›–ï¼‰

### beforeSave
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * ä¿å­˜å‰çš„é’©å­æ–¹æ³•
   * @param entity å¾…ä¿å­˜çš„å®ä½“
   */
  protected void beforeSave(@NotNull T entity)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | entity | T | @NotNull | å¾…ä¿å­˜çš„å®ä½“ |
- **è¿”å›**: `void`
- **é»˜è®¤è¡Œä¸º**: ç©ºå®ç°ï¼Œå­ç±»å¯è¦†ç›–æ·»åŠ è‡ªå®šä¹‰é€»è¾‘

### afterSave
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * ä¿å­˜åçš„é’©å­æ–¹æ³•
   * @param entity å·²ä¿å­˜çš„å®ä½“
   */
  protected void afterSave(@NotNull T entity)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | entity | T | @NotNull | å·²ä¿å­˜çš„å®ä½“ |
- **è¿”å›**: `void`
- **é»˜è®¤è¡Œä¸º**: ç©ºå®ç°ï¼Œå­ç±»å¯è¦†ç›–æ·»åŠ è‡ªå®šä¹‰é€»è¾‘

---

## ğŸ“‹ å…·ä½“æ–¹æ³•ï¼ˆå­ç±»ç»§æ‰¿ï¼‰

### getById
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * æ ¹æ®IDæŸ¥è¯¢å®ä½“
   * @param id ä¸»é”®ID
   * @return å®ä½“å¯¹è±¡ï¼Œä¸å­˜åœ¨è¿”å› null
   */
  public T getById(@NotNull ID id)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | id | ID | @NotNull | ä¸»é”®ID |
- **è¿”å›**: `T` - å®ä½“å¯¹è±¡ï¼Œä¸å­˜åœ¨è¿”å› null

### save
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * ä¿å­˜å®ä½“ï¼Œè°ƒç”¨ beforeSave å’Œ afterSave é’©å­
   * @param entity å¾…ä¿å­˜çš„å®ä½“
   * @return ä¿å­˜åçš„å®ä½“ï¼ˆå«IDï¼‰
   */
  @Transactional(rollbackFor = Exception.class)
  public T save(@Valid @NotNull T entity)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | entity | T | @Valid @NotNull | å¾…ä¿å­˜çš„å®ä½“ |
- **è¿”å›**: `T` - ä¿å­˜åçš„å®ä½“ï¼ˆå«IDï¼‰
- **äº‹åŠ¡**: `@Transactional(rollbackFor = Exception.class)`

### updateById
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * æ ¹æ®IDæ›´æ–°å®ä½“
   * @param id ä¸»é”®ID
   * @param entity æ›´æ–°çš„å®ä½“æ•°æ®
   * @return æ˜¯å¦æ›´æ–°æˆåŠŸ
   */
  @Transactional(rollbackFor = Exception.class)
  public boolean updateById(@NotNull ID id, @Valid @NotNull T entity)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | id | ID | @NotNull | ä¸»é”®ID |
  | entity | T | @Valid @NotNull | æ›´æ–°çš„å®ä½“æ•°æ® |
- **è¿”å›**: `boolean` - æ˜¯å¦æ›´æ–°æˆåŠŸ
- **äº‹åŠ¡**: `@Transactional(rollbackFor = Exception.class)`

### deleteById
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * æ ¹æ®IDåˆ é™¤å®ä½“
   * @param id ä¸»é”®ID
   * @return æ˜¯å¦åˆ é™¤æˆåŠŸ
   */
  @Transactional(rollbackFor = Exception.class)
  public boolean deleteById(@NotNull ID id)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | id | ID | @NotNull | ä¸»é”®ID |
- **è¿”å›**: `boolean` - æ˜¯å¦åˆ é™¤æˆåŠŸ
- **äº‹åŠ¡**: `@Transactional(rollbackFor = Exception.class)`

---

## ğŸ”— å­ç±»åˆ—è¡¨

| å­ç±» | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| UserServiceImpl | Service | ç”¨æˆ·æœåŠ¡å®ç° |
| OrderServiceImpl | Service | è®¢å•æœåŠ¡å®ç° |
| ProductServiceImpl | Service | å•†å“æœåŠ¡å®ç° |

---

## ğŸ”™ è¢«ä¾èµ–æ–¹ï¼ˆè°ä¾èµ–æˆ‘ï¼‰

| ç»„ä»¶ | ç±»å‹ | ä½¿ç”¨æ–¹å¼ |
|------|------|----------|
| UserServiceImpl | Service | ç»§æ‰¿ |
| OrderServiceImpl | Service | ç»§æ‰¿ |
| ProductServiceImpl | Service | ç»§æ‰¿ |

**å½±å“åˆ†æ**: ä¿®æ”¹æœ¬ç±»å¯èƒ½å½±å“ 3 ä¸ªå­ç±»
```

---

## Constants æ–‡æ¡£ç¤ºä¾‹

**è¾“å…¥**: CommonConstants.java æ–‡ä»¶

**è¾“å‡º**: `kb/constants/CommonConstants.md`
```markdown
# CommonConstants

> **è·¯å¾„**: `com.example.common.CommonConstants`  
> **ç±»å‹**: Constants  
> **èŒè´£**: ç³»ç»Ÿé€šç”¨å¸¸é‡å®šä¹‰  
> **ä»£ç è¡Œæ•°**: 42 è¡Œï¼ˆSLOCï¼‰

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

| å¸¸é‡æ€»æ•° | å­—ç¬¦ä¸²å¸¸é‡ | æ•°å€¼å¸¸é‡ | åˆ†ç»„æ•° |
|:--------:|:----------:|:--------:|:------:|
| 15 | 8 | 7 | 3 |

---

## ğŸ“‹ å¸¸é‡åˆ†ç»„

### ç³»ç»Ÿé…ç½®

| å¸¸é‡å | ç±»å‹ | å€¼ | è¯´æ˜ |
|--------|------|-----|------|
| `DEFAULT_PAGE_SIZE` | int | `10` | é»˜è®¤åˆ†é¡µå¤§å° |
| `MAX_PAGE_SIZE` | int | `100` | æœ€å¤§åˆ†é¡µå¤§å° |
| `TOKEN_EXPIRE_SECONDS` | long | `7200` | Token è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰ |

### ç¼“å­˜é”®å‰ç¼€

| å¸¸é‡å | ç±»å‹ | å€¼ | è¯´æ˜ |
|--------|------|-----|------|
| `CACHE_USER_PREFIX` | String | `"user:"` | ç”¨æˆ·ç¼“å­˜é”®å‰ç¼€ |
| `CACHE_ORDER_PREFIX` | String | `"order:"` | è®¢å•ç¼“å­˜é”®å‰ç¼€ |

### çŠ¶æ€ç 

| å¸¸é‡å | ç±»å‹ | å€¼ | è¯´æ˜ |
|--------|------|-----|------|
| `STATUS_ENABLED` | int | `1` | å¯ç”¨çŠ¶æ€ |
| `STATUS_DISABLED` | int | `0` | ç¦ç”¨çŠ¶æ€ |

---

## ğŸ”™ è¢«ä¾èµ–æ–¹ï¼ˆè°ä¾èµ–æˆ‘ï¼‰

| ç»„ä»¶ | ç±»å‹ | ä½¿ç”¨çš„å¸¸é‡ |
|------|------|------------|
| UserService | Service | DEFAULT_PAGE_SIZE, CACHE_USER_PREFIX |
| OrderService | Service | DEFAULT_PAGE_SIZE, CACHE_ORDER_PREFIX |
| BaseController | Controller | DEFAULT_PAGE_SIZE, MAX_PAGE_SIZE |

**å½±å“åˆ†æ**: ä¿®æ”¹æœ¬ç±»å¸¸é‡å¯èƒ½å½±å“ 3 ä¸ªç»„ä»¶
```

---

## ç±»æ–‡æ¡£ç¤ºä¾‹

**è¾“å…¥**: UserService.java æ–‡ä»¶

**è¾“å‡º**: `kb/service/UserService.md`
```markdown
# UserService

> **è·¯å¾„**: `com.example.service.UserService`  
> **ç±»å‹**: Service  
> **èŒè´£**: ç”¨æˆ·ä¸šåŠ¡é€»è¾‘å¤„ç†  
> **ä»£ç è¡Œæ•°**: 156 è¡Œï¼ˆSLOCï¼‰

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

| ä¸šåŠ¡æ–¹æ³•æ€»æ•° | äº‹åŠ¡æ–¹æ³•æ•° | æ— äº‹åŠ¡æ–¹æ³•æ•° | ä¾èµ–Mapperæ•° | ä¾èµ–Serviceæ•° |
|:------------:|:----------:|:------------:|:------------:|:-------------:|
| 4 | 3 | 1 | 1 | 1 |

---

## ğŸ“‹ å®ç°æ¥å£

| æ¥å£ | è¯´æ˜ |
|------|------|
| IUserService | ç”¨æˆ·æœåŠ¡æ¥å£ |

---

## ğŸ“‹ ä¸šåŠ¡æ–¹æ³•

### getUserById
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
   * @param id ç”¨æˆ·ID
   * @return ç”¨æˆ·è¯¦æƒ…
   */
  @Override
  @Cacheable(value = "users", key = "#id")
  public UserVO getUserById(@NotNull Long id)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | id | Long | @NotNull | ç”¨æˆ·ID |
- **è¿”å›**: `UserVO` - ç”¨æˆ·è¯¦æƒ…
- **äº‹åŠ¡**: âŒ æ— äº‹åŠ¡ï¼ˆåªè¯»æ“ä½œï¼‰
- **ç¼“å­˜**: `@Cacheable(value = "users", key = "#id")`
- **è¯´æ˜**: æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œç»“æœä¼šè¢«ç¼“å­˜

### createUser
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * åˆ›å»ºç”¨æˆ·ï¼ŒåŒ…å«æ•°æ®éªŒè¯å’Œç¼“å­˜æ›´æ–°
   * @param dto ç”¨æˆ·åˆ›å»ºè¯·æ±‚
   * @throws BusinessException ä¸šåŠ¡è§„åˆ™æ ¡éªŒå¤±è´¥
   * @throws DuplicateKeyException ç”¨æˆ·åå·²å­˜åœ¨
   */
  @Override
  @Transactional(rollbackFor = Exception.class)
  @CacheEvict(value = "users", allEntries = true)
  public void createUser(@Valid @NotNull UserDTO dto) 
      throws BusinessException, DuplicateKeyException
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | dto | UserDTO | @Valid @NotNull | ç”¨æˆ·åˆ›å»ºè¯·æ±‚ |
- **è¿”å›**: `void`
- **äº‹åŠ¡**: âœ… `@Transactional(rollbackFor = Exception.class)`
- **ç¼“å­˜**: `@CacheEvict(value = "users", allEntries = true)`
- **å¼‚å¸¸**:
  | å¼‚å¸¸ç±»å‹ | è§¦å‘æ¡ä»¶ |
  |----------|----------|
  | BusinessException | ä¸šåŠ¡è§„åˆ™æ ¡éªŒå¤±è´¥ |
  | DuplicateKeyException | ç”¨æˆ·åå·²å­˜åœ¨ |
- **è¯´æ˜**: åˆ›å»ºç”¨æˆ·ï¼ŒåŒ…å«æ•°æ®éªŒè¯å’Œç¼“å­˜æ›´æ–°

### updateUser
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * æ›´æ–°ç”¨æˆ·ä¿¡æ¯
   * @param id ç”¨æˆ·ID
   * @param dto æ›´æ–°æ•°æ®
   * @throws UserNotFoundException ç”¨æˆ·ä¸å­˜åœ¨
   */
  @Override
  @Transactional(rollbackFor = Exception.class)
  @CacheEvict(value = "users", key = "#id")
  public void updateUser(
      @NotNull Long id, 
      @Valid @NotNull UpdateUserDTO dto
  ) throws UserNotFoundException
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | id | Long | @NotNull | ç”¨æˆ·ID |
  | dto | UpdateUserDTO | @Valid @NotNull | æ›´æ–°æ•°æ® |
- **è¿”å›**: `void`
- **äº‹åŠ¡**: âœ… `@Transactional(rollbackFor = Exception.class)`
- **ç¼“å­˜**: `@CacheEvict(value = "users", key = "#id")`
- **å¼‚å¸¸**:
  | å¼‚å¸¸ç±»å‹ | è§¦å‘æ¡ä»¶ |
  |----------|----------|
  | UserNotFoundException | ç”¨æˆ·ä¸å­˜åœ¨ |
- **è¯´æ˜**: æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼Œæ¸…é™¤å¯¹åº”ç¼“å­˜

### listUsers
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
   * @param query æŸ¥è¯¢æ¡ä»¶
   * @param pageNum é¡µç 
   * @param pageSize æ¯é¡µæ•°é‡
   * @return åˆ†é¡µç”¨æˆ·åˆ—è¡¨
   */
  @Override
  @Transactional(readOnly = true)
  public PageInfo<UserVO> listUsers(
      @Nullable UserQueryDTO query,
      @Min(1) int pageNum,
      @Min(1) @Max(100) int pageSize
  )
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | query | UserQueryDTO | @Nullable | æŸ¥è¯¢æ¡ä»¶ï¼Œå¯ä¸ºç©º |
  | pageNum | int | @Min(1) | é¡µç ï¼Œæœ€å°ä¸º1 |
  | pageSize | int | @Min(1) @Max(100) | æ¯é¡µæ•°é‡ï¼Œ1-100 |
- **è¿”å›**: `PageInfo<UserVO>` - åˆ†é¡µç”¨æˆ·åˆ—è¡¨
- **äº‹åŠ¡**: âœ… `@Transactional(readOnly = true)`
- **è¯´æ˜**: åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨

---

## ğŸ”— ä¾èµ–ç»„ä»¶ï¼ˆæˆ‘ä¾èµ–è°ï¼‰

| ç»„ä»¶ | ç±»å‹ | ç”¨é€” |
|------|------|------|
| UserMapper | Mapper | ç”¨æˆ·æ•°æ®è®¿é—® |
| OrderService | Service | æŸ¥è¯¢ç”¨æˆ·è®¢å• |
| RedisTemplate | ç»„ä»¶ | ç”¨æˆ·ä¿¡æ¯ç¼“å­˜ |

---

## ğŸ”™ è¢«ä¾èµ–æ–¹ï¼ˆè°ä¾èµ–æˆ‘ï¼‰

| ç»„ä»¶ | ç±»å‹ | è°ƒç”¨æ–¹æ³• |
|------|------|----------|
| UserController | Controller | getUserById(), createUser(), updateUser() |
| OrderService | Service | getOrderUser() |
| PaymentService | Service | validateUser() |

**å½±å“åˆ†æ**: ä¿®æ”¹æœ¬ç±»å¯èƒ½å½±å“ 3 ä¸ªç»„ä»¶

---

## ğŸ·ï¸ å…³é”®æ³¨è§£

```java
@Service
@Slf4j
@RequiredArgsConstructor
```
```

---

## Exception æ–‡æ¡£ç¤ºä¾‹

**è¾“å…¥**: BusinessException.java æ–‡ä»¶

**è¾“å‡º**: `kb/exception/BusinessException.md`
```markdown
# BusinessException

> **è·¯å¾„**: `com.example.exception.BusinessException`  
> **ç±»å‹**: Exception  
> **èŒè´£**: ä¸šåŠ¡é€»è¾‘å¼‚å¸¸ï¼Œç”¨äºè¡¨ç¤ºå¯é¢„æœŸçš„ä¸šåŠ¡é”™è¯¯  
> **ä»£ç è¡Œæ•°**: 45 è¡Œ

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

| æ„é€ æ–¹æ³•æ•° | è‡ªå®šä¹‰å­—æ®µæ•° | é”™è¯¯ç æ•°é‡ |
|:----------:|:------------:|:----------:|
| 3 | 2 | - |

---

## ğŸ“‹ å¼‚å¸¸ä¿¡æ¯

### ç»§æ‰¿å…³ç³»
```
RuntimeException
  â””â”€â”€ BusinessException
```

### è‡ªå®šä¹‰å­—æ®µ

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| code | Integer | ä¸šåŠ¡é”™è¯¯ç  |
| data | Object | é™„åŠ æ•°æ® |

### æ„é€ æ–¹æ³•

#### BusinessException(String)
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * ä»…æ¶ˆæ¯æ„é€ 
   * @param message é”™è¯¯æ¶ˆæ¯
   */
  public BusinessException(@NotNull String message)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | message | String | @NotNull | é”™è¯¯æ¶ˆæ¯ |
- **è¯´æ˜**: ä»…æ¶ˆæ¯æ„é€ ï¼Œcode é»˜è®¤ä¸º 500

#### BusinessException(Integer, String)
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * é”™è¯¯ç +æ¶ˆæ¯æ„é€ 
   * @param code ä¸šåŠ¡é”™è¯¯ç 
   * @param message é”™è¯¯æ¶ˆæ¯
   */
  public BusinessException(@NotNull Integer code, @NotNull String message)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | code | Integer | @NotNull | ä¸šåŠ¡é”™è¯¯ç  |
  | message | String | @NotNull | é”™è¯¯æ¶ˆæ¯ |
- **è¯´æ˜**: é”™è¯¯ç +æ¶ˆæ¯æ„é€ 

#### BusinessException(Integer, String, Object)
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * å®Œæ•´æ„é€ 
   * @param code ä¸šåŠ¡é”™è¯¯ç 
   * @param message é”™è¯¯æ¶ˆæ¯
   * @param data é™„åŠ æ•°æ®
   */
  public BusinessException(
      @NotNull Integer code, 
      @NotNull String message, 
      @Nullable Object data
  )
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | code | Integer | @NotNull | ä¸šåŠ¡é”™è¯¯ç  |
  | message | String | @NotNull | é”™è¯¯æ¶ˆæ¯ |
  | data | Object | @Nullable | é™„åŠ æ•°æ®ï¼Œå¯ä¸ºç©º |
- **è¯´æ˜**: å®Œæ•´æ„é€ ï¼ŒåŒ…å«é™„åŠ æ•°æ®

---

## ğŸ”™ è¢«ä¾èµ–æ–¹ï¼ˆè°ä¾èµ–æˆ‘ï¼‰

| ç»„ä»¶ | ç±»å‹ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| UserService | Service | ç”¨æˆ·åé‡å¤æ—¶æŠ›å‡º |
| OrderService | Service | åº“å­˜ä¸è¶³æ—¶æŠ›å‡º |
| GlobalExceptionHandler | Handler | ç»Ÿä¸€æ•è·å¤„ç† |

**å½±å“åˆ†æ**: ä¿®æ”¹æœ¬ç±»å¯èƒ½å½±å“ 3 ä¸ªç»„ä»¶
```

---

## Enum æ–‡æ¡£ç¤ºä¾‹

**è¾“å…¥**: OrderStatus.java æ–‡ä»¶

**è¾“å‡º**: `kb/enum/OrderStatus.md`
```markdown
# OrderStatus

> **è·¯å¾„**: `com.example.enums.OrderStatus`  
> **ç±»å‹**: Enum  
> **èŒè´£**: è®¢å•çŠ¶æ€æšä¸¾ï¼Œå®šä¹‰è®¢å•ç”Ÿå‘½å‘¨æœŸçš„æ‰€æœ‰çŠ¶æ€  
> **ä»£ç è¡Œæ•°**: 32 è¡Œ

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

| æšä¸¾å€¼æ•°é‡ | è‡ªå®šä¹‰å­—æ®µæ•° | è‡ªå®šä¹‰æ–¹æ³•æ•° |
|:----------:|:------------:|:------------:|
| 5 | 2 | 1 |

---

## ğŸ“‹ æšä¸¾å€¼åˆ—è¡¨

| æšä¸¾å€¼ | code | description | è¯´æ˜ |
|--------|------|-------------|------|
| PENDING | 0 | å¾…æ”¯ä»˜ | è®¢å•åˆ›å»ºåçš„åˆå§‹çŠ¶æ€ |
| PAID | 1 | å·²æ”¯ä»˜ | æ”¯ä»˜æˆåŠŸ |
| SHIPPED | 2 | å·²å‘è´§ | å•†å®¶å·²å‘è´§ |
| COMPLETED | 3 | å·²å®Œæˆ | ç”¨æˆ·ç¡®è®¤æ”¶è´§ |
| CANCELLED | 4 | å·²å–æ¶ˆ | è®¢å•å–æ¶ˆ |

---

## ğŸ“‹ è‡ªå®šä¹‰å­—æ®µ

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| code | Integer | çŠ¶æ€ç  |
| description | String | çŠ¶æ€æè¿° |

---

## ğŸ“‹ è‡ªå®šä¹‰æ–¹æ³•

### getByCode
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * æ ¹æ®çŠ¶æ€ç è·å–æšä¸¾å€¼
   * @param code çŠ¶æ€ç 
   * @return å¯¹åº”çš„æšä¸¾å€¼ï¼Œä¸å­˜åœ¨è¿”å› null
   */
  public static OrderStatus getByCode(@Nullable Integer code)
  ```
- **å‚æ•°è¯´æ˜**:
  | å‚æ•° | ç±»å‹ | æ³¨è§£ | è¯´æ˜ |
  |------|------|------|------|
  | code | Integer | @Nullable | çŠ¶æ€ç ï¼Œå¯ä¸ºç©º |
- **è¿”å›**: `OrderStatus` - å¯¹åº”çš„æšä¸¾å€¼ï¼Œä¸å­˜åœ¨è¿”å› null
- **è¯´æ˜**: æ ¹æ®çŠ¶æ€ç è·å–æšä¸¾å€¼

### getCode
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * è·å–çŠ¶æ€ç 
   * @return çŠ¶æ€ç 
   */
  public Integer getCode()
  ```
- **å‚æ•°è¯´æ˜**: æ— å‚æ•°
- **è¿”å›**: `Integer` - çŠ¶æ€ç 
- **è¯´æ˜**: Getter æ–¹æ³•

### getDescription
- **å®Œæ•´ç­¾å**:
  ```java
  /**
   * è·å–çŠ¶æ€æè¿°
   * @return çŠ¶æ€æè¿°
   */
  public String getDescription()
  ```
- **å‚æ•°è¯´æ˜**: æ— å‚æ•°
- **è¿”å›**: `String` - çŠ¶æ€æè¿°
- **è¯´æ˜**: Getter æ–¹æ³•

---

## ğŸ”™ è¢«ä¾èµ–æ–¹ï¼ˆè°ä¾èµ–æˆ‘ï¼‰

| ç»„ä»¶ | ç±»å‹ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| Order | Entity | status å­—æ®µç±»å‹ |
| OrderService | Service | çŠ¶æ€æµè½¬åˆ¤æ–­ |
| OrderController | Controller | çŠ¶æ€æŸ¥è¯¢å‚æ•° |

**å½±å“åˆ†æ**: ä¿®æ”¹æœ¬ç±»å¯èƒ½å½±å“ 3 ä¸ªç»„ä»¶
```

---

## æ¶æ„æ–‡æ¡£ç¤ºä¾‹

**è¾“å‡º**: `kb/architecture.md`
```markdown
# é¡¹ç›®æ¶æ„

> **ç”Ÿæˆæ—¶é—´**: 2024-01-15  
> **ç±»æ€»æ•°**: 52 ä¸ª  
> **ä¾èµ–å…³ç³»æ•°**: 87 æ¡

---

## ğŸ“ åˆ†å±‚æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Interface å±‚ (3)                        â”‚
â”‚  IUserService        IOrderService        IPaymentService    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“                 â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Controller å±‚ (5)                     â”‚
â”‚  UserController â”€â”€â†’ OrderController â”€â”€â†’ PaymentController   â”‚
â”‚  ProductController    AdminController                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“                 â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Service å±‚ (12)                      â”‚
â”‚  UserServiceImpl â†â”€â”€â†’ OrderServiceImpl â†â”€â”€â†’ PaymentServiceImplâ”‚
â”‚  ProductService    CartService     NotificationService       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“                 â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Mapper å±‚ (8)                        â”‚
â”‚  UserMapper   OrderMapper   PaymentMapper   ProductMapper    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“                 â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Entity å±‚ (8)                        â”‚
â”‚  User   Order   Payment   Product   Cart   OrderItem         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æ¨¡å—ä¾èµ–çŸ©é˜µ

| æ¨¡å— | ç±»å‹ | ä¾èµ–æ•° | è¢«ä¾èµ–æ•° | è€¦åˆåº¦ |
|------|------|--------|----------|--------|
| IUserService | Interface | 0 | 3 | ä¸­ |
| UserServiceImpl | Service | 3 | 5 | é«˜ |
| OrderServiceImpl | Service | 4 | 3 | ä¸­ |
| PaymentServiceImpl | Service | 2 | 2 | ä½ |
| ProductService | Service | 2 | 4 | ä¸­ |

---

## âš ï¸ å¾ªç¯ä¾èµ–æ£€æµ‹

**æ£€æµ‹ç®—æ³•**: DFS æŸ“è‰²æ³•

âœ… æœªå‘ç°å¾ªç¯ä¾èµ–

---

## ğŸ”„ æ ¸å¿ƒè°ƒç”¨é“¾

### ç”¨æˆ·æ³¨å†Œæµç¨‹
```
UserController.register()
  â†’ IUserService.createUser() [æ¥å£]
    â†’ UserServiceImpl.createUser() [å®ç°]
      â†’ UserMapper.selectByUsername()  // æ£€æŸ¥ç”¨æˆ·å
      â†’ UserMapper.insert()            // æ’å…¥ç”¨æˆ·
      â†’ EmailService.sendWelcome()     // å‘é€é‚®ä»¶
```

### è®¢å•åˆ›å»ºæµç¨‹
```
OrderController.create()
  â†’ IOrderService.createOrder() [æ¥å£]
    â†’ OrderServiceImpl.createOrder() [å®ç°]
      â†’ IUserService.getUser()         // è·å–ç”¨æˆ·
      â†’ ProductService.checkStock()    // æ£€æŸ¥åº“å­˜
      â†’ OrderMapper.insert()           // åˆ›å»ºè®¢å•
      â†’ ProductService.reduceStock()   // æ‰£å‡åº“å­˜
      â†’ PaymentService.initPayment()   // åˆå§‹åŒ–æ”¯ä»˜
```

### æ”¯ä»˜å›è°ƒæµç¨‹
```
PaymentController.callback()
  â†’ PaymentService.handleCallback()
    â†’ PaymentMapper.updateStatus()   // æ›´æ–°æ”¯ä»˜çŠ¶æ€
    â†’ OrderService.updateStatus()    // æ›´æ–°è®¢å•çŠ¶æ€
    â†’ NotificationService.notify()   // å‘é€é€šçŸ¥
```
```

---

## ç±»å‹è¯†åˆ«ç¤ºä¾‹

### åœºæ™¯ 1: æ¥å£è¯†åˆ«

**æ–‡ä»¶**: `com.xxx.service.IUserService.java`
```java
public interface IUserService {
    UserVO getUserById(Long id);
    void createUser(UserDTO dto);
}
```

**è¯†åˆ«ç»“æœ**: Interfaceï¼ˆæ ¹æ® `interface` å…³é”®å­—ï¼‰
**è¾“å‡ºè·¯å¾„**: `kb/interface/IUserService.md`

### åœºæ™¯ 2: æŠ½è±¡ç±»è¯†åˆ«

**æ–‡ä»¶**: `com.xxx.service.AbstractBaseService.java`
```java
public abstract class AbstractBaseService<T, ID> {
    protected abstract BaseMapper<T> getMapper();
    public T getById(ID id) { ... }
}
```

**è¯†åˆ«ç»“æœ**: Abstractï¼ˆæ ¹æ® `abstract class` å…³é”®å­—ï¼‰
**è¾“å‡ºè·¯å¾„**: `kb/abstract/AbstractBaseService.md`

### åœºæ™¯ 3: å¸¸é‡ç±»è¯†åˆ«

**æ–‡ä»¶**: `com.xxx.common.CommonConstants.java`
```java
public class CommonConstants {
    public static final int DEFAULT_PAGE_SIZE = 10;
    public static final String CACHE_PREFIX = "user:";
}
```

**è¯†åˆ«ç»“æœ**: Constantsï¼ˆæ ¹æ®ç±»åå’Œå…¨é™æ€finalå­—æ®µï¼‰
**è¾“å‡ºè·¯å¾„**: `kb/constants/CommonConstants.md`

### åœºæ™¯ 4: åŒ…åä¸ç±»å‹ä¸åŒ¹é…

**æ–‡ä»¶**: `com.xxx.controller.UserService.java`
```java
@Service
public class UserService {
    // ...
}
```

**è¯†åˆ«ç»“æœ**: Serviceï¼ˆæ ¹æ® `@Service` æ³¨è§£ï¼‰
**è¾“å‡ºè·¯å¾„**: `kb/service/UserService.md`

### åœºæ™¯ 5: å¤šæ³¨è§£æƒ…å†µ

**æ–‡ä»¶**: `com.xxx.service.UserController.java`
```java
@RestController
@RequestMapping("/api/user")
public class UserController {
    // ...
}
```

**è¯†åˆ«ç»“æœ**: Controllerï¼ˆæ ¹æ® `@RestController` æ³¨è§£ï¼‰
**è¾“å‡ºè·¯å¾„**: `kb/controller/UserController.md`

### åœºæ™¯ 6: å¼‚å¸¸ç±»è¯†åˆ«

**æ–‡ä»¶**: `com.xxx.common.BusinessException.java`
```java
public class BusinessException extends RuntimeException {
    private Integer code;
    // ...
}
```

**è¯†åˆ«ç»“æœ**: Exceptionï¼ˆæ ¹æ® `extends RuntimeException`ï¼‰
**è¾“å‡ºè·¯å¾„**: `kb/exception/BusinessException.md`

### åœºæ™¯ 7: æšä¸¾ç±»è¯†åˆ«

**æ–‡ä»¶**: `com.xxx.enums.OrderStatus.java`
```java
public enum OrderStatus {
    PENDING, PAID, SHIPPED, COMPLETED, CANCELLED
}
```

**è¯†åˆ«ç»“æœ**: Enumï¼ˆæ ¹æ® `enum` å…³é”®å­—ï¼‰
**è¾“å‡ºè·¯å¾„**: `kb/enum/OrderStatus.md`

---

## è¿›åº¦æŠ¥å‘Šç¤ºä¾‹

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” é˜¶æ®µ1ï¼šä½¿ç”¨å·¥å…·å®Œæ•´æ‰«æ â†’ éªŒè¯å‡†ç¡®æ€§ â†’ ç”Ÿæˆæ¸…å•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… ä½¿ç”¨å·¥å…·: list_filesï¼ˆå·²è®°å½•ï¼‰
å‚æ•°: target_directory=/project/src/main/java, depth=10, recursive=true

æ­£åœ¨é€’å½’æ‰«ææ‰€æœ‰ç›®å½•å’Œå­ç›®å½•...
å‘ç° 8 ä¸ªç›®å½•ï¼Œå…±è®¡ 52 ä¸ª Java æ–‡ä»¶ï¼ˆå·¥å…·æ‰«æç²¾ç¡®ç»“æœï¼Œéé¢„ä¼°æˆ–ä¼°ç®—ï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” éªŒè¯æ¸…å•å‡†ç¡®æ€§
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[1/5] æ£€æŸ¥æ‰«ææ–¹å¼...
  âœ… å·²ä½¿ç”¨ list_files å·¥å…·ï¼ˆéé¢„ä¼°æˆ–ä¼°ç®—ï¼‰
  âœ… æ‰«æå‚æ•°å·²è®°å½•

[2/5] æ£€æŸ¥æ–‡ä»¶å­˜åœ¨æ€§...
  æ­£åœ¨éªŒè¯ 52 ä¸ªæ–‡ä»¶è·¯å¾„...
  âœ… 52/52 æ–‡ä»¶éªŒè¯é€šè¿‡

[3/5] æ£€æŸ¥é‡å¤æ–‡ä»¶...
  æ­£åœ¨æ£€æŸ¥é‡å¤è®°å½•...
  âœ… æ— é‡å¤æ–‡ä»¶

[4/5] æ£€æŸ¥è·¯å¾„æœ‰æ•ˆæ€§...
  æ­£åœ¨éªŒè¯è·¯å¾„æ ¼å¼...
  âœ… æ‰€æœ‰è·¯å¾„æ ¼å¼æ­£ç¡®

[5/5] æ£€æŸ¥å®Œæ•´æ€§...
  å·¥å…·æ‰«æç»“æœ: 52 ä¸ªæ–‡ä»¶
  æ¸…å•è®°å½•æ•°é‡: 52 ä¸ªæ–‡ä»¶
  âœ… æ•°é‡ä¸€è‡´ï¼Œæ— é—æ¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ ç”Ÿæˆå®Œæ•´æ–‡ä»¶æ¸…å•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ç”Ÿæˆ: kb/.complete-file-list.md âœ…

æ¸…å•ç‰¹æ€§:
  âœ… æ‰«ææ–¹å¼ï¼šlist_files å·¥å…·ï¼ˆå·²è®°å½•ï¼‰
  âœ… æ— é—æ¼ï¼šåŒ…å«æ‰€æœ‰ 52 ä¸ªæ–‡ä»¶
  âœ… æ— é‡å¤ï¼šæ¯ä¸ªæ–‡ä»¶åªå‡ºç°ä¸€æ¬¡
  âœ… æ— è™šå‡ï¼šæ‰€æœ‰æ–‡ä»¶è·¯å¾„å·²éªŒè¯å­˜åœ¨
  âœ… è·¯å¾„å‡†ç¡®ï¼šç›¸å¯¹è·¯å¾„ï¼Œæ ¼å¼ç»Ÿä¸€
  
æ¸…å•å†…å®¹:
  - æ‰«ææ–¹å¼: list_files å·¥å…·
  - æ–‡ä»¶æ€»æ•°: 52 ä¸ªï¼ˆå·¥å…·æ‰«æç²¾ç¡®ç»“æœï¼‰
  - æŒ‰æ‰«æé¡ºåºç¼–å·ï¼ˆ1-52ï¼‰
  - é¢„è¯†åˆ«ç±»ç±»å‹
  - æ‰¹æ¬¡åˆ†é…: 6 æ‰¹ï¼ˆæ¯æ‰¹ 10 ä¸ªæ–‡ä»¶ï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ é˜¶æ®µ2ï¼šåŸºäºå®Œæ•´æ¸…å•ï¼Œç”Ÿæˆæ‰§è¡Œè®¡åˆ’
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
è¯»å– kb/.complete-file-list.mdï¼ˆå·²éªŒè¯å‡†ç¡®ï¼‰
  - æ‰«ææ–¹å¼: list_files å·¥å…·
  
åˆ›å»º .task-plan.md å’Œ .task-progress.md
  - æ–‡ä»¶æ€»æ•°: 52ï¼ˆå·¥å…·æ‰«æç²¾ç¡®ç»“æœï¼ŒåŸºäºå®Œæ•´æ¸…å•ï¼‰
  - æ‰¹æ¬¡æ•°é‡: 6ï¼ˆæ¯æ‰¹ 10 ä¸ªæ–‡ä»¶ï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ é˜¶æ®µ3ï¼šæŒ‰æ‰¹æ¬¡ç”Ÿæˆæ–‡æ¡£ï¼ˆè¾¹å¤„ç†è¾¹è®°å½•ä¾èµ–ï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ æ‰¹æ¬¡ 1 å®Œæˆ (æ–‡ä»¶ 1-10)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  - å¤„ç†æ–‡ä»¶: 10 ä¸ª
  - ç”Ÿæˆæ–‡æ¡£: 10 ä¸ªï¼ˆå« Controller 3ä¸ª, Service 4ä¸ª, Mapper 3ä¸ªï¼‰
  - æ€»æ–¹æ³•æ•°: 78 ä¸ª
  è¿›åº¦: 10/52 (19.2%)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ æ‰¹æ¬¡ 2 å®Œæˆ (æ–‡ä»¶ 11-20)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  - å¤„ç†æ–‡ä»¶: 10 ä¸ª
  - ç”Ÿæˆæ–‡æ¡£: 10 ä¸ªï¼ˆå« Controller 2ä¸ª, Service 4ä¸ª, Mapper 4ä¸ªï¼‰
  - æ€»æ–¹æ³•æ•°: 82 ä¸ª
  è¿›åº¦: 20/52 (38.5%)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ æ‰¹æ¬¡ 3 å®Œæˆ (æ–‡ä»¶ 21-30)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  - å¤„ç†æ–‡ä»¶: 10 ä¸ª
  - ç”Ÿæˆæ–‡æ¡£: 10 ä¸ªï¼ˆå« Entity 5ä¸ª, DTO 3ä¸ª, VO 2ä¸ªï¼‰
  - æ€»æ–¹æ³•æ•°: 45 ä¸ª
  è¿›åº¦: 30/52 (57.7%)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ æ‰¹æ¬¡ 4 å®Œæˆ (æ–‡ä»¶ 31-40)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  - å¤„ç†æ–‡ä»¶: 10 ä¸ª
  - ç”Ÿæˆæ–‡æ¡£: 10 ä¸ªï¼ˆå« Entity 3ä¸ª, DTO 4ä¸ª, Request 3ä¸ªï¼‰
  - æ€»æ–¹æ³•æ•°: 44 ä¸ª
  è¿›åº¦: 40/52 (76.9%)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ æ‰¹æ¬¡ 5 å®Œæˆ (æ–‡ä»¶ 41-50)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  - å¤„ç†æ–‡ä»¶: 10 ä¸ª
  - ç”Ÿæˆæ–‡æ¡£: 10 ä¸ªï¼ˆå« Config 2ä¸ª, Utils 4ä¸ª, Exception 2ä¸ª, Enum 2ä¸ªï¼‰
  - æ€»æ–¹æ³•æ•°: 38 ä¸ª
  è¿›åº¦: 50/52 (96.2%)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ æ‰¹æ¬¡ 6 å®Œæˆ (æ–‡ä»¶ 51-52)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  - å¤„ç†æ–‡ä»¶: 2 ä¸ª
  - ç”Ÿæˆæ–‡æ¡£: 2 ä¸ªï¼ˆå« Config 1ä¸ª, Constants 1ä¸ªï¼‰
  - æ€»æ–¹æ³•æ•°: 8 ä¸ª
  è¿›åº¦: 52/52 (100%)

[å¾ªç¯ä¾èµ–æ£€æµ‹] æœªå‘ç°å¾ªç¯ä¾èµ–
[åˆ†æä¾èµ–] ç”Ÿæˆ architecture.md
[ç”Ÿæˆç´¢å¼•] README.md å®Œæˆ
[è´¨é‡æ£€æŸ¥] å…¨éƒ¨é€šè¿‡
```

---

## é”™è¯¯ vs æ­£ç¡®

### âŒ ç»¼åˆå½’æ¡£
```markdown
## å…¶ä»– Service
- OrderService - è®¢å•æœåŠ¡
- ProductService - äº§å“æœåŠ¡
```

### âœ… ç‹¬ç«‹æ–‡ä»¶
```
kb/service/
â”œâ”€â”€ OrderService.md
â””â”€â”€ ProductService.md
```

### âŒ æŒ‰åŒ…åè¯†åˆ«
```
com.xxx.controller.UserService.java â†’ kb/controller/UserService.md
```

### âœ… æŒ‰æ³¨è§£è¯†åˆ«
```
com.xxx.controller.UserService.java (å« @Service) â†’ kb/service/UserService.md
```

### âŒ ç¼ºå°‘è¢«ä¾èµ–æ–¹
```markdown
## ğŸ”— ä¾èµ–ç»„ä»¶
- UserMapper
- OrderService
```

### âœ… åŒå‘ä¾èµ–å®Œæ•´
```markdown
## ğŸ”— ä¾èµ–ç»„ä»¶ï¼ˆæˆ‘ä¾èµ–è°ï¼‰
| ç»„ä»¶ | ç±»å‹ | ç”¨é€” |
|------|------|------|
| UserMapper | Mapper | ç”¨æˆ·æ•°æ®è®¿é—® |

## ğŸ”™ è¢«ä¾èµ–æ–¹ï¼ˆè°ä¾èµ–æˆ‘ï¼‰
| ç»„ä»¶ | ç±»å‹ | è°ƒç”¨æ–¹æ³• |
|------|------|----------|
| UserController | Controller | getUserById() |
```

---

## æ‰©å±•æ–‡æ¡£è¯¢é—®ç¤ºä¾‹

**æ ¸å¿ƒæ–‡æ¡£å®Œæˆå**:
```
AI: âœ… æ‰€æœ‰ç±»æ–‡æ¡£å·²ç”Ÿæˆå®Œæˆï¼Œå…± 52 ä¸ªæ–‡ä»¶ã€‚
    å·²ç”Ÿæˆ architecture.md æ¶æ„ä¾èµ–å›¾ã€‚

æ˜¯å¦éœ€è¦ç”Ÿæˆæ‰©å±•æ–‡æ¡£ï¼Ÿæ‰©å±•æ–‡æ¡£åŒ…æ‹¬ï¼š
- directory-structure.md (ç›®å½•ç»“æ„)
- spring-configuration.md (Springé…ç½®)
- business-flows.md (ä¸šåŠ¡æµç¨‹)
- api-contracts.md (APIå¥‘çº¦)
- interceptors-aspects.md (æ‹¦æˆªå™¨åˆ‡é¢)
- security-auth.md (å®‰å…¨è®¤è¯)
- database-structure.md (æ•°æ®åº“ç»“æ„)
- environment-config.md (ç¯å¢ƒé…ç½®)
- third-party-interfaces.md (ç¬¬ä¸‰æ–¹æ¥å£)
- third-party-components.md (ç¬¬ä¸‰æ–¹ç»„ä»¶)
- custom-annotations.md (è‡ªå®šä¹‰æ³¨è§£)

è¯·é€‰æ‹©:
1) ç”Ÿæˆå…¨éƒ¨æ‰©å±•æ–‡æ¡£
2) é€‰æ‹©æ€§ç”Ÿæˆï¼ˆè¯·æŒ‡å®šæ–‡æ¡£åï¼‰
3) è·³è¿‡ï¼Œå®ŒæˆçŸ¥è¯†åº“ç”Ÿæˆ

ç”¨æˆ·: 2ï¼Œåªè¦ business-flows å’Œ api-contracts
AI: [ç”Ÿæˆ extra/business-flows.md å’Œ extra/api-contracts.md]
```
