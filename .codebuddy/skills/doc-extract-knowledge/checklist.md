# 检查清单 - doc-extract-knowledge

## 场景判断检查

- [ ] 使用工具精准扫描项目文件数量（非预估）
- [ ] 确认用户需求（整个项目 vs 指定模块）
- [ ] 确认输出粒度需求（汇总文档 vs 文件级文档）
- [ ] 确认是否需要依赖分析
- [ ] 根据规则选择合适策略
- [ ] 向用户确认策略选择

## 策略选择检查

| 条件 | 推荐策略 | 检查 |
|------|---------|------|
| 文件数 < 100 | top-down | [ ] |
| 100 ≤ 文件数 < 200 | top-down 或 by-module | [ ] |
| 文件数 ≥ 200 | by-module | [ ] |
| 需要依赖分析 | bottom-up | [ ] |
| 指定具体模块 | by-module | [ ] |

## top-down 策略检查

- [ ] 先生成总索引 README.md
- [ ] 按分类逐章生成文档
- [ ] 每章完成后询问用户
- [ ] 类型识别基于注解/继承，忽略目录名
- [ ] 完整读取源码文件

## bottom-up 策略检查

- [ ] 生成完整文件清单（.complete-file-list.md）
- [ ] 生成执行计划（.task-plan.md）
- [ ] 生成进度跟踪（.task-progress.md）
- [ ] 每批 10 个文件处理
- [ ] 每个文件完成后立即更新进度
- [ ] 汇总阶段生成依赖图和架构文档

## by-module 策略检查

- [ ] 确认 SOURCE_DIR 和 DOC_DIR
- [ ] 生成文件索引（.file-list.md）
- [ ] 每批 3 个文件处理
- [ ] 每 3 个文件完成后立即更新索引
- [ ] 索引条目不可变（不能增删改序号和路径）

## 通用质量检查

- [ ] 完整读取每个代码文件（不截断）
- [ ] 记录所有 public 方法的完整签名
- [ ] 类型识别正确（注解 > 继承 > 命名约定）
- [ ] 支持断点续传
- [ ] 文档格式符合模板要求
