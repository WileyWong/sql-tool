---
name: ba-02-analyzing-epics
description: 分析大型 Epic 需求并制定拆解策略，识别用户角色、评估业务价值、选择拆解维度、识别依赖风险。触发词：Epic 分析、需求拆解、用户故事拆分、史诗分析、Epic 拆分、需求分解。
---

# Epic 分析与拆解策略

深入分析 Epic 的业务价值和复杂度，制定科学合理的拆解策略，为后续用户故事编写奠定基础。

## 工作流位置

```
ba-01 业务需求提取
    ↓ 输出：业务目标、顶层用例、非功能需求
ba-02 Epic 分析 ← 当前技能
    ↓ 输出：拆解策略、用户角色分析、MVP 定义
ba-03 用户故事生成
    ↓ 输出：用户故事列表
ba-04 INVEST 评估
    ↓ 输出：评估报告、优先级排序
ba-05 验收标准
```

**上游依赖**: ba-01 输出的顶层用例
**下游使用**: ba-03 将使用本技能的拆解策略和用户角色

## 执行检查清单

复制此清单跟踪进度：

```
任务进度：
- [ ] 步骤1：理解 Epic 背景和核心目标
- [ ] 步骤2：识别和分析用户角色
- [ ] 步骤3：评估复杂度和业务价值
- [ ] 步骤4：选择拆解维度并分组
- [ ] 步骤5：定义 MVP 范围和验证指标
- [ ] 步骤6：识别依赖和风险
- [ ] 步骤7：质量验证（成功标准检查）
```

## 拆解维度选择指南

| 拆解维度 | 适用场景 | 优点 | 缺点 |
|---------|---------|------|------|
| 按用户角色 | 多角色复杂场景 | 用户视角清晰 | 可能有功能重复 |
| 按功能模块 | 功能边界清晰 | 开发友好 | 可能忽略用户体验 |
| 按工作流/场景 | 用户旅程复杂 | 端到端完整 | 可能跨越多个模块 |
| 按业务规则 | 规则差异大 | 每条规则独立验证 | 需理解所有规则 |
| 按数据变体 | 多数据类型/格式 | 渐进式交付 | 可能有重复逻辑 |
| 按操作类型 | CRUD 操作为主 | 粒度均匀 | 可能割裂用户体验 |
| 按接口/平台 | 多端适配 | 并行开发 | 需统一后端接口 |
| 混合拆解 | 大型复杂 Epic | 灵活全面 | 需要更多协调 |

## 输入材料

```
【Epic名称】

【业务背景】

【核心目标】

【主要功能点】
- 
- 
- 

【涉及用户角色】
- 
- 

【技术约束（如有）】
- 
```

## 核心输出

### 第1部分：Epic 概述分析

| 分析维度 | 内容 |
|---------|------|
| Epic 名称 | {名称} |
| Epic 类型 | 业务 Epic / 使能 Epic - {理由} |
| 业务价值 | {一句话描述核心价值} |
| 核心目标 | {要达成的主要目标} |
| 成功标准 | {如何判断成功交付} |
| 复杂度评估 | 高/中/低 - {理由} |

**Epic 类型说明**：
- **业务 Epic**：直接交付客户/用户价值的功能
- **使能 Epic**：增强技术能力、架构改进、技术债务清理

### 第2部分：用户角色分析

| 用户角色 | 角色描述 | 核心诉求 | 主要场景 | 使用频率 |
|---------|---------|---------|---------|---------|
| {角色1} | {一句话描述} | {核心痛点/需求} | {典型使用场景} | 高/中/低 |

**角色优先级排序**:
1. **核心角色**: {角色名} - {理由}
2. **重要角色**: {角色名} - {理由}
3. **次要角色**: {角色名} - {理由}

### 第3部分：Feature 定义（SAFe 实践）

**Feature 层级说明**：Feature 是可在一个 PI（Program Increment）内交付的功能单元，介于 Epic 和 User Story 之间。

| Feature ID | Feature 名称 | 业务价值 | 预估故事数 | 优先级 |
|------------|-------------|---------|-----------|--------|
| F001 | {Feature 名称} | {一句话描述价值} | {N个} | Must/Should/Could |
| F002 | {Feature 名称} | {一句话描述价值} | {N个} | Must/Should/Could |

**Feature 验收标准**（每个 Feature 应有独立的验收标准）：
- F001: {验收标准概述}
- F002: {验收标准概述}

### 第4部分：拆解策略

**推荐拆解维度**: {按用户角色/按功能模块/按使用场景/混合拆解}

**理由**: {为什么选择这个维度}

| 拆解分组 | 所属 Feature | 包含内容 | 预估故事数 | 优先级 |
|---------|-------------|---------|-----------|--------|
| {分组1} | F001 | {简要描述} | {N个} | Must/Should/Could |

**总体预估**:
- Feature 总数: {N}个
- 预估用户故事总数: {N}个
- 建议迭代数: {N}个迭代
- 核心功能占比: {X}%

### 第5部分：MVP 定义

| 维度 | 内容 |
|------|------|
| MVP 范围 | {最小可交付功能集，通常为 Must Have 故事} |
| 核心假设 | {需要通过 MVP 验证的关键业务假设} |
| 验证指标 | {如何衡量 MVP 是否成功} |
| 预计交付 | {X 个迭代} |

### 第6部分：依赖与风险

**内部依赖**:

| 依赖类型 | 依赖描述 | 影响范围 | 应对建议 |
|---------|---------|---------|---------|
| 技术依赖 | {描述} | {影响哪些故事} | {建议} |
| 业务依赖 | {描述} | {影响哪些故事} | {建议} |
| 外部依赖 | {描述} | {影响哪些故事} | {建议} |

**跨团队依赖矩阵**（企业级项目必填）:

| 依赖团队 | 依赖内容 | 交付时间要求 | 接口人 | 状态 |
|---------|---------|-------------|--------|------|
| {团队A} | {需要提供的能力/接口} | {Sprint X 前} | {接口人} | 待确认/已确认 |
| {平台团队} | {共享服务/组件} | {Sprint X 前} | {接口人} | 待确认/已确认 |

**外部系统接口依赖**:

| 外部系统 | 接口类型 | 接口状态 | 风险等级 |
|---------|---------|---------|---------|
| {系统名} | API/消息/文件 | 已有/需开发/需协调 | 高/中/低 |

**风险识别**:

| 风险点 | 风险等级 | 可能影响 | 缓解措施 |
|--------|---------|---------|---------|
| {风险1} | 高/中/低 | {影响描述} | {应对措施} |

## 质量要求

### 可追溯性（强制）
- 分析结论应关联到输入材料中的具体内容
- 推断内容标注：`（基于行业最佳实践推断，需确认）`

### 业务理解深度（强制）
- 准确提炼 Epic 的核心价值，不偏离业务目标
- 识别隐含的业务规则和约束条件
- 理解 Epic 在产品整体中的定位

### 角色分析完整性（强制）
- 覆盖所有直接和间接用户角色
- 区分核心角色和次要角色
- 明确每个角色的核心诉求和典型场景

### 策略可执行性（强制）
- 拆解维度选择有明确理由
- 预估故事数量合理（根据 Epic 规模：小型 5-10、中型 10-20、大型 20-40）
- 分组逻辑清晰，便于后续执行

## 常见分析错误

❌ **错误1**: 只关注功能，忽略用户价值
```
错误：拆解后只有技术功能点，看不到用户价值
正确：每个分组都能回答"为谁解决什么问题"
```

❌ **错误2**: 角色识别不完整
```
错误：只识别主要用户，遗漏系统管理员、运维人员等
正确：考虑所有与系统交互的角色，包括间接用户
```

❌ **错误3**: 预估故事数量过大或过小
```
错误：一个 Epic 拆出 50+ 个故事
正确：根据 Epic 规模调整（小型 5-10、中型 10-20、大型 20-40），超过 40 个需拆分 Epic
```

## 成功标准

- ✅ Epic 的业务价值和核心目标表述清晰
- ✅ 明确 Epic 类型（业务/使能）
- ✅ 识别至少 3 个主要用户角色及其核心场景
- ✅ 拆解策略有明确的维度选择和理由
- ✅ 预估用户故事数量在合理范围内
- ✅ MVP 范围和验证指标已定义
- ✅ 关键依赖和风险点已识别

## 质量验证循环

完成初稿后，执行以下验证：

1. **业务价值检查**：每个分组是否能回答"为谁解决什么问题"？
2. **角色覆盖检查**：是否遗漏了间接用户（如管理员、运维）？
3. **拆解合理性检查**：预估故事数是否在合理范围内？

**验证→修正→重复**：如发现问题，修正后重新检查，只有全部通过才输出最终文档。

## 详细参考

- **完整示例**: 见 [examples.md](examples.md)
- **拆分模式详解**: 见 [reference.md](reference.md)

## 输出格式

直接输出完整的 Epic 分析报告，包含 6 个部分。不要有任何前言或解释。

## 技术协作接口

本技能输出需与以下角色协作确认：

| 协作角色 | 协作内容 | 协作时机 |
|---------|---------|---------|
| 架构师 | 技术可行性评审、架构约束确认 | 拆解策略确定后 |
| Tech Lead | 技术方案评审、工作量预估 | Feature 定义后 |
| 测试团队 | 测试策略制定、测试资源评估 | MVP 定义后 |
| 运维团队 | 部署要求、运维约束确认 | 依赖识别时 |

## 📝 版本历史

- **v1.0** (2025-12-17): 初始版本
  - Epic 概述分析和类型识别
  - 用户角色分析和优先级排序
  - Feature 定义（SAFe 实践）
  - 拆解策略和 MVP 定义
  - 依赖与风险识别

---

**作者**: johnsonyang
