# Epic 分析参考指南

## Epic 类型说明

### 业务 Epic（Business Epic）
直接交付客户/用户价值的功能，通常包含：
- 面向终端用户的新功能
- 业务流程优化
- 用户体验改进
- 新产品/服务上线

**示例**：
- 智能访客管理系统
- 在线支付功能
- 移动端适配

### 使能 Epic（Enabler Epic）
增强技术能力、架构改进、技术债务清理，通常包含：
- 基础设施升级
- 架构重构
- 技术债务清理
- 安全合规改造

**示例**：
- 微服务架构改造
- 数据库性能优化
- 安全漏洞修复

## 拆解维度详解

### 1. 按用户角色拆分
**适用场景**：多角色复杂场景，不同角色有不同的功能需求

**示例**：
```
Epic：电商订单管理
├── 买家功能组（下单、支付、查看订单）
├── 卖家功能组（发货、退款处理）
└── 客服功能组（订单查询、纠纷处理）
```

### 2. 按工作流/场景拆分
**适用场景**：端到端业务流程，每个阶段可独立交付

**示例**：
```
Epic：访客管理
├── 预约阶段（填写信息、提交申请）
├── 审批阶段（被访人审批、自动审批）
├── 签到阶段（扫码签到、身份核验）
└── 离开阶段（签退记录、数据统计）
```

### 3. 按业务规则拆分
**适用场景**：不同规则有不同处理逻辑

**示例**：
```
Epic：折扣计算
├── 普通用户（无折扣）
├── VIP用户（9折）
├── 超级VIP（8折）
└── 促销活动（叠加折扣规则）
```

### 4. 按数据变体拆分
**适用场景**：多数据类型/格式，渐进式交付

**示例**：
```
Epic：报表导出
├── Excel格式导出
├── PDF格式导出
├── 按时间范围筛选
└── 按部门筛选
```

### 5. 按操作类型拆分（CRUD）
**适用场景**：以增删改查为主的管理功能

**示例**：
```
Epic：用户管理
├── 创建用户
├── 查看用户列表
├── 编辑用户信息
└── 删除/停用用户
```

### 6. 按接口/平台拆分
**适用场景**：多端适配，可并行开发

**示例**：
```
Epic：移动端适配
├── iOS客户端
├── Android客户端
├── 微信小程序
└── H5移动网页
```

### 7. 按功能模块拆分
**适用场景**：功能边界清晰，模块间耦合度低

**示例**：
```
Epic：CRM系统
├── 客户管理模块（客户信息、标签、分组）
├── 销售管理模块（商机、报价、合同）
├── 服务管理模块（工单、回访、满意度）
└── 报表分析模块（销售报表、客户分析）
```

**优点**：开发友好，模块可并行开发
**缺点**：可能忽略用户体验的完整性

### 8. 混合拆解
**适用场景**：大型复杂 Epic，单一维度无法覆盖

**示例**：
```
Epic：全球化入职管理平台
├── 按业务能力拆分
│   ├── 员工类型识别
│   ├── 动态表单
│   └── 审批流程
├── 按组织层级拆分
│   ├── 集团总部
│   ├── 国内分公司
│   └── 海外实体
└── 按员工类型拆分
    ├── 正式员工
    ├── 外包人员
    └── 高管
```

**优点**：灵活全面，适应复杂场景
**缺点**：需要更多协调，分组可能有交叉

---

## 拆解维度选择决策表

| 场景特征 | 推荐维度 | 理由 |
|---------|---------|------|
| 多角色、角色需求差异大 | 按用户角色 | 确保每个角色的需求完整 |
| 端到端业务流程 | 按工作流/场景 | 保证用户体验的完整性 |
| 规则复杂、规则差异大 | 按业务规则 | 每条规则独立验证 |
| 多数据类型/格式 | 按数据变体 | 渐进式交付 |
| 管理功能、CRUD 为主 | 按操作类型 | 粒度均匀 |
| 多端适配 | 按接口/平台 | 并行开发 |
| 模块边界清晰 | 按功能模块 | 开发友好 |
| 大型复杂 Epic | 混合拆解 | 灵活全面 |

## 故事数量参考

| Epic 规模 | 建议故事数 | 说明 |
|-----------|-----------|------|
| 小型 | 5-10 个 | 单一功能模块，1-2个迭代 |
| 中型 | 10-20 个 | 多角色/多场景，2-4个迭代 |
| 大型 | 20-40 个 | 跨系统/跨团队，4-8个迭代 |
| 超大型 | 考虑拆分为多个 Epic | 避免单 Epic 过大 |

## MVP 定义原则

1. **最小可行**：只包含验证核心假设所需的最少功能
2. **端到端完整**：用户能完成完整的业务流程
3. **可度量**：有明确的成功指标
4. **快速交付**：通常1-2个迭代内完成

### MVP 范围确定方法

| 步骤 | 说明 | 输出 |
|------|------|------|
| 1. 识别核心假设 | 列出需要通过 MVP 验证的关键业务假设 | 假设列表 |
| 2. 筛选 Must Have | 从 Feature 中筛选 Must Have 优先级的功能 | Must Have 列表 |
| 3. 确保端到端 | 检查 Must Have 功能是否覆盖完整业务流程 | 流程检查 |
| 4. 定义验证指标 | 为每个核心假设定义可量化的验证指标 | 指标列表 |
| 5. 估算交付时间 | 评估 MVP 所需迭代数 | 迭代计划 |

---

## Feature 定义指南

### Feature 层级说明

Feature 是 SAFe（Scaled Agile Framework）中的概念，介于 Epic 和 User Story 之间：

```
Epic（史诗）
  └── Feature（特性）
        └── User Story（用户故事）
```

| 层级 | 交付周期 | 规模 | 说明 |
|------|---------|------|------|
| Epic | 多个 PI（季度级） | 大型 | 跨团队、跨系统的大型功能 |
| Feature | 1 个 PI 内（月级） | 中型 | 可在一个 PI 内交付的功能单元 |
| User Story | 1 个 Sprint 内（周级） | 小型 | 可在一个 Sprint 内完成的故事 |

### Feature 定义模板

| 维度 | 内容 |
|------|------|
| Feature ID | F001、F002... |
| Feature 名称 | 简洁描述功能 |
| 业务价值 | 一句话描述价值（为谁解决什么问题） |
| 预估故事数 | 拆分后的用户故事数量 |
| 优先级 | Must/Should/Could |
| 验收标准 | 如何判断 Feature 交付成功 |
| 依赖 | 技术依赖、业务依赖、外部依赖 |

### Feature 验收标准编写

Feature 验收标准应满足以下要求：

| 要求 | 说明 | 示例 |
|------|------|------|
| **可量化** | 有具体的数值指标 | 预约成功率≥95% |
| **可测试** | 可通过测试验证 | 支持扫码和人脸识别 |
| **业务导向** | 从业务角度描述 | 用户可在 5 分钟内完成预约 |
| **完整性** | 覆盖主要场景 | 支持微信公众号入口 |

---

## 用户角色分析方法

### 角色识别清单

| 角色类型 | 说明 | 示例 |
|---------|------|------|
| **直接用户** | 直接使用系统的人 | 访客、买家、员工 |
| **间接用户** | 通过他人使用系统 | 被访人、卖家、经理 |
| **管理用户** | 管理和配置系统 | 系统管理员、COE专家 |
| **运维用户** | 运维和监控系统 | IT运维、安全审计员 |
| **外部用户** | 系统外部的参与者 | 供应商、第三方服务 |

### 角色分析维度

| 维度 | 问题 | 输出 |
|------|------|------|
| **角色描述** | 这个角色是谁？ | 一句话描述 |
| **核心诉求** | 这个角色最关心什么？ | 核心痛点/需求 |
| **主要场景** | 这个角色在什么场景下使用系统？ | 典型使用场景 |
| **使用频率** | 这个角色多久使用一次？ | 高/中/低 |
| **技术能力** | 这个角色的技术水平如何？ | 高/中/低 |

### 角色优先级排序

| 优先级 | 标准 | 说明 |
|-------|------|------|
| **核心角色** | 系统的主要使用者，体验直接影响系统价值 | 必须优先满足 |
| **重要角色** | 关键业务环节的参与者 | 需要重点关注 |
| **次要角色** | 使用频率低或非核心功能的用户 | 可适当简化 |

---

## 复杂度评估方法

### 复杂度评估维度

| 维度 | 低 | 中 | 高 | 极高 |
|------|-----|-----|-----|------|
| **用户角色** | 1-2个 | 3-5个 | 6-10个 | 10+个 |
| **业务规则** | 简单明确 | 有条件分支 | 规则复杂 | 规则动态可配置 |
| **系统集成** | 无/1个 | 2-5个 | 6-10个 | 10+个 |
| **数据安全** | 无敏感数据 | 有敏感数据 | 需加密存储 | 多国合规要求 |
| **性能要求** | 常规 | 中等并发 | 高并发 | 极高并发+全球部署 |
| **组织架构** | 单一团队 | 跨团队 | 跨部门 | 跨公司/跨国 |

### 复杂度综合评估

| 综合复杂度 | 判定标准 | 建议 |
|-----------|---------|------|
| **低** | 所有维度均为低 | 可快速交付 |
| **中** | 大部分维度为低/中 | 正常迭代 |
| **高** | 有2-3个维度为高 | 需重点关注高复杂度维度 |
| **极高** | 有多个维度为极高 | 考虑拆分为多个 Epic |

---

## 依赖与风险识别

### 依赖类型

| 依赖类型 | 说明 | 示例 |
|---------|------|------|
| **技术依赖** | 技术选型、架构、框架 | 规则引擎选型、动态表单框架 |
| **业务依赖** | 业务规则、流程确认 | 审批规则确认、合规要求确认 |
| **外部依赖** | 外部系统、第三方服务 | 微信公众号、门禁系统 |
| **团队依赖** | 跨团队协作 | 平台团队、安全团队 |
| **资源依赖** | 人员、设备、环境 | 测试环境、生产环境 |

### 跨团队依赖矩阵

| 依赖团队 | 依赖内容 | 交付时间要求 | 接口人 | 状态 |
|---------|---------|-------------|--------|------|
| {团队名} | {需要提供的能力/接口} | {Sprint X 前} | {接口人} | 待确认/已确认/已交付 |

### 风险识别方法

| 风险类型 | 识别问题 | 示例 |
|---------|---------|------|
| **技术风险** | 技术方案是否可行？ | 规则引擎复杂度超预期 |
| **业务风险** | 业务需求是否明确？ | 海外合规要求不明确 |
| **集成风险** | 外部系统是否可靠？ | 门禁系统接口对接延迟 |
| **性能风险** | 性能是否满足要求？ | 校招季性能压力 |
| **进度风险** | 是否能按时交付？ | 依赖团队延迟 |

### 风险等级评估

| 风险等级 | 可能性 | 影响程度 | 应对策略 |
|---------|-------|---------|---------|
| **高** | 高 | 高 | 必须制定缓解措施，持续跟踪 |
| **中** | 中 | 中 | 制定备选方案，定期检查 |
| **低** | 低 | 低 | 记录并监控 |

---

## 成功标准

完成 Epic 分析后，检查是否满足以下标准：

| 标准 | 检查项 | 状态 |
|------|--------|------|
| **业务价值清晰** | Epic 的业务价值和核心目标表述清晰 | ✅/❌ |
| **类型明确** | 明确 Epic 类型（业务/使能） | ✅/❌ |
| **角色完整** | 识别至少 3 个主要用户角色及其核心场景 | ✅/❌ |
| **策略合理** | 拆解策略有明确的维度选择和理由 | ✅/❌ |
| **数量合理** | 预估用户故事数量在合理范围内 | ✅/❌ |
| **MVP 定义** | MVP 范围和验证指标已定义 | ✅/❌ |
| **依赖识别** | 关键依赖和风险点已识别 | ✅/❌ |

**全部 ✅ 才可输出最终文档**。

---

## 常见分析错误

### 错误1：只关注功能，忽略用户价值

| 类型 | 示例 |
|------|------|
| ❌ 错误 | 拆解后只有技术功能点（用户管理、权限管理、日志管理） |
| ✅ 正确 | 每个分组都能回答"为谁解决什么问题"（访客快速预约、被访人便捷审批） |

### 错误2：角色识别不完整

| 类型 | 示例 |
|------|------|
| ❌ 错误 | 只识别主要用户（访客、被访人） |
| ✅ 正确 | 考虑所有与系统交互的角色（访客、被访人、安保人员、系统管理员） |

### 错误3：预估故事数量过大或过小

| 类型 | 示例 |
|------|------|
| ❌ 错误 | 一个 Epic 拆出 50+ 个故事 |
| ✅ 正确 | 根据 Epic 规模调整（小型 5-10、中型 10-20、大型 20-40），超过 40 个需拆分 Epic |

### 错误4：忽略依赖和风险

| 类型 | 示例 |
|------|------|
| ❌ 错误 | 只分析功能，不考虑技术依赖和外部系统 |
| ✅ 正确 | 识别所有依赖（技术/业务/外部/团队），评估风险等级，制定缓解措施 |

---

## 质量验证循环

完成初稿后，执行以下验证：

```
┌─────────────────────────────────────────────────┐
│                  质量验证循环                    │
├─────────────────────────────────────────────────┤
│  1. 业务价值检查                                 │
│     └─ 每个分组是否能回答"为谁解决什么问题"？     │
│                                                 │
│  2. 角色覆盖检查                                 │
│     └─ 是否遗漏了间接用户（如管理员、运维）？     │
│                                                 │
│  3. 拆解合理性检查                               │
│     └─ 预估故事数是否在合理范围内？              │
│                                                 │
│  4. 依赖完整性检查                               │
│     └─ 是否识别了所有关键依赖和风险？            │
│                                                 │
│  验证 → 修正 → 重复                              │
│  全部通过后输出最终文档                          │
└─────────────────────────────────────────────────┘
```

---

## 技术协作接口

本技能输出需与以下角色协作确认：

| 协作角色 | 协作内容 | 协作时机 |
|---------|---------|---------|
| 架构师 | 技术可行性评审、架构约束确认 | 拆解策略确定后 |
| Tech Lead | 技术方案评审、工作量预估 | Feature 定义后 |
| 测试团队 | 测试策略制定、测试资源评估 | MVP 定义后 |
| 运维团队 | 部署要求、运维约束确认 | 依赖识别时 |

---

## 图例说明

| 图例 | 含义 | 适用场景 |
|------|------|---------| 
| ✅ | 符合要求 | 成功标准检查通过 |
| ⚠️ | 部分符合，需改进 | 有待完善项 |
| ❌ | 不符合要求 | 检查未通过 |
