/**
 * H5/HTML页面重构后CSS模板
 * 遵循样式分层结构：设计令牌 → 重置 → 工具类 → 组件 → 布局 → 状态
 * 
 * 变量命名规范（分层策略）：
 * 
 * 1. 使用设计系统（如 TDesign）的项目：
 *    - --td-*: TDesign 官方变量，保持原样不修改
 *    - --app-*: 业务扩展变量
 *    - 桥接变量: --app-brand: var(--td-brand-color) 解耦设计系统
 * 
 * 2. 纯自定义项目：
 *    - --app-*: 应用级通用变量
 *    - --theme-*: 主题/活动定制变量
 *    - --{component}-*: 组件级变量
 */

/* ========== 第一层：设计令牌（CSS Variables） ========== */
:root {
    /* ========== 方案A：TDesign 项目（桥接模式） ========== */
    /* 
     * 如果使用 TDesign，取消下面注释，将 --app-* 桥接到 --td-*
     * 这样可以在不修改组件库的情况下，统一使用 --app-* 前缀
     *
     * --app-brand-color: var(--td-brand-color);
     * --app-text-primary: var(--td-text-color-primary);
     * --app-text-anti: var(--td-text-color-anti);
     * --app-bg-container: var(--td-bg-color-container);
     * --app-bg-page: var(--td-bg-color-page);
     * --app-radius-sm: var(--td-radius-medium);
     * --app-radius-lg: var(--td-radius-extraLarge);
     * --app-shadow-sm: var(--td-shadow-2);
     * --app-shadow-md: var(--td-shadow-3);
     */
    
    /* ========== 方案B：纯自定义项目 ========== */
    /* ---------- 基础设计令牌 ---------- */
    /* 品牌色 */
    --app-brand-color: #125FFF;
    --app-brand-hover: #4080FF;
    --app-brand-active: #0052D9;
    
    /* 功能色 */
    --app-success-color: #2BA471;
    --app-warning-color: #FF9C12;
    --app-error-color: #D54941;
    
    /* 文字色 */
    --app-text-primary: rgba(0,0,0,0.9);
    --app-text-secondary: rgba(0,0,0,0.6);
    --app-text-placeholder: rgba(0,0,0,0.4);
    --app-text-disabled: rgba(0,0,0,0.26);
    --app-text-anti: #FFFFFF;
    
    /* 背景色 */
    --app-bg-container: #FFFFFF;
    --app-bg-page: #F5F7FA;
    --app-bg-component: #F0F1F2;
    
    /* 圆角 */
    --app-radius-xs: 3px;
    --app-radius-sm: 6px;
    --app-radius-md: 9px;
    --app-radius-lg: 12px;
    --app-radius-round: 50%;
    
    /* 阴影 */
    --app-shadow-xs: 0 1px 4px rgba(0,0,0,0.05);
    --app-shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
    --app-shadow-md: 0 4px 16px rgba(0,0,0,0.12);
    
    /* 间距（8的倍数体系） */
    --app-space-1: 2px;
    --app-space-2: 4px;
    --app-space-xs: 8px;
    --app-space-sm: 16px;
    --app-space-md: 24px;
    --app-space-lg: 32px;
    --app-space-xl: 40px;
    --app-space-2xl: 48px;
    
    /* ---------- 语义化令牌（活动/业务定制） ---------- */
    /* 主题渐变 */
    --app-theme-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --app-theme-start: #667eea;
    --app-theme-end: #764ba2;
    
    /* 页面背景渐变 */
    --app-bg-gradient: linear-gradient(180deg, #667eea 0%, #764ba2 50%, var(--app-bg-page) 100%);
    
    /* ---------- 组件级令牌 ---------- */
    /* 卡片 */
    --card-bg: var(--app-bg-container);
    --card-radius: var(--app-radius-lg);
    --card-shadow: var(--app-shadow-md);
    --card-padding: var(--app-space-2xl) var(--app-space-lg);
    --card-padding-compact: var(--app-space-xl) var(--app-space-lg);
    
    /* 头像 */
    --avatar-bg: var(--app-theme-gradient);
    --avatar-color: var(--app-text-anti);
    
    /* 按钮 */
    --btn-radius: var(--app-radius-sm);
    --btn-padding: 12px 24px;
    --btn-padding-sm: 8px 16px;
    --btn-padding-lg: 16px 32px;
}

/* ========== 暗色模式支持 ========== */
@media (prefers-color-scheme: dark) {
    :root {
        --app-bg-container: #1a1a1a;
        --app-bg-page: #121212;
        --app-bg-component: #2a2a2a;
        --app-text-primary: rgba(255,255,255,0.9);
        --app-text-secondary: rgba(255,255,255,0.6);
        --app-text-placeholder: rgba(255,255,255,0.4);
        --app-shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
        --app-shadow-md: 0 4px 16px rgba(0,0,0,0.4);
    }
}

/* ========== 第二层：基础重置 ========== */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.5;
    color: var(--app-text-primary);
    background-color: var(--app-bg-page);
}

/* ========== 第三层：通用工具类 ========== */

/* 布局工具类 */
.flex { display: flex; }
.flex-center { display: flex; align-items: center; justify-content: center; }
.flex-between { display: flex; align-items: center; justify-content: space-between; }
.flex-col { display: flex; flex-direction: column; }
.flex-col-center { display: flex; flex-direction: column; align-items: center; }
.flex-wrap { flex-wrap: wrap; }
.flex-1 { flex: 1; }

/* 文本工具类 */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }
.text-ellipsis { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* 间距工具类 */
.mt-xs { margin-top: var(--app-space-xs); }
.mt-sm { margin-top: var(--app-space-sm); }
.mt-md { margin-top: var(--app-space-md); }
.mb-xs { margin-bottom: var(--app-space-xs); }
.mb-sm { margin-bottom: var(--app-space-sm); }
.mb-md { margin-bottom: var(--app-space-md); }
.p-xs { padding: var(--app-space-xs); }
.p-sm { padding: var(--app-space-sm); }
.p-md { padding: var(--app-space-md); }
.px-sm { padding-left: var(--app-space-sm); padding-right: var(--app-space-sm); }
.py-sm { padding-top: var(--app-space-sm); padding-bottom: var(--app-space-sm); }

/* 尺寸工具类 */
.w-full { width: 100%; }
.h-full { height: 100%; }
.min-h-screen { min-height: 100vh; }

/* ========== 第四层：组件样式 ========== */

/* 页面容器 */
.page-base {
    min-height: 100vh;
    background: var(--app-bg-gradient);
}
.page-default { padding: 60px 20px; }
.page-centered { padding: 40px 20px; justify-content: center; }

/* 卡片组件 */
.card-base {
    background: var(--card-bg);
    border-radius: var(--card-radius);
    max-width: 320px;
    width: 100%;
}
.card-default { 
    padding: var(--card-padding); 
    box-shadow: var(--card-shadow); 
}
.card-compact { 
    padding: var(--card-padding-compact); 
    box-shadow: var(--app-shadow-sm); 
}

/* 头像组件 */
.avatar-base { 
    border-radius: var(--app-radius-round); 
    background: var(--avatar-bg);
    color: var(--avatar-color);
}
.avatar-sm { width: 60px; height: 60px; font-size: 28px; }
.avatar-md { width: 80px; height: 80px; font-size: 40px; }
.avatar-lg { width: 100px; height: 100px; font-size: 48px; }

/* 数据卡片 */
.data-card {
    background: var(--app-theme-gradient);
    border-radius: var(--app-radius-md);
    padding: var(--app-space-md);
    color: var(--app-text-anti);
    text-align: center;
}
.data-card .count {
    font-size: 48px;
    font-weight: 700;
    margin-bottom: var(--app-space-xs);
}
.data-card .label {
    font-size: 14px;
    opacity: 0.85;
}

/* 按钮组件 */
.btn-base {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--btn-padding);
    border-radius: var(--btn-radius);
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    text-decoration: none;
}
.btn-primary {
    background: var(--app-theme-gradient);
    color: var(--app-text-anti);
}
.btn-secondary {
    background: var(--app-bg-container);
    color: var(--app-theme-start);
    border: 1px solid var(--app-theme-start);
}
.btn-ghost {
    background: transparent;
    color: var(--app-text-anti);
    border: 1px solid rgba(255,255,255,0.5);
}
.btn-sm { padding: var(--btn-padding-sm); font-size: 14px; }
.btn-lg { padding: var(--btn-padding-lg); font-size: 18px; }

/* ========== 第五层：页面布局 ========== */

/* 深色背景文字样式 */
.text-on-dark {
    color: var(--app-text-anti);
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}
.text-on-dark-secondary {
    color: rgba(255,255,255,0.85);
}
.text-on-dark-tertiary {
    color: rgba(255,255,255,0.7);
}

/* 页面标题 */
.page-title { 
    font-size: 28px;
    font-weight: 600;
    color: var(--app-text-anti);
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    margin-bottom: var(--app-space-xs);
}
.page-desc { 
    font-size: 16px;
    color: rgba(255,255,255,0.85);
    margin-bottom: var(--app-space-lg);
}
.page-tip {
    font-size: 14px;
    color: rgba(255,255,255,0.7);
}

/* ========== 第六层：状态修饰 ========== */

/* 悬停状态 - 使用transform/opacity触发GPU加速 */
.btn-primary:hover { opacity: 0.9; transform: translateY(-1px); }
.btn-secondary:hover { background: var(--app-bg-component); }
.btn-ghost:hover { background: rgba(255,255,255,0.1); }
.card-base:hover { box-shadow: var(--app-shadow-md); }

/* 激活状态 */
.btn-primary:active { opacity: 0.8; transform: translateY(0); }
.btn-secondary:active { background: var(--app-bg-page); }

/* 禁用状态 */
.btn-base:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

/* 动画效果 */
.fade-in {
    animation: fadeIn 0.3s ease-out;
}
.slide-up {
    animation: slideUp 0.4s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ========== 响应式断点 ========== */
@media (min-width: 768px) {
    .card-base { max-width: 400px; }
    .page-title { font-size: 32px; }
    .page-desc { font-size: 18px; }
}

@media (min-width: 992px) {
    .card-base { max-width: 480px; }
}
