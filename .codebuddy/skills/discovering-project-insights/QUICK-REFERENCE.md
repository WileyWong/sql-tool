# 快速参考卡

打印或收藏此卡快速查阅

## 🎯 我应该用这个技能吗?

| 场景 | 用? | 方式 |
|------|-----|------|
| 代码review时发现问题 | ❌ | 直接修复 |
| 新项目启动前快速检查 | ✅ | 快速体检 |
| 季度技术评估 | ✅ | 标准诊断 |
| 融资前审查 | ✅ | 快速体检 |
| 计划大重构 | ✅ | 深度诊断 |
| 技术栈升级决策 | ✅ | 规划诊断 |
| 团队能力建设规划 | ✅ | 定向诊断 |

## ⏱️ 诊断类型速查表

| 类型 | 时间 | 焦点 | 工具 | 输出 |
|------|------|------|------|------|
| **快速** | 30 分 | P0 问题 | Explore+Bash | 问题清单 |
| **标准** | 2-4 小时 | 全面诊断 | 全套工具 | 诊断报告 |
| **深度** | 1 天 | 规划方案 | 深度分析 | 方案+规划 |

## 🔧 工具快速查询

```
架构问题?     → Task (Explore)
代码缺陷?     → Grep 搜索
结构缺失?     → Glob 检查
需求问题?     → Read 文档
需要采集意见? → AskUserQuestion
质量指标?     → Bash 脚本
如何组织?     → TodoWrite
```

## 📋 诊断清单 (打印版)

### 快速体检 (30 分钟)

```
□ 架构:      用 Task 扫描  →  5 分钟
□ 文件:      用 Glob 检查  →  5 分钟
□ 质量:      用 Bash 检查  →  5 分钟
□ 风险:      用 Grep 搜索  →  5 分钟
□ 整理:      用 Todo 记录  →  5 分钟
□ 输出:      生成摘要      →  5 分钟
```

### 标准诊断 (2-4 小时)

```
准备阶段:
□ 基本信息采集 (15 分钟)
□ 诊断焦点确认 (5 分钟)

诊断阶段:
□ 架构分析   (30 分钟)
□ 代码质量   (30 分钟)
□ 需求验证   (30 分钟)
□ 技术栈评估 (30 分钟)

输出阶段:
□ 问题聚类   (15 分钟)
□ 方案生成   (30 分钟)
□ 报告整理   (30 分钟)
```

## 🔍 常见搜索模式

### 代码质量

```bash
# SQL 注入
grep -r "execute.*\".*\+|String.*query"

# 硬编码密钥
grep -r "password\|secret\|token" | grep "= \""

# 异常处理缺失
grep -r "public.*{" | grep -v try

# TODO 和 FIXME
grep -r "TODO\|FIXME"
```

### 结构检查

```bash
glob "**/controller/**"    # Controller 层
glob "**/service/**"       # Service 层
glob "**/repository/**"    # Repository 层
glob "**/config/**"        # 配置模块
glob "**/test/**"          # 测试代码
```

## 📊 优先级判断矩阵

```
      影响
      高 ┌──────────────────┐
        │ P0 立即 │ P0 立即 │
        ├─────────┼─────────┤
      低 │ P1 近期 │ P1 近期 │
        └──────────────────┘
        低影响   高影响范围
```

### 优先级判断

- **P0** (立即): 高风险 + 高影响 = 立即修复
- **P1** (近期): 中等风险或影响 = 1-2 周内处理
- **P2** (计划): 低风险 + 低影响 = 后续优化

## 💡 常见问题 FAQ

**Q: 诊断要花多久?**  
A: 取决于深度。快速体检 30 分钟，标准诊断 2-4 小时，深度诊断 1 天。

**Q: 需要什么准备?**  
A: 了解项目基本情况，获得代码访问权限，可选: 架构文档。

**Q: 诊断后怎么办?**  
A: 转换为任务清单，按优先级执行，3-6 个月后再诊断。

**Q: 多少人应该参与?**  
A: 最少 1 人 (架构师)，最好 3-5 人 (技术/产品/运维)。

**Q: 诊断需要中断业务吗?**  
A: 不需要，可以在开发之余进行诊断。

**Q: 诊断结果如何共享?**  
A: 生成诊断报告，开评审会，获得团队认可。

## 🎯 诊断焦点速查

想诊断什么? 用什么工具?

| 想了解 | 工具 | 提示 |
|--------|------|------|
| 架构是否合理 | Task | 10 分钟快速扫描 |
| 代码有无缺陷 | Grep | 搜索风险模式 |
| 文件组织是否完整 | Glob | 检查目录缺失 |
| 需求是否完整 | Read | 查看需求文档 |
| 生产有何约束 | AskUserQuestion | 采集运维意见 |
| 质量数据 | Bash | 运行 lint/test |
| 团队如何看待 | AskUserQuestion | 多角色访谈 |

## 📞 需要帮助?

| 问题 | 查看文件 |
|------|---------|
| 工具怎么用? | tools-integration-guide.md |
| 看真实案例 | examples.md |
| 报告怎么写? | templates/diagnostic-report-template.md |
| 问卷怎么问? | templates/diagnostic-questionnaire.md |
| 详细文档 | SKILL.md |
| 项目指南 | README.md |

## ⚡ 30 秒快速开始

```
1. 用 Task (Explore) 快速扫描架构    (5 分钟)
   ↓
2. 用 Grep 搜索常见风险              (5 分钟)
   ↓
3. 用 Bash 获取质量指标              (5 分钟)
   ↓
4. 用 TodoWrite 整理发现             (5 分钟)
   ↓
5. 用 AskUserQuestion 采集意见       (5 分钟)
   ↓
6. 整理成 1 页摘要报告               (5 分钟)
```

**总用时: 30 分钟** ✓

## 🎓 进阶技巧

1. **分批诊断**: 一次聚焦 1-2 个维度，避免信息过载
2. **并行工具**: Bash 脚本和 Grep 可同时运行
3. **快速迭代**: 根据发现调整诊断方向
4. **多角色视角**: 采集不同角色的意见
5. **文档积累**: 把诊断结果保存为团队知识

## 📌 记住这三个关键数字

- **30 分钟**: 快速体检的目标时间
- **3 维度**: 诊断最重要的 3 个方面 (架构/代码/需求)
- **5 个问题**: 核心关注的 5 大问题

---

**版本**: v1.0 | **打印日期**: 2025-01-05

